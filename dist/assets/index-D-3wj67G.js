(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();var bu={exports:{}},lr={};var dm;function Yg(){if(dm)return lr;dm=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(o,c,h){var d=null;if(h!==void 0&&(d=""+h),c.key!==void 0&&(d=""+c.key),"key"in c){h={};for(var p in c)p!=="key"&&(h[p]=c[p])}else h=c;return c=h.ref,{$$typeof:r,type:o,key:d,ref:c!==void 0?c:null,props:h}}return lr.Fragment=a,lr.jsx=s,lr.jsxs=s,lr}var fm;function Pg(){return fm||(fm=1,bu.exports=Yg()),bu.exports}var m=Pg(),Su={exports:{}},se={};var mm;function Kg(){if(mm)return se;mm=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function G(x,L,M){this.props=x,this.context=L,this.refs=U,this.updater=M||C}G.prototype.isReactComponent={},G.prototype.setState=function(x,L){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,L,"setState")},G.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function $(){}$.prototype=G.prototype;function q(x,L,M){this.props=x,this.context=L,this.refs=U,this.updater=M||C}var X=q.prototype=new $;X.constructor=q,O(X,G.prototype),X.isPureReactComponent=!0;var ye=Array.isArray;function Z(){}var P={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function Me(x,L,M){var H=M.ref;return{$$typeof:r,type:x,key:L,ref:H!==void 0?H:null,props:M}}function vn(x,L){return Me(x.type,L,x.props)}function Ot(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function Ie(x){var L={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(M){return L[M]})}var it=/\/+/g;function Ht(x,L){return typeof x=="object"&&x!==null&&x.key!=null?Ie(""+x.key):L.toString(36)}function ot(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Z,Z):(x.status="pending",x.then(function(L){x.status==="pending"&&(x.status="fulfilled",x.value=L)},function(L){x.status==="pending"&&(x.status="rejected",x.reason=L)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function D(x,L,M,H,V){var te=typeof x;(te==="undefined"||te==="boolean")&&(x=null);var ie=!1;if(x===null)ie=!0;else switch(te){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(x.$$typeof){case r:case a:ie=!0;break;case S:return ie=x._init,D(ie(x._payload),L,M,H,V)}}if(ie)return V=V(x),ie=H===""?"."+Ht(x,0):H,ye(V)?(M="",ie!=null&&(M=ie.replace(it,"$&/")+"/"),D(V,L,M,"",function(pi){return pi})):V!=null&&(Ot(V)&&(V=vn(V,M+(V.key==null||x&&x.key===V.key?"":(""+V.key).replace(it,"$&/")+"/")+ie)),L.push(V)),1;ie=0;var Pe=H===""?".":H+":";if(ye(x))for(var ke=0;ke<x.length;ke++)H=x[ke],te=Pe+Ht(H,ke),ie+=D(H,L,M,te,V);else if(ke=T(x),typeof ke=="function")for(x=ke.call(x),ke=0;!(H=x.next()).done;)H=H.value,te=Pe+Ht(H,ke++),ie+=D(H,L,M,te,V);else if(te==="object"){if(typeof x.then=="function")return D(ot(x),L,M,H,V);throw L=String(x),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ie}function W(x,L,M){if(x==null)return x;var H=[],V=0;return D(x,H,"","",function(te){return L.call(M,te,V++)}),H}function ee(x){if(x._status===-1){var L=x._result;L=L(),L.then(function(M){(x._status===0||x._status===-1)&&(x._status=1,x._result=M)},function(M){(x._status===0||x._status===-1)&&(x._status=2,x._result=M)}),x._status===-1&&(x._status=0,x._result=L)}if(x._status===1)return x._result.default;throw x._result}var we=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ge={map:W,forEach:function(x,L,M){W(x,function(){L.apply(this,arguments)},M)},count:function(x){var L=0;return W(x,function(){L++}),L},toArray:function(x){return W(x,function(L){return L})||[]},only:function(x){if(!Ot(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return se.Activity=b,se.Children=ge,se.Component=G,se.Fragment=s,se.Profiler=c,se.PureComponent=q,se.StrictMode=o,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,se.__COMPILER_RUNTIME={__proto__:null,c:function(x){return P.H.useMemoCache(x)}},se.cache=function(x){return function(){return x.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(x,L,M){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var H=O({},x.props),V=x.key;if(L!=null)for(te in L.key!==void 0&&(V=""+L.key),L)!Te.call(L,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&L.ref===void 0||(H[te]=L[te]);var te=arguments.length-2;if(te===1)H.children=M;else if(1<te){for(var ie=Array(te),Pe=0;Pe<te;Pe++)ie[Pe]=arguments[Pe+2];H.children=ie}return Me(x.type,V,H)},se.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},se.createElement=function(x,L,M){var H,V={},te=null;if(L!=null)for(H in L.key!==void 0&&(te=""+L.key),L)Te.call(L,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(V[H]=L[H]);var ie=arguments.length-2;if(ie===1)V.children=M;else if(1<ie){for(var Pe=Array(ie),ke=0;ke<ie;ke++)Pe[ke]=arguments[ke+2];V.children=Pe}if(x&&x.defaultProps)for(H in ie=x.defaultProps,ie)V[H]===void 0&&(V[H]=ie[H]);return Me(x,te,V)},se.createRef=function(){return{current:null}},se.forwardRef=function(x){return{$$typeof:p,render:x}},se.isValidElement=Ot,se.lazy=function(x){return{$$typeof:S,_payload:{_status:-1,_result:x},_init:ee}},se.memo=function(x,L){return{$$typeof:g,type:x,compare:L===void 0?null:L}},se.startTransition=function(x){var L=P.T,M={};P.T=M;try{var H=x(),V=P.S;V!==null&&V(M,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Z,we)}catch(te){we(te)}finally{L!==null&&M.types!==null&&(L.types=M.types),P.T=L}},se.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},se.use=function(x){return P.H.use(x)},se.useActionState=function(x,L,M){return P.H.useActionState(x,L,M)},se.useCallback=function(x,L){return P.H.useCallback(x,L)},se.useContext=function(x){return P.H.useContext(x)},se.useDebugValue=function(){},se.useDeferredValue=function(x,L){return P.H.useDeferredValue(x,L)},se.useEffect=function(x,L){return P.H.useEffect(x,L)},se.useEffectEvent=function(x){return P.H.useEffectEvent(x)},se.useId=function(){return P.H.useId()},se.useImperativeHandle=function(x,L,M){return P.H.useImperativeHandle(x,L,M)},se.useInsertionEffect=function(x,L){return P.H.useInsertionEffect(x,L)},se.useLayoutEffect=function(x,L){return P.H.useLayoutEffect(x,L)},se.useMemo=function(x,L){return P.H.useMemo(x,L)},se.useOptimistic=function(x,L){return P.H.useOptimistic(x,L)},se.useReducer=function(x,L,M){return P.H.useReducer(x,L,M)},se.useRef=function(x){return P.H.useRef(x)},se.useState=function(x){return P.H.useState(x)},se.useSyncExternalStore=function(x,L,M){return P.H.useSyncExternalStore(x,L,M)},se.useTransition=function(){return P.H.useTransition()},se.version="19.2.3",se}var pm;function Zu(){return pm||(pm=1,Su.exports=Kg()),Su.exports}var re=Zu(),_u={exports:{}},ur={},xu={exports:{}},Cu={};var ym;function Qg(){return ym||(ym=1,(function(r){function a(D,W){var ee=D.length;D.push(W);e:for(;0<ee;){var we=ee-1>>>1,ge=D[we];if(0<c(ge,W))D[we]=W,D[ee]=ge,ee=we;else break e}}function s(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var W=D[0],ee=D.pop();if(ee!==W){D[0]=ee;e:for(var we=0,ge=D.length,x=ge>>>1;we<x;){var L=2*(we+1)-1,M=D[L],H=L+1,V=D[H];if(0>c(M,ee))H<ge&&0>c(V,M)?(D[we]=V,D[H]=ee,we=H):(D[we]=M,D[L]=ee,we=L);else if(H<ge&&0>c(V,ee))D[we]=V,D[H]=ee,we=H;else break e}}return W}function c(D,W){var ee=D.sortIndex-W.sortIndex;return ee!==0?ee:D.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],g=[],S=1,b=null,E=3,T=!1,C=!1,O=!1,U=!1,G=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function X(D){for(var W=s(g);W!==null;){if(W.callback===null)o(g);else if(W.startTime<=D)o(g),W.sortIndex=W.expirationTime,a(y,W);else break;W=s(g)}}function ye(D){if(O=!1,X(D),!C)if(s(y)!==null)C=!0,Z||(Z=!0,Ie());else{var W=s(g);W!==null&&ot(ye,W.startTime-D)}}var Z=!1,P=-1,Te=5,Me=-1;function vn(){return U?!0:!(r.unstable_now()-Me<Te)}function Ot(){if(U=!1,Z){var D=r.unstable_now();Me=D;var W=!0;try{e:{C=!1,O&&(O=!1,$(P),P=-1),T=!0;var ee=E;try{t:{for(X(D),b=s(y);b!==null&&!(b.expirationTime>D&&vn());){var we=b.callback;if(typeof we=="function"){b.callback=null,E=b.priorityLevel;var ge=we(b.expirationTime<=D);if(D=r.unstable_now(),typeof ge=="function"){b.callback=ge,X(D),W=!0;break t}b===s(y)&&o(y),X(D)}else o(y);b=s(y)}if(b!==null)W=!0;else{var x=s(g);x!==null&&ot(ye,x.startTime-D),W=!1}}break e}finally{b=null,E=ee,T=!1}W=void 0}}finally{W?Ie():Z=!1}}}var Ie;if(typeof q=="function")Ie=function(){q(Ot)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Ht=it.port2;it.port1.onmessage=Ot,Ie=function(){Ht.postMessage(null)}}else Ie=function(){G(Ot,0)};function ot(D,W){P=G(function(){D(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(D){D.callback=null},r.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<D?Math.floor(1e3/D):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(D){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var ee=E;E=W;try{return D()}finally{E=ee}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ee=E;E=D;try{return W()}finally{E=ee}},r.unstable_scheduleCallback=function(D,W,ee){var we=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?we+ee:we):ee=we,D){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ee+ge,D={id:S++,callback:W,priorityLevel:D,startTime:ee,expirationTime:ge,sortIndex:-1},ee>we?(D.sortIndex=ee,a(g,D),s(y)===null&&D===s(g)&&(O?($(P),P=-1):O=!0,ot(ye,ee-we))):(D.sortIndex=ge,a(y,D),C||T||(C=!0,Z||(Z=!0,Ie()))),D},r.unstable_shouldYield=vn,r.unstable_wrapCallback=function(D){var W=E;return function(){var ee=E;E=W;try{return D.apply(this,arguments)}finally{E=ee}}}})(Cu)),Cu}var gm;function Jg(){return gm||(gm=1,xu.exports=Qg()),xu.exports}var Au={exports:{}},rt={};var vm;function Xg(){if(vm)return rt;vm=1;var r=Zu();function a(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(y,g,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:y,containerInfo:g,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,rt.createPortal=function(y,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return h(y,g,null,S)},rt.flushSync=function(y){var g=d.T,S=o.p;try{if(d.T=null,o.p=2,y)return y()}finally{d.T=g,o.p=S,o.d.f()}},rt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(y,g))},rt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},rt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var S=g.as,b=p(S,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?o.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:T}):S==="script"&&o.d.X(y,{crossOrigin:b,integrity:E,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=p(g.as,g.crossOrigin);o.d.M(y,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(y)},rt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,b=p(S,g.crossOrigin);o.d.L(y,S,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rt.preloadModule=function(y,g){if(typeof y=="string")if(g){var S=p(g.as,g.crossOrigin);o.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(y)},rt.requestFormReset=function(y){o.d.r(y)},rt.unstable_batchedUpdates=function(y,g){return y(g)},rt.useFormState=function(y,g,S){return d.H.useFormState(y,g,S)},rt.useFormStatus=function(){return d.H.useHostTransitionStatus()},rt.version="19.2.3",rt}var wm;function Zg(){if(wm)return Au.exports;wm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Au.exports=Xg(),Au.exports}var bm;function Fg(){if(bm)return ur;bm=1;var r=Jg(),a=Zu(),s=Zg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return y(l),e;if(u===i)return y(l),t;u=u.sibling}throw Error(o(188))}if(n.return!==i.return)n=l,i=u;else{for(var f=!1,v=l.child;v;){if(v===n){f=!0,n=l,i=u;break}if(v===i){f=!0,i=l,n=u;break}v=v.sibling}if(!f){for(v=u.child;v;){if(v===n){f=!0,n=u,i=l;break}if(v===i){f=!0,i=u,n=l;break}v=v.sibling}if(!f)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Me=Symbol.for("react.activity"),vn=Symbol.for("react.memo_cache_sentinel"),Ot=Symbol.iterator;function Ie(e){return e===null||typeof e!="object"?null:(e=Ot&&e[Ot]||e["@@iterator"],typeof e=="function"?e:null)}var it=Symbol.for("react.client.reference");function Ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===it?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case G:return"Profiler";case U:return"StrictMode";case ye:return"Suspense";case Z:return"SuspenseList";case Me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case q:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:Ht(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return Ht(e(t))}catch{}}return null}var ot=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},we=[],ge=-1;function x(e){return{current:e}}function L(e){0>ge||(e.current=we[ge],we[ge]=null,ge--)}function M(e,t){ge++,we[ge]=e.current,e.current=t}var H=x(null),V=x(null),te=x(null),ie=x(null);function Pe(e,t){switch(M(te,t),M(V,e),M(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Df(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Df(t),e=Bf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(H),M(H,e)}function ke(){L(H),L(V),L(te)}function pi(e){e.memoizedState!==null&&M(ie,e);var t=H.current,n=Bf(t,e.type);t!==n&&(M(V,e),M(H,n))}function Sr(e){V.current===e&&(L(H),L(V)),ie.current===e&&(L(ie),ir._currentValue=ee)}var to,cc;function Pn(e){if(to===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);to=t&&t[1]||"",cc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+e+cc}var no=!1;function ao(e,t){if(!e||no)return"";no=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(I){var R=I}Reflect.construct(e,[],z)}else{try{z.call()}catch(I){R=I}e.call(z.prototype)}}else{try{throw Error()}catch(I){R=I}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(I){if(I&&R&&typeof I.stack=="string")return[I.stack,R.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),f=u[0],v=u[1];if(f&&v){var w=f.split(`
`),j=v.split(`
`);for(l=i=0;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;for(;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;if(i===w.length||l===j.length)for(i=w.length-1,l=j.length-1;1<=i&&0<=l&&w[i]!==j[l];)l--;for(;1<=i&&0<=l;i--,l--)if(w[i]!==j[l]){if(i!==1||l!==1)do if(i--,l--,0>l||w[i]!==j[l]){var N=`
`+w[i].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=i&&0<=l);break}}}finally{no=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Pn(n):""}function xp(e,t){switch(e.tag){case 26:case 27:case 5:return Pn(e.type);case 16:return Pn("Lazy");case 13:return e.child!==t&&t!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return ao(e.type,!1);case 11:return ao(e.type.render,!1);case 1:return ao(e.type,!0);case 31:return Pn("Activity");default:return""}}function hc(e){try{var t="",n=null;do t+=xp(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var io=Object.prototype.hasOwnProperty,ro=r.unstable_scheduleCallback,so=r.unstable_cancelCallback,Cp=r.unstable_shouldYield,Ap=r.unstable_requestPaint,pt=r.unstable_now,Ep=r.unstable_getCurrentPriorityLevel,dc=r.unstable_ImmediatePriority,fc=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,Tp=r.unstable_LowPriority,mc=r.unstable_IdlePriority,kp=r.log,Op=r.unstable_setDisableYieldValue,yi=null,yt=null;function wn(e){if(typeof kp=="function"&&Op(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(yi,e)}catch{}}var gt=Math.clz32?Math.clz32:Ip,jp=Math.log,Rp=Math.LN2;function Ip(e){return e>>>=0,e===0?32:31-(jp(e)/Rp|0)|0}var xr=256,Cr=262144,Ar=4194304;function Kn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Er(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~u,i!==0?l=Kn(i):(f&=v,f!==0?l=Kn(f):n||(n=v&~e,n!==0&&(l=Kn(n))))):(v=i&~u,v!==0?l=Kn(v):f!==0?l=Kn(f):n||(n=i&~e,n!==0&&(l=Kn(n)))),l===0?0:t!==0&&t!==l&&(t&u)===0&&(u=l&-l,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:l}function gi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Np(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pc(){var e=Ar;return Ar<<=1,(Ar&62914560)===0&&(Ar=4194304),e}function oo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mp(e,t,n,i,l,u){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,j=e.hiddenUpdates;for(n=f&~n;0<n;){var N=31-gt(n),z=1<<N;v[N]=0,w[N]=-1;var R=j[N];if(R!==null)for(j[N]=null,N=0;N<R.length;N++){var I=R[N];I!==null&&(I.lane&=-536870913)}n&=~z}i!==0&&yc(e,i,0),u!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function yc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-gt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-gt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}function vc(e,t){var n=t&-t;return n=(n&42)!==0?1:lo(n),(n&(e.suspendedLanes|t))!==0?0:n}function lo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wc(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:rm(e.type))}function bc(e,t){var n=W.p;try{return W.p=e,t()}finally{W.p=n}}var bn=Math.random().toString(36).slice(2),Je="__reactFiber$"+bn,lt="__reactProps$"+bn,wa="__reactContainer$"+bn,co="__reactEvents$"+bn,Dp="__reactListeners$"+bn,Bp="__reactHandles$"+bn,Sc="__reactResources$"+bn,wi="__reactMarker$"+bn;function ho(e){delete e[Je],delete e[lt],delete e[co],delete e[Dp],delete e[Bp]}function ba(e){var t=e[Je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wa]||n[Je]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wf(e);e!==null;){if(n=e[Je])return n;e=Wf(e)}return t}e=n,n=e.parentNode}return null}function Sa(e){if(e=e[Je]||e[wa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function bi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function _a(e){var t=e[Sc];return t||(t=e[Sc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[wi]=!0}var _c=new Set,xc={};function Qn(e,t){xa(e,t),xa(e+"Capture",t)}function xa(e,t){for(xc[e]=t,e=0;e<t.length;e++)_c.add(t[e])}var Up=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},Ac={};function zp(e){return io.call(Ac,e)?!0:io.call(Cc,e)?!1:Up.test(e)?Ac[e]=!0:(Cc[e]=!0,!1)}function Tr(e,t,n){if(zp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function kr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Xt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ec(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lp(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){n=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fo(e){if(!e._valueTracker){var t=Ec(e)?"checked":"value";e._valueTracker=Lp(e,t,""+e[t])}}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ec(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hp=/[\n"\\]/g;function Rt(e){return e.replace(Hp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mo(e,t,n,i,l,u,f,v){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?po(e,f,jt(t)):n!=null?po(e,f,jt(n)):i!=null&&e.removeAttribute("value"),l==null&&u!=null&&(e.defaultChecked=!!u),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+jt(v):e.removeAttribute("name")}function kc(e,t,n,i,l,u,f,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){fo(e);return}n=n!=null?""+jt(n):"",t=t!=null?""+jt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),fo(e)}function po(e,t,n){t==="number"&&Or(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ca(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+jt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Oc(e,t,n){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+jt(n):""}function jc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(o(92));if(ot(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=jt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),fo(e)}function Aa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||qp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ic(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var l in t)i=t[l],t.hasOwnProperty(l)&&n[l]!==i&&Rc(e,l,i)}else for(var u in t)t.hasOwnProperty(u)&&Rc(e,u,t[u])}function yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jr(e){return Wp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var go=null;function vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ea=null,Ta=null;function Nc(e){var t=Sa(e);if(t&&(e=t.stateNode)){var n=e[lt]||null;e:switch(e=t.stateNode,t.type){case"input":if(mo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=i[lt]||null;if(!l)throw Error(o(90));mo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Tc(i)}break e;case"textarea":Oc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ca(e,!!n.multiple,t,!1)}}}var wo=!1;function Mc(e,t,n){if(wo)return e(t,n);wo=!0;try{var i=e(t);return i}finally{if(wo=!1,(Ea!==null||Ta!==null)&&(gs(),Ea&&(t=Ea,e=Ta,Ta=Ea=null,Nc(t),e)))for(t=0;t<e.length;t++)Nc(e[t])}}function Si(e,t){var n=e.stateNode;if(n===null)return null;var i=n[lt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(Ft)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){bo=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{bo=!1}var Sn=null,So=null,Rr=null;function Dc(){if(Rr)return Rr;var e,t=So,n=t.length,i,l="value"in Sn?Sn.value:Sn.textContent,u=l.length;for(e=0;e<n&&t[e]===l[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===l[u-i];i++);return Rr=l.slice(e,1<i?1-i:void 0)}function Ir(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nr(){return!0}function Bc(){return!1}function ut(e){function t(n,i,l,u,f){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Nr:Bc,this.isPropagationStopped=Bc,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=ut(Jn),xi=b({},Jn,{view:0,detail:0}),$p=ut(xi),_o,xo,Ci,Dr=b({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(_o=e.screenX-Ci.screenX,xo=e.screenY-Ci.screenY):xo=_o=0,Ci=e),_o)},movementY:function(e){return"movementY"in e?e.movementY:xo}}),Uc=ut(Dr),Vp=b({},Dr,{dataTransfer:0}),Yp=ut(Vp),Pp=b({},xi,{relatedTarget:0}),Co=ut(Pp),Kp=b({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qp=ut(Kp),Jp=b({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xp=ut(Jp),Zp=b({},Jn,{data:0}),zc=ut(Zp),Fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ny(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ty[e])?!!t[e]:!1}function Ao(){return ny}var ay=b({},xi,{key:function(e){if(e.key){var t=Fp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ey[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?Ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iy=ut(ay),ry=b({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lc=ut(ry),sy=b({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),oy=ut(sy),ly=b({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),uy=ut(ly),cy=b({},Dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hy=ut(cy),dy=b({},Jn,{newState:0,oldState:0}),fy=ut(dy),my=[9,13,27,32],Eo=Ft&&"CompositionEvent"in window,Ai=null;Ft&&"documentMode"in document&&(Ai=document.documentMode);var py=Ft&&"TextEvent"in window&&!Ai,Hc=Ft&&(!Eo||Ai&&8<Ai&&11>=Ai),qc=" ",Gc=!1;function Wc(e,t){switch(e){case"keyup":return my.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ka=!1;function yy(e,t){switch(e){case"compositionend":return $c(t);case"keypress":return t.which!==32?null:(Gc=!0,qc);case"textInput":return e=t.data,e===qc&&Gc?null:e;default:return null}}function gy(e,t){if(ka)return e==="compositionend"||!Eo&&Wc(e,t)?(e=Dc(),Rr=So=Sn=null,ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hc&&t.locale!=="ko"?null:t.data;default:return null}}var vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vy[e.type]:t==="textarea"}function Yc(e,t,n,i){Ea?Ta?Ta.push(i):Ta=[i]:Ea=i,t=Cs(t,"onChange"),0<t.length&&(n=new Mr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ei=null,Ti=null;function wy(e){Of(e,0)}function Br(e){var t=bi(e);if(Tc(t))return e}function Pc(e,t){if(e==="change")return t}var Kc=!1;if(Ft){var To;if(Ft){var ko="oninput"in document;if(!ko){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),ko=typeof Qc.oninput=="function"}To=ko}else To=!1;Kc=To&&(!document.documentMode||9<document.documentMode)}function Jc(){Ei&&(Ei.detachEvent("onpropertychange",Xc),Ti=Ei=null)}function Xc(e){if(e.propertyName==="value"&&Br(Ti)){var t=[];Yc(t,Ti,e,vo(e)),Mc(wy,t)}}function by(e,t,n){e==="focusin"?(Jc(),Ei=t,Ti=n,Ei.attachEvent("onpropertychange",Xc)):e==="focusout"&&Jc()}function Sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Br(Ti)}function _y(e,t){if(e==="click")return Br(t)}function xy(e,t){if(e==="input"||e==="change")return Br(t)}function Cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Cy;function ki(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!io.call(t,l)||!vt(e[l],t[l]))return!1}return!0}function Zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var n=Zc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zc(n)}}function eh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function th(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Or(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Or(e.document)}return t}function Oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ay=Ft&&"documentMode"in document&&11>=document.documentMode,Oa=null,jo=null,Oi=null,Ro=!1;function nh(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ro||Oa==null||Oa!==Or(i)||(i=Oa,"selectionStart"in i&&Oo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oi&&ki(Oi,i)||(Oi=i,i=Cs(jo,"onSelect"),0<i.length&&(t=new Mr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Oa)))}function Xn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:Xn("Animation","AnimationEnd"),animationiteration:Xn("Animation","AnimationIteration"),animationstart:Xn("Animation","AnimationStart"),transitionrun:Xn("Transition","TransitionRun"),transitionstart:Xn("Transition","TransitionStart"),transitioncancel:Xn("Transition","TransitionCancel"),transitionend:Xn("Transition","TransitionEnd")},Io={},ah={};Ft&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Zn(e){if(Io[e])return Io[e];if(!ja[e])return e;var t=ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ah)return Io[e]=t[n];return e}var ih=Zn("animationend"),rh=Zn("animationiteration"),sh=Zn("animationstart"),Ey=Zn("transitionrun"),Ty=Zn("transitionstart"),ky=Zn("transitioncancel"),oh=Zn("transitionend"),lh=new Map,No="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");No.push("scrollEnd");function qt(e,t){lh.set(e,t),Qn(t,[e])}var Ur=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Ra=0,Mo=0;function zr(){for(var e=Ra,t=Mo=Ra=0;t<e;){var n=It[t];It[t++]=null;var i=It[t];It[t++]=null;var l=It[t];It[t++]=null;var u=It[t];if(It[t++]=null,i!==null&&l!==null){var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}u!==0&&uh(n,l,u)}}function Lr(e,t,n,i){It[Ra++]=e,It[Ra++]=t,It[Ra++]=n,It[Ra++]=i,Mo|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Do(e,t,n,i){return Lr(e,t,n,i),Hr(e)}function Fn(e,t){return Lr(e,null,null,t),Hr(e)}function uh(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var l=!1,u=e.return;u!==null;)u.childLanes|=n,i=u.alternate,i!==null&&(i.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(l=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,l&&t!==null&&(l=31-gt(n),e=u.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=n|536870912),u):null}function Hr(e){if(50<Xi)throw Xi=0,$l=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ia={};function Oy(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,i){return new Oy(e,t,n,i)}function Bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function en(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ch(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,i,l,u){var f=0;if(i=e,typeof e=="function")Bo(e)&&(f=1);else if(typeof e=="string")f=Mg(e,n,H.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Me:return e=wt(31,n,t,l),e.elementType=Me,e.lanes=u,e;case O:return ea(n.children,l,u,t);case U:f=8,l|=24;break;case G:return e=wt(12,n,t,l|2),e.elementType=G,e.lanes=u,e;case ye:return e=wt(13,n,t,l),e.elementType=ye,e.lanes=u,e;case Z:return e=wt(19,n,t,l),e.elementType=Z,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:f=10;break e;case $:f=9;break e;case X:f=11;break e;case P:f=14;break e;case Te:f=16,i=null;break e}f=29,n=Error(o(130,e===null?"null":typeof e,"")),i=null}return t=wt(f,n,t,l),t.elementType=e,t.type=i,t.lanes=u,t}function ea(e,t,n,i){return e=wt(7,e,i,t),e.lanes=n,e}function Uo(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function hh(e){var t=wt(18,null,null,0);return t.stateNode=e,t}function zo(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var dh=new WeakMap;function Nt(e,t){if(typeof e=="object"&&e!==null){var n=dh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:hc(t)},dh.set(e,t),t)}return{value:e,source:t,stack:hc(t)}}var Na=[],Ma=0,Gr=null,ji=0,Mt=[],Dt=0,_n=null,Pt=1,Kt="";function tn(e,t){Na[Ma++]=ji,Na[Ma++]=Gr,Gr=e,ji=t}function fh(e,t,n){Mt[Dt++]=Pt,Mt[Dt++]=Kt,Mt[Dt++]=_n,_n=e;var i=Pt;e=Kt;var l=32-gt(i)-1;i&=~(1<<l),n+=1;var u=32-gt(t)+l;if(30<u){var f=l-l%5;u=(i&(1<<f)-1).toString(32),i>>=f,l-=f,Pt=1<<32-gt(t)+l|n<<l|i,Kt=u+e}else Pt=1<<u|n<<l|i,Kt=e}function Lo(e){e.return!==null&&(tn(e,1),fh(e,1,0))}function Ho(e){for(;e===Gr;)Gr=Na[--Ma],Na[Ma]=null,ji=Na[--Ma],Na[Ma]=null;for(;e===_n;)_n=Mt[--Dt],Mt[Dt]=null,Kt=Mt[--Dt],Mt[Dt]=null,Pt=Mt[--Dt],Mt[Dt]=null}function mh(e,t){Mt[Dt++]=Pt,Mt[Dt++]=Kt,Mt[Dt++]=_n,Pt=t.id,Kt=t.overflow,_n=e}var Xe=null,Oe=null,fe=!1,xn=null,Bt=!1,qo=Error(o(519));function Cn(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ri(Nt(t,e)),qo}function ph(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Je]=e,t[lt]=i,n){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(n=0;n<Fi.length;n++)ce(Fi[n],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),kc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),jc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Nf(t.textContent,n)?(i.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),i.onScroll!=null&&ce("scroll",t),i.onScrollEnd!=null&&ce("scrollend",t),i.onClick!=null&&(t.onclick=Zt),t=!0):t=!1,t||Cn(e,!0)}function yh(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:Xe=Xe.return}}function Da(e){if(e!==Xe)return!1;if(!fe)return yh(e),fe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ru(e.type,e.memoizedProps)),n=!n),n&&Oe&&Cn(e),yh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Oe=Gf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Oe=Gf(e)}else t===27?(t=Oe,zn(e.type)?(e=cu,cu=null,Oe=e):Oe=t):Oe=Xe?zt(e.stateNode.nextSibling):null;return!0}function ta(){Oe=Xe=null,fe=!1}function Go(){var e=xn;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),xn=null),e}function Ri(e){xn===null?xn=[e]:xn.push(e)}var Wo=x(null),na=null,nn=null;function An(e,t,n){M(Wo,t._currentValue),t._currentValue=n}function an(e){e._currentValue=Wo.current,L(Wo)}function $o(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t,n,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){var f=l.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=l;for(var w=0;w<t.length;w++)if(v.context===t[w]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),$o(u.return,n,e),i||(f=null);break e}u=v.next}}else if(l.tag===18){if(f=l.return,f===null)throw Error(o(341));f.lanes|=n,u=f.alternate,u!==null&&(u.lanes|=n),$o(f,n,e),f=null}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===e){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}}function Ba(e,t,n,i){e=null;for(var l=t,u=!1;l!==null;){if(!u){if((l.flags&524288)!==0)u=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var f=l.alternate;if(f===null)throw Error(o(387));if(f=f.memoizedProps,f!==null){var v=l.type;vt(l.pendingProps.value,f.value)||(e!==null?e.push(v):e=[v])}}else if(l===ie.current){if(f=l.alternate,f===null)throw Error(o(387));f.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ir):e=[ir])}l=l.return}e!==null&&Vo(t,e,n,i),t.flags|=262144}function Wr(e){for(e=e.firstContext;e!==null;){if(!vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){na=e,nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return gh(na,e)}function $r(e,t){return na===null&&aa(e),gh(e,t)}function gh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},nn===null){if(e===null)throw Error(o(308));nn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else nn=nn.next=t;return n}var jy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ry=r.unstable_scheduleCallback,Iy=r.unstable_NormalPriority,He={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yo(){return{controller:new jy,data:new Map,refCount:0}}function Ii(e){e.refCount--,e.refCount===0&&Ry(Iy,function(){e.controller.abort()})}var Ni=null,Po=0,Ua=0,za=null;function Ny(e,t){if(Ni===null){var n=Ni=[];Po=0,Ua=Jl(),za={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Po++,t.then(vh,vh),t}function vh(){if(--Po===0&&Ni!==null){za!==null&&(za.status="fulfilled");var e=Ni;Ni=null,Ua=0,za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function My(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var wh=D.S;D.S=function(e,t){nf=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ny(e,t),wh!==null&&wh(e,t)};var ia=x(null);function Ko(){var e=ia.current;return e!==null?e:Ae.pooledCache}function Vr(e,t){t===null?M(ia,ia.current):M(ia,t.pool)}function bh(){var e=Ko();return e===null?null:{parent:He._currentValue,pool:e}}var La=Error(o(460)),Qo=Error(o(474)),Yr=Error(o(542)),Pr={then:function(){}};function Sh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _h(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Zt,Zt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ch(e),e;default:if(typeof t.status=="string")t.then(Zt,Zt);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ch(e),e}throw sa=t,La}}function ra(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(sa=n,La):n}}var sa=null;function xh(){if(sa===null)throw Error(o(459));var e=sa;return sa=null,e}function Ch(e){if(e===La||e===Yr)throw Error(o(483))}var Ha=null,Mi=0;function Kr(e){var t=Mi;return Mi+=1,Ha===null&&(Ha=[]),_h(Ha,e,t)}function Di(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qr(e,t){throw t.$$typeof===E?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ah(e){function t(A,_){if(e){var k=A.deletions;k===null?(A.deletions=[_],A.flags|=16):k.push(_)}}function n(A,_){if(!e)return null;for(;_!==null;)t(A,_),_=_.sibling;return null}function i(A){for(var _=new Map;A!==null;)A.key!==null?_.set(A.key,A):_.set(A.index,A),A=A.sibling;return _}function l(A,_){return A=en(A,_),A.index=0,A.sibling=null,A}function u(A,_,k){return A.index=k,e?(k=A.alternate,k!==null?(k=k.index,k<_?(A.flags|=67108866,_):k):(A.flags|=67108866,_)):(A.flags|=1048576,_)}function f(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function v(A,_,k,B){return _===null||_.tag!==6?(_=Uo(k,A.mode,B),_.return=A,_):(_=l(_,k),_.return=A,_)}function w(A,_,k,B){var J=k.type;return J===O?N(A,_,k.props.children,B,k.key):_!==null&&(_.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Te&&ra(J)===_.type)?(_=l(_,k.props),Di(_,k),_.return=A,_):(_=qr(k.type,k.key,k.props,null,A.mode,B),Di(_,k),_.return=A,_)}function j(A,_,k,B){return _===null||_.tag!==4||_.stateNode.containerInfo!==k.containerInfo||_.stateNode.implementation!==k.implementation?(_=zo(k,A.mode,B),_.return=A,_):(_=l(_,k.children||[]),_.return=A,_)}function N(A,_,k,B,J){return _===null||_.tag!==7?(_=ea(k,A.mode,B,J),_.return=A,_):(_=l(_,k),_.return=A,_)}function z(A,_,k){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Uo(""+_,A.mode,k),_.return=A,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case T:return k=qr(_.type,_.key,_.props,null,A.mode,k),Di(k,_),k.return=A,k;case C:return _=zo(_,A.mode,k),_.return=A,_;case Te:return _=ra(_),z(A,_,k)}if(ot(_)||Ie(_))return _=ea(_,A.mode,k,null),_.return=A,_;if(typeof _.then=="function")return z(A,Kr(_),k);if(_.$$typeof===q)return z(A,$r(A,_),k);Qr(A,_)}return null}function R(A,_,k,B){var J=_!==null?_.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return J!==null?null:v(A,_,""+k,B);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return k.key===J?w(A,_,k,B):null;case C:return k.key===J?j(A,_,k,B):null;case Te:return k=ra(k),R(A,_,k,B)}if(ot(k)||Ie(k))return J!==null?null:N(A,_,k,B,null);if(typeof k.then=="function")return R(A,_,Kr(k),B);if(k.$$typeof===q)return R(A,_,$r(A,k),B);Qr(A,k)}return null}function I(A,_,k,B,J){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return A=A.get(k)||null,v(_,A,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return A=A.get(B.key===null?k:B.key)||null,w(_,A,B,J);case C:return A=A.get(B.key===null?k:B.key)||null,j(_,A,B,J);case Te:return B=ra(B),I(A,_,k,B,J)}if(ot(B)||Ie(B))return A=A.get(k)||null,N(_,A,B,J,null);if(typeof B.then=="function")return I(A,_,k,Kr(B),J);if(B.$$typeof===q)return I(A,_,k,$r(_,B),J);Qr(_,B)}return null}function Y(A,_,k,B){for(var J=null,me=null,K=_,le=_=0,de=null;K!==null&&le<k.length;le++){K.index>le?(de=K,K=null):de=K.sibling;var pe=R(A,K,k[le],B);if(pe===null){K===null&&(K=de);break}e&&K&&pe.alternate===null&&t(A,K),_=u(pe,_,le),me===null?J=pe:me.sibling=pe,me=pe,K=de}if(le===k.length)return n(A,K),fe&&tn(A,le),J;if(K===null){for(;le<k.length;le++)K=z(A,k[le],B),K!==null&&(_=u(K,_,le),me===null?J=K:me.sibling=K,me=K);return fe&&tn(A,le),J}for(K=i(K);le<k.length;le++)de=I(K,A,le,k[le],B),de!==null&&(e&&de.alternate!==null&&K.delete(de.key===null?le:de.key),_=u(de,_,le),me===null?J=de:me.sibling=de,me=de);return e&&K.forEach(function(Wn){return t(A,Wn)}),fe&&tn(A,le),J}function F(A,_,k,B){if(k==null)throw Error(o(151));for(var J=null,me=null,K=_,le=_=0,de=null,pe=k.next();K!==null&&!pe.done;le++,pe=k.next()){K.index>le?(de=K,K=null):de=K.sibling;var Wn=R(A,K,pe.value,B);if(Wn===null){K===null&&(K=de);break}e&&K&&Wn.alternate===null&&t(A,K),_=u(Wn,_,le),me===null?J=Wn:me.sibling=Wn,me=Wn,K=de}if(pe.done)return n(A,K),fe&&tn(A,le),J;if(K===null){for(;!pe.done;le++,pe=k.next())pe=z(A,pe.value,B),pe!==null&&(_=u(pe,_,le),me===null?J=pe:me.sibling=pe,me=pe);return fe&&tn(A,le),J}for(K=i(K);!pe.done;le++,pe=k.next())pe=I(K,A,le,pe.value,B),pe!==null&&(e&&pe.alternate!==null&&K.delete(pe.key===null?le:pe.key),_=u(pe,_,le),me===null?J=pe:me.sibling=pe,me=pe);return e&&K.forEach(function(Vg){return t(A,Vg)}),fe&&tn(A,le),J}function Ce(A,_,k,B){if(typeof k=="object"&&k!==null&&k.type===O&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case T:e:{for(var J=k.key;_!==null;){if(_.key===J){if(J=k.type,J===O){if(_.tag===7){n(A,_.sibling),B=l(_,k.props.children),B.return=A,A=B;break e}}else if(_.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Te&&ra(J)===_.type){n(A,_.sibling),B=l(_,k.props),Di(B,k),B.return=A,A=B;break e}n(A,_);break}else t(A,_);_=_.sibling}k.type===O?(B=ea(k.props.children,A.mode,B,k.key),B.return=A,A=B):(B=qr(k.type,k.key,k.props,null,A.mode,B),Di(B,k),B.return=A,A=B)}return f(A);case C:e:{for(J=k.key;_!==null;){if(_.key===J)if(_.tag===4&&_.stateNode.containerInfo===k.containerInfo&&_.stateNode.implementation===k.implementation){n(A,_.sibling),B=l(_,k.children||[]),B.return=A,A=B;break e}else{n(A,_);break}else t(A,_);_=_.sibling}B=zo(k,A.mode,B),B.return=A,A=B}return f(A);case Te:return k=ra(k),Ce(A,_,k,B)}if(ot(k))return Y(A,_,k,B);if(Ie(k)){if(J=Ie(k),typeof J!="function")throw Error(o(150));return k=J.call(k),F(A,_,k,B)}if(typeof k.then=="function")return Ce(A,_,Kr(k),B);if(k.$$typeof===q)return Ce(A,_,$r(A,k),B);Qr(A,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,_!==null&&_.tag===6?(n(A,_.sibling),B=l(_,k),B.return=A,A=B):(n(A,_),B=Uo(k,A.mode,B),B.return=A,A=B),f(A)):n(A,_)}return function(A,_,k,B){try{Mi=0;var J=Ce(A,_,k,B);return Ha=null,J}catch(K){if(K===La||K===Yr)throw K;var me=wt(29,K,null,A.mode);return me.lanes=B,me.return=A,me}}}var oa=Ah(!0),Eh=Ah(!1),En=!1;function Jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ve&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=Hr(e),uh(e,null,n),t}return Lr(e,i,t,n),Hr(e)}function Bi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gc(e,n)}}function Zo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?l=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?l=u=t:u=u.next=t}else l=u=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Fo=!1;function Ui(){if(Fo){var e=za;if(e!==null)throw e}}function zi(e,t,n,i){Fo=!1;var l=e.updateQueue;En=!1;var u=l.firstBaseUpdate,f=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var w=v,j=w.next;w.next=null,f===null?u=j:f.next=j,f=w;var N=e.alternate;N!==null&&(N=N.updateQueue,v=N.lastBaseUpdate,v!==f&&(v===null?N.firstBaseUpdate=j:v.next=j,N.lastBaseUpdate=w))}if(u!==null){var z=l.baseState;f=0,N=j=w=null,v=u;do{var R=v.lane&-536870913,I=R!==v.lane;if(I?(he&R)===R:(i&R)===R){R!==0&&R===Ua&&(Fo=!0),N!==null&&(N=N.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Y=e,F=v;R=t;var Ce=n;switch(F.tag){case 1:if(Y=F.payload,typeof Y=="function"){z=Y.call(Ce,z,R);break e}z=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=F.payload,R=typeof Y=="function"?Y.call(Ce,z,R):Y,R==null)break e;z=b({},z,R);break e;case 2:En=!0}}R=v.callback,R!==null&&(e.flags|=64,I&&(e.flags|=8192),I=l.callbacks,I===null?l.callbacks=[R]:I.push(R))}else I={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},N===null?(j=N=I,w=z):N=N.next=I,f|=R;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;I=v,v=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(!0);N===null&&(w=z),l.baseState=w,l.firstBaseUpdate=j,l.lastBaseUpdate=N,u===null&&(l.shared.lanes=0),Nn|=f,e.lanes=f,e.memoizedState=z}}function Th(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function kh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Th(n[e],t)}var qa=x(null),Jr=x(0);function Oh(e,t){e=fn,M(Jr,e),M(qa,t),fn=e|t.baseLanes}function el(){M(Jr,fn),M(qa,qa.current)}function tl(){fn=Jr.current,L(qa),L(Jr)}var bt=x(null),Ut=null;function On(e){var t=e.alternate;M(ze,ze.current&1),M(bt,e),Ut===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&(Ut=e)}function nl(e){M(ze,ze.current),M(bt,e),Ut===null&&(Ut=e)}function jh(e){e.tag===22?(M(ze,ze.current),M(bt,e),Ut===null&&(Ut=e)):jn()}function jn(){M(ze,ze.current),M(bt,bt.current)}function St(e){L(bt),Ut===e&&(Ut=null),L(ze)}var ze=x(0);function Xr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||lu(n)||uu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rn=0,oe=null,_e=null,qe=null,Zr=!1,Ga=!1,la=!1,Fr=0,Li=0,Wa=null,Dy=0;function De(){throw Error(o(321))}function al(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function il(e,t,n,i,l,u){return rn=u,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?fd:wl,la=!1,u=n(i,l),la=!1,Ga&&(u=Ih(t,n,i,l)),Rh(e),u}function Rh(e){D.H=Gi;var t=_e!==null&&_e.next!==null;if(rn=0,qe=_e=oe=null,Zr=!1,Li=0,Wa=null,t)throw Error(o(300));e===null||Ge||(e=e.dependencies,e!==null&&Wr(e)&&(Ge=!0))}function Ih(e,t,n,i){oe=e;var l=0;do{if(Ga&&(Wa=null),Li=0,Ga=!1,25<=l)throw Error(o(301));if(l+=1,qe=_e=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=md,u=t(n,i)}while(Ga);return u}function By(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Hi(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(oe.flags|=1024),t}function rl(){var e=Fr!==0;return Fr=0,e}function sl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ol(e){if(Zr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zr=!1}rn=0,qe=_e=oe=null,Ga=!1,Li=Fr=0,Wa=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?oe.memoizedState=qe=e:qe=qe.next=e,qe}function Le(){if(_e===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=qe===null?oe.memoizedState:qe.next;if(t!==null)qe=t,_e=e;else{if(e===null)throw oe.alternate===null?Error(o(467)):Error(o(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},qe===null?oe.memoizedState=qe=e:qe=qe.next=e}return qe}function es(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hi(e){var t=Li;return Li+=1,Wa===null&&(Wa=[]),e=_h(Wa,e,t),t=oe,(qe===null?t.memoizedState:qe.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?fd:wl),e}function ts(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hi(e);if(e.$$typeof===q)return Ze(e)}throw Error(o(438,String(e)))}function ll(e){var t=null,n=oe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=oe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=es(),oe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=vn;return t.index++,n}function sn(e,t){return typeof t=="function"?t(e):t}function ns(e){var t=Le();return ul(t,_e,e)}function ul(e,t,n){var i=e.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=n;var l=e.baseQueue,u=i.pending;if(u!==null){if(l!==null){var f=l.next;l.next=u.next,u.next=f}t.baseQueue=l=u,i.pending=null}if(u=e.baseState,l===null)e.memoizedState=u;else{t=l.next;var v=f=null,w=null,j=t,N=!1;do{var z=j.lane&-536870913;if(z!==j.lane?(he&z)===z:(rn&z)===z){var R=j.revertLane;if(R===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),z===Ua&&(N=!0);else if((rn&R)===R){j=j.next,R===Ua&&(N=!0);continue}else z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(v=w=z,f=u):w=w.next=z,oe.lanes|=R,Nn|=R;z=j.action,la&&n(u,z),u=j.hasEagerState?j.eagerState:n(u,z)}else R={lane:z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(v=w=R,f=u):w=w.next=R,oe.lanes|=z,Nn|=z;j=j.next}while(j!==null&&j!==t);if(w===null?f=u:w.next=v,!vt(u,e.memoizedState)&&(Ge=!0,N&&(n=za,n!==null)))throw n;e.memoizedState=u,e.baseState=f,e.baseQueue=w,i.lastRenderedState=u}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function cl(e){var t=Le(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,u=t.memoizedState;if(l!==null){n.pending=null;var f=l=l.next;do u=e(u,f.action),f=f.next;while(f!==l);vt(u,t.memoizedState)||(Ge=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function Nh(e,t,n){var i=oe,l=Le(),u=fe;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var f=!vt((_e||l).memoizedState,n);if(f&&(l.memoizedState=n,Ge=!0),l=l.queue,fl(Bh.bind(null,i,l,e),[e]),l.getSnapshot!==t||f||qe!==null&&qe.memoizedState.tag&1){if(i.flags|=2048,$a(9,{destroy:void 0},Dh.bind(null,i,l,n,t),null),Ae===null)throw Error(o(349));u||(rn&127)!==0||Mh(i,t,n)}return n}function Mh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t=es(),oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dh(e,t,n,i){t.value=n,t.getSnapshot=i,Uh(t)&&zh(e)}function Bh(e,t,n){return n(function(){Uh(t)&&zh(e)})}function Uh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function zh(e){var t=Fn(e,2);t!==null&&mt(t,e,2)}function hl(e){var t=st();if(typeof e=="function"){var n=e;if(e=n(),la){wn(!0);try{n()}finally{wn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:e},t}function Lh(e,t,n,i){return e.baseState=n,ul(e,_e,typeof i=="function"?i:sn)}function Uy(e,t,n,i,l){if(rs(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};D.T!==null?n(!0):u.isTransition=!1,i(u),n=t.pending,n===null?(u.next=t.pending=u,Hh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Hh(e,t){var n=t.action,i=t.payload,l=e.state;if(t.isTransition){var u=D.T,f={};D.T=f;try{var v=n(l,i),w=D.S;w!==null&&w(f,v),qh(e,t,v)}catch(j){dl(e,t,j)}finally{u!==null&&f.types!==null&&(u.types=f.types),D.T=u}}else try{u=n(l,i),qh(e,t,u)}catch(j){dl(e,t,j)}}function qh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Gh(e,t,i)},function(i){return dl(e,t,i)}):Gh(e,t,n)}function Gh(e,t,n){t.status="fulfilled",t.value=n,Wh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Hh(e,n)))}function dl(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Wh(t),t=t.next;while(t!==i)}e.action=null}function Wh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $h(e,t){return t}function Vh(e,t){if(fe){var n=Ae.formState;if(n!==null){e:{var i=oe;if(fe){if(Oe){t:{for(var l=Oe,u=Bt;l.nodeType!==8;){if(!u){l=null;break t}if(l=zt(l.nextSibling),l===null){l=null;break t}}u=l.data,l=u==="F!"||u==="F"?l:null}if(l){Oe=zt(l.nextSibling),i=l.data==="F!";break e}}Cn(i)}i=!1}i&&(t=n[0])}}return n=st(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$h,lastRenderedState:t},n.queue=i,n=cd.bind(null,oe,i),i.dispatch=n,i=hl(!1),u=vl.bind(null,oe,!1,i.queue),i=st(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,n=Uy.bind(null,oe,l,u,n),l.dispatch=n,i.memoizedState=e,[t,n,!1]}function Yh(e){var t=Le();return Ph(t,_e,e)}function Ph(e,t,n){if(t=ul(e,t,$h)[0],e=ns(sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Hi(t)}catch(f){throw f===La?Yr:f}else i=t;t=Le();var l=t.queue,u=l.dispatch;return n!==t.memoizedState&&(oe.flags|=2048,$a(9,{destroy:void 0},zy.bind(null,l,n),null)),[i,u,e]}function zy(e,t){e.action=t}function Kh(e){var t=Le(),n=_e;if(n!==null)return Ph(t,n,e);Le(),t=t.memoizedState,n=Le();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function $a(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=oe.updateQueue,t===null&&(t=es(),oe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Qh(){return Le().memoizedState}function as(e,t,n,i){var l=st();oe.flags|=e,l.memoizedState=$a(1|t,{destroy:void 0},n,i===void 0?null:i)}function is(e,t,n,i){var l=Le();i=i===void 0?null:i;var u=l.memoizedState.inst;_e!==null&&i!==null&&al(i,_e.memoizedState.deps)?l.memoizedState=$a(t,u,n,i):(oe.flags|=e,l.memoizedState=$a(1|t,u,n,i))}function Jh(e,t){as(8390656,8,e,t)}function fl(e,t){is(2048,8,e,t)}function Ly(e){oe.flags|=4;var t=oe.updateQueue;if(t===null)t=es(),oe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Xh(e){var t=Le().memoizedState;return Ly({ref:t,nextImpl:e}),function(){if((ve&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Zh(e,t){return is(4,2,e,t)}function Fh(e,t){return is(4,4,e,t)}function ed(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function td(e,t,n){n=n!=null?n.concat([e]):null,is(4,4,ed.bind(null,t,e),n)}function ml(){}function nd(e,t){var n=Le();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&al(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ad(e,t){var n=Le();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&al(t,i[1]))return i[0];if(i=e(),la){wn(!0);try{e()}finally{wn(!1)}}return n.memoizedState=[i,t],i}function pl(e,t,n){return n===void 0||(rn&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=rf(),oe.lanes|=e,Nn|=e,n)}function id(e,t,n,i){return vt(n,t)?n:qa.current!==null?(e=pl(e,n,i),vt(e,t)||(Ge=!0),e):(rn&42)===0||(rn&1073741824)!==0&&(he&261930)===0?(Ge=!0,e.memoizedState=n):(e=rf(),oe.lanes|=e,Nn|=e,t)}function rd(e,t,n,i,l){var u=W.p;W.p=u!==0&&8>u?u:8;var f=D.T,v={};D.T=v,vl(e,!1,t,n);try{var w=l(),j=D.S;if(j!==null&&j(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var N=My(w,i);qi(e,t,N,Ct(e))}else qi(e,t,i,Ct(e))}catch(z){qi(e,t,{then:function(){},status:"rejected",reason:z},Ct())}finally{W.p=u,f!==null&&v.types!==null&&(f.types=v.types),D.T=f}}function Hy(){}function yl(e,t,n,i){if(e.tag!==5)throw Error(o(476));var l=sd(e).queue;rd(e,l,t,ee,n===null?Hy:function(){return od(e),n(i)})}function sd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function od(e){var t=sd(e);t.next===null&&(t=e.alternate.memoizedState),qi(e,t.next.queue,{},Ct())}function gl(){return Ze(ir)}function ld(){return Le().memoizedState}function ud(){return Le().memoizedState}function qy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ct();e=Tn(n);var i=kn(t,e,n);i!==null&&(mt(i,t,n),Bi(i,t,n)),t={cache:Yo()},e.payload=t;return}t=t.return}}function Gy(e,t,n){var i=Ct();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e)?hd(t,n):(n=Do(e,t,n,i),n!==null&&(mt(n,e,i),dd(n,t,i)))}function cd(e,t,n){var i=Ct();qi(e,t,n,i)}function qi(e,t,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))hd(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,v=u(f,n);if(l.hasEagerState=!0,l.eagerState=v,vt(v,f))return Lr(e,t,l,0),Ae===null&&zr(),!1}catch{}if(n=Do(e,t,l,i),n!==null)return mt(n,e,i),dd(n,t,i),!0}return!1}function vl(e,t,n,i){if(i={lane:2,revertLane:Jl(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},rs(e)){if(t)throw Error(o(479))}else t=Do(e,n,i,2),t!==null&&mt(t,e,2)}function rs(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function hd(e,t){Ga=Zr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dd(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,gc(e,n)}}var Gi={readContext:Ze,use:ts,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De};Gi.useEffectEvent=De;var fd={readContext:Ze,use:ts,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:Jh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,as(4194308,4,ed.bind(null,t,e),n)},useLayoutEffect:function(e,t){return as(4194308,4,e,t)},useInsertionEffect:function(e,t){as(4,2,e,t)},useMemo:function(e,t){var n=st();t=t===void 0?null:t;var i=e();if(la){wn(!0);try{e()}finally{wn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=st();if(n!==void 0){var l=n(t);if(la){wn(!0);try{n(t)}finally{wn(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=Gy.bind(null,oe,e),[i.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=hl(e);var t=e.queue,n=cd.bind(null,oe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ml,useDeferredValue:function(e,t){var n=st();return pl(n,e,t)},useTransition:function(){var e=hl(!1);return e=rd.bind(null,oe,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=oe,l=st();if(fe){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ae===null)throw Error(o(349));(he&127)!==0||Mh(i,t,n)}l.memoizedState=n;var u={value:n,getSnapshot:t};return l.queue=u,Jh(Bh.bind(null,i,u,e),[e]),i.flags|=2048,$a(9,{destroy:void 0},Dh.bind(null,i,u,n,t),null),n},useId:function(){var e=st(),t=Ae.identifierPrefix;if(fe){var n=Kt,i=Pt;n=(i&~(1<<32-gt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Fr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Dy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:gl,useFormState:Vh,useActionState:Vh,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vl.bind(null,oe,!0,n),n.dispatch=t,[e,t]},useMemoCache:ll,useCacheRefresh:function(){return st().memoizedState=qy.bind(null,oe)},useEffectEvent:function(e){var t=st(),n={impl:e};return t.memoizedState=n,function(){if((ve&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},wl={readContext:Ze,use:ts,useCallback:nd,useContext:Ze,useEffect:fl,useImperativeHandle:td,useInsertionEffect:Zh,useLayoutEffect:Fh,useMemo:ad,useReducer:ns,useRef:Qh,useState:function(){return ns(sn)},useDebugValue:ml,useDeferredValue:function(e,t){var n=Le();return id(n,_e.memoizedState,e,t)},useTransition:function(){var e=ns(sn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Hi(e),t]},useSyncExternalStore:Nh,useId:ld,useHostTransitionStatus:gl,useFormState:Yh,useActionState:Yh,useOptimistic:function(e,t){var n=Le();return Lh(n,_e,e,t)},useMemoCache:ll,useCacheRefresh:ud};wl.useEffectEvent=Xh;var md={readContext:Ze,use:ts,useCallback:nd,useContext:Ze,useEffect:fl,useImperativeHandle:td,useInsertionEffect:Zh,useLayoutEffect:Fh,useMemo:ad,useReducer:cl,useRef:Qh,useState:function(){return cl(sn)},useDebugValue:ml,useDeferredValue:function(e,t){var n=Le();return _e===null?pl(n,e,t):id(n,_e.memoizedState,e,t)},useTransition:function(){var e=cl(sn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Hi(e),t]},useSyncExternalStore:Nh,useId:ld,useHostTransitionStatus:gl,useFormState:Kh,useActionState:Kh,useOptimistic:function(e,t){var n=Le();return _e!==null?Lh(n,_e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ll,useCacheRefresh:ud};md.useEffectEvent=Xh;function bl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sl={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ct(),l=Tn(i);l.payload=t,n!=null&&(l.callback=n),t=kn(e,l,i),t!==null&&(mt(t,e,i),Bi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ct(),l=Tn(i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=kn(e,l,i),t!==null&&(mt(t,e,i),Bi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),i=Tn(n);i.tag=2,t!=null&&(i.callback=t),t=kn(e,i,n),t!==null&&(mt(t,e,n),Bi(t,e,n))}};function pd(e,t,n,i,l,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,f):t.prototype&&t.prototype.isPureReactComponent?!ki(n,i)||!ki(l,u):!0}function yd(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Sl.enqueueReplaceState(t,t.state,null)}function ua(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function gd(e){Ur(e)}function vd(e){console.error(e)}function wd(e){Ur(e)}function ss(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function bd(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function _l(e,t,n){return n=Tn(n),n.tag=3,n.payload={element:null},n.callback=function(){ss(e,t)},n}function Sd(e){return e=Tn(e),e.tag=3,e}function _d(e,t,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var u=i.value;e.payload=function(){return l(u)},e.callback=function(){bd(t,n,i)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){bd(t,n,i),typeof l!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function Wy(e,t,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ba(t,n,l,!0),n=bt.current,n!==null){switch(n.tag){case 31:case 13:return Ut===null?vs():n.alternate===null&&Be===0&&(Be=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===Pr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Pl(e,i,l)),!1;case 22:return n.flags|=65536,i===Pr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Pl(e,i,l)),!1}throw Error(o(435,n.tag))}return Pl(e,i,l),vs(),!1}if(fe)return t=bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==qo&&(e=Error(o(422),{cause:i}),Ri(Nt(e,n)))):(i!==qo&&(t=Error(o(423),{cause:i}),Ri(Nt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=Nt(i,n),l=_l(e.stateNode,i,l),Zo(e,l),Be!==4&&(Be=2)),!1;var u=Error(o(520),{cause:i});if(u=Nt(u,n),Ji===null?Ji=[u]:Ji.push(u),Be!==4&&(Be=2),t===null)return!0;i=Nt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=_l(n.stateNode,i,e),Zo(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Mn===null||!Mn.has(u))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Sd(l),_d(l,e,n,i),Zo(n,l),!1}n=n.return}while(n!==null);return!1}var xl=Error(o(461)),Ge=!1;function Fe(e,t,n,i){t.child=e===null?Eh(t,null,n,i):oa(t,e.child,n,i)}function xd(e,t,n,i,l){n=n.render;var u=t.ref;if("ref"in i){var f={};for(var v in i)v!=="ref"&&(f[v]=i[v])}else f=i;return aa(t),i=il(e,t,n,f,u,l),v=rl(),e!==null&&!Ge?(sl(e,t,l),on(e,t,l)):(fe&&v&&Lo(t),t.flags|=1,Fe(e,t,i,l),t.child)}function Cd(e,t,n,i,l){if(e===null){var u=n.type;return typeof u=="function"&&!Bo(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Ad(e,t,u,i,l)):(e=qr(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Rl(e,l)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:ki,n(f,i)&&e.ref===t.ref)return on(e,t,l)}return t.flags|=1,e=en(u,i),e.ref=t.ref,e.return=t,t.child=e}function Ad(e,t,n,i,l){if(e!==null){var u=e.memoizedProps;if(ki(u,i)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=i=u,Rl(e,l))(e.flags&131072)!==0&&(Ge=!0);else return t.lanes=e.lanes,on(e,t,l)}return Cl(e,t,n,i,l)}function Ed(e,t,n,i){var l=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~u}else i=0,t.child=null;return Td(e,t,u,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vr(t,u!==null?u.cachePool:null),u!==null?Oh(t,u):el(),jh(t);else return i=t.lanes=536870912,Td(e,t,u!==null?u.baseLanes|n:n,n,i)}else u!==null?(Vr(t,u.cachePool),Oh(t,u),jn(),t.memoizedState=null):(e!==null&&Vr(t,null),el(),jn());return Fe(e,t,l,n),t.child}function Wi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Td(e,t,n,i,l){var u=Ko();return u=u===null?null:{parent:He._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Vr(t,null),el(),jh(t),e!==null&&Ba(e,t,i,!0),t.childLanes=l,null}function os(e,t){return t=us({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function kd(e,t,n){return oa(t,e.child,null,n),e=os(t,t.pendingProps),e.flags|=2,St(t),t.memoizedState=null,e}function $y(e,t,n){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(fe){if(i.mode==="hidden")return e=os(t,i),t.lanes=536870912,Wi(null,e);if(nl(t),(e=Oe)?(e=qf(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Pt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},n=hh(e),n.return=t,t.child=n,Xe=t,Oe=null)):e=null,e===null)throw Cn(t);return t.lanes=536870912,null}return os(t,i)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(nl(t),l)if(t.flags&256)t.flags&=-257,t=kd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Ge||Ba(e,t,n,!1),l=(n&e.childLanes)!==0,Ge||l){if(i=Ae,i!==null&&(f=vc(i,n),f!==0&&f!==u.retryLane))throw u.retryLane=f,Fn(e,f),mt(i,e,f),xl;vs(),t=kd(e,t,n)}else e=u.treeContext,Oe=zt(f.nextSibling),Xe=t,fe=!0,xn=null,Bt=!1,e!==null&&mh(t,e),t=os(t,i),t.flags|=4096;return t}return e=en(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ls(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Cl(e,t,n,i,l){return aa(t),n=il(e,t,n,i,void 0,l),i=rl(),e!==null&&!Ge?(sl(e,t,l),on(e,t,l)):(fe&&i&&Lo(t),t.flags|=1,Fe(e,t,n,l),t.child)}function Od(e,t,n,i,l,u){return aa(t),t.updateQueue=null,n=Ih(t,i,n,l),Rh(e),i=rl(),e!==null&&!Ge?(sl(e,t,u),on(e,t,u)):(fe&&i&&Lo(t),t.flags|=1,Fe(e,t,n,u),t.child)}function jd(e,t,n,i,l){if(aa(t),t.stateNode===null){var u=Ia,f=n.contextType;typeof f=="object"&&f!==null&&(u=Ze(f)),u=new n(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Sl,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},Jo(t),f=n.contextType,u.context=typeof f=="object"&&f!==null?Ze(f):Ia,u.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(bl(t,n,f,i),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&Sl.enqueueReplaceState(u,u.state,null),zi(t,i,u,l),Ui(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,w=ua(n,v);u.props=w;var j=u.context,N=n.contextType;f=Ia,typeof N=="object"&&N!==null&&(f=Ze(N));var z=n.getDerivedStateFromProps;N=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,N||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||j!==f)&&yd(t,u,i,f),En=!1;var R=t.memoizedState;u.state=R,zi(t,i,u,l),Ui(),j=t.memoizedState,v||R!==j||En?(typeof z=="function"&&(bl(t,n,z,i),j=t.memoizedState),(w=En||pd(t,n,w,i,R,j,f))?(N||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=j),u.props=i,u.state=j,u.context=f,i=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,Xo(e,t),f=t.memoizedProps,N=ua(n,f),u.props=N,z=t.pendingProps,R=u.context,j=n.contextType,w=Ia,typeof j=="object"&&j!==null&&(w=Ze(j)),v=n.getDerivedStateFromProps,(j=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==z||R!==w)&&yd(t,u,i,w),En=!1,R=t.memoizedState,u.state=R,zi(t,i,u,l),Ui();var I=t.memoizedState;f!==z||R!==I||En||e!==null&&e.dependencies!==null&&Wr(e.dependencies)?(typeof v=="function"&&(bl(t,n,v,i),I=t.memoizedState),(N=En||pd(t,n,N,i,R,I,w)||e!==null&&e.dependencies!==null&&Wr(e.dependencies))?(j||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,I,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,I,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=I),u.props=i,u.state=I,u.context=w,i=N):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,ls(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=oa(t,e.child,null,l),t.child=oa(t,null,n,l)):Fe(e,t,n,l),t.memoizedState=u.state,e=t.child):e=on(e,t,l),e}function Rd(e,t,n,i){return ta(),t.flags|=256,Fe(e,t,n,i),t.child}var Al={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function El(e){return{baseLanes:e,cachePool:bh()}}function Tl(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=xt),e}function Id(e,t,n){var i=t.pendingProps,l=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),f&&(l=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(fe){if(l?On(t):jn(),(e=Oe)?(e=qf(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Pt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},n=hh(e),n.return=t,t.child=n,Xe=t,Oe=null)):e=null,e===null)throw Cn(t);return uu(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,l?(jn(),l=t.mode,v=us({mode:"hidden",children:v},l),i=ea(i,l,n,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=El(n),i.childLanes=Tl(e,f,n),t.memoizedState=Al,Wi(null,i)):(On(t),kl(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(u)t.flags&256?(On(t),t.flags&=-257,t=Ol(e,t,n)):t.memoizedState!==null?(jn(),t.child=e.child,t.flags|=128,t=null):(jn(),v=i.fallback,l=t.mode,i=us({mode:"visible",children:i.children},l),v=ea(v,l,n,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,oa(t,e.child,null,n),i=t.child,i.memoizedState=El(n),i.childLanes=Tl(e,f,n),t.memoizedState=Al,t=Wi(null,i));else if(On(t),uu(v)){if(f=v.nextSibling&&v.nextSibling.dataset,f)var j=f.dgst;f=j,i=Error(o(419)),i.stack="",i.digest=f,Ri({value:i,source:null,stack:null}),t=Ol(e,t,n)}else if(Ge||Ba(e,t,n,!1),f=(n&e.childLanes)!==0,Ge||f){if(f=Ae,f!==null&&(i=vc(f,n),i!==0&&i!==w.retryLane))throw w.retryLane=i,Fn(e,i),mt(f,e,i),xl;lu(v)||vs(),t=Ol(e,t,n)}else lu(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Oe=zt(v.nextSibling),Xe=t,fe=!0,xn=null,Bt=!1,e!==null&&mh(t,e),t=kl(t,i.children),t.flags|=4096);return t}return l?(jn(),v=i.fallback,l=t.mode,w=e.child,j=w.sibling,i=en(w,{mode:"hidden",children:i.children}),i.subtreeFlags=w.subtreeFlags&65011712,j!==null?v=en(j,v):(v=ea(v,l,n,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,Wi(null,i),i=t.child,v=e.child.memoizedState,v===null?v=El(n):(l=v.cachePool,l!==null?(w=He._currentValue,l=l.parent!==w?{parent:w,pool:w}:l):l=bh(),v={baseLanes:v.baseLanes|n,cachePool:l}),i.memoizedState=v,i.childLanes=Tl(e,f,n),t.memoizedState=Al,Wi(e.child,i)):(On(t),n=e.child,e=n.sibling,n=en(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function kl(e,t){return t=us({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function us(e,t){return e=wt(22,e,null,t),e.lanes=0,e}function Ol(e,t,n){return oa(t,e.child,null,n),e=kl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nd(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),$o(e.return,t,n)}function jl(e,t,n,i,l,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=l,f.treeForkCount=u)}function Md(e,t,n){var i=t.pendingProps,l=i.revealOrder,u=i.tail;i=i.children;var f=ze.current,v=(f&2)!==0;if(v?(f=f&1|2,t.flags|=128):f&=1,M(ze,f),Fe(e,t,i,n),i=fe?ji:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nd(e,n,t);else if(e.tag===19)Nd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Xr(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),jl(t,!1,l,n,u,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Xr(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}jl(t,!0,n,null,u,i);break;case"together":jl(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ba(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rl(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Wr(e)))}function Vy(e,t,n){switch(t.tag){case 3:Pe(t,t.stateNode.containerInfo),An(t,He,e.memoizedState.cache),ta();break;case 27:case 5:pi(t);break;case 4:Pe(t,t.stateNode.containerInfo);break;case 10:An(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nl(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(On(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Id(e,t,n):(On(t),e=on(e,t,n),e!==null?e.sibling:null);On(t);break;case 19:var l=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ba(e,t,n,!1),i=(n&t.childLanes)!==0),l){if(i)return Md(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),M(ze,ze.current),i)break;return null;case 22:return t.lanes=0,Ed(e,t,n,t.pendingProps);case 24:An(t,He,e.memoizedState.cache)}return on(e,t,n)}function Dd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ge=!0;else{if(!Rl(e,n)&&(t.flags&128)===0)return Ge=!1,Vy(e,t,n);Ge=(e.flags&131072)!==0}else Ge=!1,fe&&(t.flags&1048576)!==0&&fh(t,ji,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ra(t.elementType),t.type=e,typeof e=="function")Bo(e)?(i=ua(e,i),t.tag=1,t=jd(null,t,e,i,n)):(t.tag=0,t=Cl(null,t,e,i,n));else{if(e!=null){var l=e.$$typeof;if(l===X){t.tag=11,t=xd(null,t,e,i,n);break e}else if(l===P){t.tag=14,t=Cd(null,t,e,i,n);break e}}throw t=Ht(e)||e,Error(o(306,t,""))}}return t;case 0:return Cl(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,l=ua(i,t.pendingProps),jd(e,t,i,l,n);case 3:e:{if(Pe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));i=t.pendingProps;var u=t.memoizedState;l=u.element,Xo(e,t),zi(t,i,null,n);var f=t.memoizedState;if(i=f.cache,An(t,He,i),i!==u.cache&&Vo(t,[He],n,!0),Ui(),i=f.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Rd(e,t,i,n);break e}else if(i!==l){l=Nt(Error(o(424)),t),Ri(l),t=Rd(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Oe=zt(e.firstChild),Xe=t,fe=!0,xn=null,Bt=!0,n=Eh(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),i===l){t=on(e,t,n);break e}Fe(e,t,i,n)}t=t.child}return t;case 26:return ls(e,t),e===null?(n=Pf(t.type,null,t.pendingProps,null))?t.memoizedState=n:fe||(n=t.type,e=t.pendingProps,i=As(te.current).createElement(n),i[Je]=t,i[lt]=e,et(i,n,e),Ke(i),t.stateNode=i):t.memoizedState=Pf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pi(t),e===null&&fe&&(i=t.stateNode=$f(t.type,t.pendingProps,te.current),Xe=t,Bt=!0,l=Oe,zn(t.type)?(cu=l,Oe=zt(i.firstChild)):Oe=l),Fe(e,t,t.pendingProps.children,n),ls(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&fe&&((l=i=Oe)&&(i=Sg(i,t.type,t.pendingProps,Bt),i!==null?(t.stateNode=i,Xe=t,Oe=zt(i.firstChild),Bt=!1,l=!0):l=!1),l||Cn(t)),pi(t),l=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,i=u.children,ru(l,u)?i=null:f!==null&&ru(l,f)&&(t.flags|=32),t.memoizedState!==null&&(l=il(e,t,By,null,null,n),ir._currentValue=l),ls(e,t),Fe(e,t,i,n),t.child;case 6:return e===null&&fe&&((e=n=Oe)&&(n=_g(n,t.pendingProps,Bt),n!==null?(t.stateNode=n,Xe=t,Oe=null,e=!0):e=!1),e||Cn(t)),null;case 13:return Id(e,t,n);case 4:return Pe(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=oa(t,null,i,n):Fe(e,t,i,n),t.child;case 11:return xd(e,t,t.type,t.pendingProps,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,An(t,t.type,i.value),Fe(e,t,i.children,n),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,aa(t),l=Ze(l),i=i(l),t.flags|=1,Fe(e,t,i,n),t.child;case 14:return Cd(e,t,t.type,t.pendingProps,n);case 15:return Ad(e,t,t.type,t.pendingProps,n);case 19:return Md(e,t,n);case 31:return $y(e,t,n);case 22:return Ed(e,t,n,t.pendingProps);case 24:return aa(t),i=Ze(He),e===null?(l=Ko(),l===null&&(l=Ae,u=Yo(),l.pooledCache=u,u.refCount++,u!==null&&(l.pooledCacheLanes|=n),l=u),t.memoizedState={parent:i,cache:l},Jo(t),An(t,He,l)):((e.lanes&n)!==0&&(Xo(e,t),zi(t,null,null,n),Ui()),l=e.memoizedState,u=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),An(t,He,i)):(i=u.cache,An(t,He,i),i!==l.cache&&Vo(t,[He],n,!0))),Fe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ln(e){e.flags|=4}function Il(e,t,n,i,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(uf())e.flags|=8192;else throw sa=Pr,Qo}else e.flags&=-16777217}function Bd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zf(t))if(uf())e.flags|=8192;else throw sa=Pr,Qo}function cs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?pc():536870912,e.lanes|=t,Ka|=t)}function $i(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Yy(e,t,n){var i=t.pendingProps;switch(Ho(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return je(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),an(He),ke(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Da(t)?ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Go())),je(t),null;case 26:var l=t.type,u=t.memoizedState;return e===null?(ln(t),u!==null?(je(t),Bd(t,u)):(je(t),Il(t,l,null,i,n))):u?u!==e.memoizedState?(ln(t),je(t),Bd(t,u)):(je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ln(t),je(t),Il(t,l,e,i,n)),null;case 27:if(Sr(t),n=te.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ln(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return je(t),null}e=H.current,Da(t)?ph(t):(e=$f(l,i,n),t.stateNode=e,ln(t))}return je(t),null;case 5:if(Sr(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ln(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return je(t),null}if(u=H.current,Da(t))ph(t);else{var f=As(te.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?f.createElement("select",{is:i.is}):f.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?f.createElement(l,{is:i.is}):f.createElement(l)}}u[Je]=t,u[lt]=i;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(et(u,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ln(t)}}return je(t),Il(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ln(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(o(166));if(e=te.current,Da(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,l=Xe,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}e[Je]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Nf(e.nodeValue,n)),e||Cn(t,!0)}else e=As(e).createTextNode(i),e[Je]=t,t.stateNode=e}return je(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Da(t),n!==null){if(e===null){if(!i)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Je]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;je(t),e=!1}else n=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(St(t),t):(St(t),null);if((t.flags&128)!==0)throw Error(o(558))}return je(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Da(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(o(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[Je]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;je(t),l=!1}else l=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(St(t),t):(St(t),null)}return St(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cs(t,t.updateQueue),je(t),null);case 4:return ke(),e===null&&eu(t.stateNode.containerInfo),je(t),null;case 10:return an(t.type),je(t),null;case 19:if(L(ze),i=t.memoizedState,i===null)return je(t),null;if(l=(t.flags&128)!==0,u=i.rendering,u===null)if(l)$i(i,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Xr(e),u!==null){for(t.flags|=128,$i(i,!1),e=u.updateQueue,t.updateQueue=e,cs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ch(n,e),n=n.sibling;return M(ze,ze.current&1|2),fe&&tn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&pt()>ps&&(t.flags|=128,l=!0,$i(i,!1),t.lanes=4194304)}else{if(!l)if(e=Xr(u),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,cs(t,e),$i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!fe)return je(t),null}else 2*pt()-i.renderingStartTime>ps&&n!==536870912&&(t.flags|=128,l=!0,$i(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=pt(),e.sibling=null,n=ze.current,M(ze,l?n&1|2:n&1),fe&&tn(t,i.treeForkCount),e):(je(t),null);case 22:case 23:return St(t),tl(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),n=t.updateQueue,n!==null&&cs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&L(ia),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),an(He),je(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Py(e,t){switch(Ho(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(He),ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Sr(t),null;case 31:if(t.memoizedState!==null){if(St(t),t.alternate===null)throw Error(o(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(St(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(ze),null;case 4:return ke(),null;case 10:return an(t.type),null;case 22:case 23:return St(t),tl(),e!==null&&L(ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return an(He),null;case 25:return null;default:return null}}function Ud(e,t){switch(Ho(t),t.tag){case 3:an(He),ke();break;case 26:case 27:case 5:Sr(t);break;case 4:ke();break;case 31:t.memoizedState!==null&&St(t);break;case 13:St(t);break;case 19:L(ze);break;case 10:an(t.type);break;case 22:case 23:St(t),tl(),e!==null&&L(ia);break;case 24:an(He)}}function Vi(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){i=void 0;var u=n.create,f=n.inst;i=u(),f.destroy=i}n=n.next}while(n!==l)}}catch(v){Se(t,t.return,v)}}function Rn(e,t,n){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var u=l.next;i=u;do{if((i.tag&e)===e){var f=i.inst,v=f.destroy;if(v!==void 0){f.destroy=void 0,l=t;var w=n,j=v;try{j()}catch(N){Se(l,w,N)}}}i=i.next}while(i!==u)}}catch(N){Se(t,t.return,N)}}function zd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{kh(t,n)}catch(i){Se(e,e.return,i)}}}function Ld(e,t,n){n.props=ua(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Se(e,t,i)}}function Yi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(l){Se(e,t,l)}}function Qt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){Se(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Se(e,t,l)}else n.current=null}function Hd(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){Se(e,e.return,l)}}function Nl(e,t,n){try{var i=e.stateNode;pg(i,e.type,n,t),i[lt]=t}catch(l){Se(e,e.return,l)}}function qd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zn(e.type)||e.tag===4}function Ml(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zt));else if(i!==4&&(i===27&&zn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Dl(e,t,n),e=e.sibling;e!==null;)Dl(e,t,n),e=e.sibling}function hs(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&zn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(hs(e,t,n),e=e.sibling;e!==null;)hs(e,t,n),e=e.sibling}function Gd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);et(t,i,n),t[Je]=e,t[lt]=n}catch(u){Se(e,e.return,u)}}var un=!1,We=!1,Bl=!1,Wd=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Ky(e,t){if(e=e.containerInfo,au=Is,e=th(e),Oo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,v=-1,w=-1,j=0,N=0,z=e,R=null;t:for(;;){for(var I;z!==n||l!==0&&z.nodeType!==3||(v=f+l),z!==u||i!==0&&z.nodeType!==3||(w=f+i),z.nodeType===3&&(f+=z.nodeValue.length),(I=z.firstChild)!==null;)R=z,z=I;for(;;){if(z===e)break t;if(R===n&&++j===l&&(v=f),R===u&&++N===i&&(w=f),(I=z.nextSibling)!==null)break;z=R,R=z.parentNode}z=I}n=v===-1||w===-1?null:{start:v,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(iu={focusedElem:e,selectionRange:n},Is=!1,Qe=t;Qe!==null;)if(t=Qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qe=e;else for(;Qe!==null;){switch(t=Qe,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,l=u.memoizedProps,u=u.memoizedState,i=n.stateNode;try{var Y=ua(n.type,l);e=i.getSnapshotBeforeUpdate(Y,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(F){Se(n,n.return,F)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ou(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Qe=e;break}Qe=t.return}}function $d(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:hn(e,n),i&4&&Vi(5,n);break;case 1:if(hn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Se(n,n.return,f)}else{var l=ua(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Se(n,n.return,f)}}i&64&&zd(n),i&512&&Yi(n,n.return);break;case 3:if(hn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{kh(e,t)}catch(f){Se(n,n.return,f)}}break;case 27:t===null&&i&4&&Gd(n);case 26:case 5:hn(e,n),t===null&&i&4&&Hd(n),i&512&&Yi(n,n.return);break;case 12:hn(e,n);break;case 31:hn(e,n),i&4&&Pd(e,n);break;case 13:hn(e,n),i&4&&Kd(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ag.bind(null,n),xg(e,n))));break;case 22:if(i=n.memoizedState!==null||un,!i){t=t!==null&&t.memoizedState!==null||We,l=un;var u=We;un=i,(We=t)&&!u?dn(e,n,(n.subtreeFlags&8772)!==0):hn(e,n),un=l,We=u}break;case 30:break;default:hn(e,n)}}function Vd(e){var t=e.alternate;t!==null&&(e.alternate=null,Vd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ho(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,ct=!1;function cn(e,t,n){for(n=n.child;n!==null;)Yd(e,t,n),n=n.sibling}function Yd(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(yi,n)}catch{}switch(n.tag){case 26:We||Qt(n,t),cn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||Qt(n,t);var i=Re,l=ct;zn(n.type)&&(Re=n.stateNode,ct=!1),cn(e,t,n),tr(n.stateNode),Re=i,ct=l;break;case 5:We||Qt(n,t);case 6:if(i=Re,l=ct,Re=null,cn(e,t,n),Re=i,ct=l,Re!==null)if(ct)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(n.stateNode)}catch(u){Se(n,t,u)}else try{Re.removeChild(n.stateNode)}catch(u){Se(n,t,u)}break;case 18:Re!==null&&(ct?(e=Re,Lf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):Lf(Re,n.stateNode));break;case 4:i=Re,l=ct,Re=n.stateNode.containerInfo,ct=!0,cn(e,t,n),Re=i,ct=l;break;case 0:case 11:case 14:case 15:Rn(2,n,t),We||Rn(4,n,t),cn(e,t,n);break;case 1:We||(Qt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Ld(n,t,i)),cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:We=(i=We)||n.memoizedState!==null,cn(e,t,n),We=i;break;default:cn(e,t,n)}}function Pd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){Se(t,t.return,n)}}}function Kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){Se(t,t.return,n)}}function Qy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Wd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Wd),t;default:throw Error(o(435,e.tag))}}function ds(e,t){var n=Qy(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var l=ig.bind(null,e,i);i.then(l,l)}})}function ht(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],u=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 27:if(zn(v.type)){Re=v.stateNode,ct=!1;break e}break;case 5:Re=v.stateNode,ct=!1;break e;case 3:case 4:Re=v.stateNode.containerInfo,ct=!0;break e}v=v.return}if(Re===null)throw Error(o(160));Yd(u,f,l),Re=null,ct=!1,u=l.alternate,u!==null&&(u.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Qd(t,e),t=t.sibling}var Gt=null;function Qd(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ht(t,e),dt(e),i&4&&(Rn(3,e,e.return),Vi(3,e),Rn(5,e,e.return));break;case 1:ht(t,e),dt(e),i&512&&(We||n===null||Qt(n,n.return)),i&64&&un&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Gt;if(ht(t,e),dt(e),i&512&&(We||n===null||Qt(n,n.return)),i&4){var u=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":u=l.getElementsByTagName("title")[0],(!u||u[wi]||u[Je]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=l.createElement(i),l.head.insertBefore(u,l.querySelector("head > title"))),et(u,i,n),u[Je]=e,Ke(u),i=u;break e;case"link":var f=Jf("link","href",l).get(i+(n.href||""));if(f){for(var v=0;v<f.length;v++)if(u=f[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(v,1);break t}}u=l.createElement(i),et(u,i,n),l.head.appendChild(u);break;case"meta":if(f=Jf("meta","content",l).get(i+(n.content||""))){for(v=0;v<f.length;v++)if(u=f[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(v,1);break t}}u=l.createElement(i),et(u,i,n),l.head.appendChild(u);break;default:throw Error(o(468,i))}u[Je]=e,Ke(u),i=u}e.stateNode=i}else Xf(l,e.type,e.stateNode);else e.stateNode=Qf(l,i,e.memoizedProps);else u!==i?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,i===null?Xf(l,e.type,e.stateNode):Qf(l,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Nl(e,e.memoizedProps,n.memoizedProps)}break;case 27:ht(t,e),dt(e),i&512&&(We||n===null||Qt(n,n.return)),n!==null&&i&4&&Nl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ht(t,e),dt(e),i&512&&(We||n===null||Qt(n,n.return)),e.flags&32){l=e.stateNode;try{Aa(l,"")}catch(Y){Se(e,e.return,Y)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,Nl(e,l,n!==null?n.memoizedProps:l)),i&1024&&(Bl=!0);break;case 6:if(ht(t,e),dt(e),i&4){if(e.stateNode===null)throw Error(o(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(Y){Se(e,e.return,Y)}}break;case 3:if(ks=null,l=Gt,Gt=Es(t.containerInfo),ht(t,e),Gt=l,dt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(Y){Se(e,e.return,Y)}Bl&&(Bl=!1,Jd(e));break;case 4:i=Gt,Gt=Es(e.stateNode.containerInfo),ht(t,e),dt(e),Gt=i;break;case 12:ht(t,e),dt(e);break;case 31:ht(t,e),dt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ds(e,i)));break;case 13:ht(t,e),dt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ms=pt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ds(e,i)));break;case 22:l=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,j=un,N=We;if(un=j||l,We=N||w,ht(t,e),We=N,un=j,dt(e),i&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||w||un||We||ca(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(u=w.stateNode,l)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=w.stateNode;var z=w.memoizedProps.style,R=z!=null&&z.hasOwnProperty("display")?z.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(Y){Se(w,w.return,Y)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=l?"":w.memoizedProps}catch(Y){Se(w,w.return,Y)}}}else if(t.tag===18){if(n===null){w=t;try{var I=w.stateNode;l?Hf(I,!0):Hf(w.stateNode,!1)}catch(Y){Se(w,w.return,Y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,ds(e,n))));break;case 19:ht(t,e),dt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ds(e,i)));break;case 30:break;case 21:break;default:ht(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(qd(i)){n=i;break}i=i.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,u=Ml(e);hs(e,u,l);break;case 5:var f=n.stateNode;n.flags&32&&(Aa(f,""),n.flags&=-33);var v=Ml(e);hs(e,v,f);break;case 3:case 4:var w=n.stateNode.containerInfo,j=Ml(e);Dl(e,j,w);break;default:throw Error(o(161))}}catch(N){Se(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$d(e,t.alternate,t),t=t.sibling}function ca(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rn(4,t,t.return),ca(t);break;case 1:Qt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ld(t,t.return,n),ca(t);break;case 27:tr(t.stateNode);case 26:case 5:Qt(t,t.return),ca(t);break;case 22:t.memoizedState===null&&ca(t);break;case 30:ca(t);break;default:ca(t)}e=e.sibling}}function dn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:dn(l,u,n),Vi(4,u);break;case 1:if(dn(l,u,n),i=u,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(j){Se(i,i.return,j)}if(i=u,l=i.updateQueue,l!==null){var v=i.stateNode;try{var w=l.shared.hiddenCallbacks;if(w!==null)for(l.shared.hiddenCallbacks=null,l=0;l<w.length;l++)Th(w[l],v)}catch(j){Se(i,i.return,j)}}n&&f&64&&zd(u),Yi(u,u.return);break;case 27:Gd(u);case 26:case 5:dn(l,u,n),n&&i===null&&f&4&&Hd(u),Yi(u,u.return);break;case 12:dn(l,u,n);break;case 31:dn(l,u,n),n&&f&4&&Pd(l,u);break;case 13:dn(l,u,n),n&&f&4&&Kd(l,u);break;case 22:u.memoizedState===null&&dn(l,u,n),Yi(u,u.return);break;case 30:break;default:dn(l,u,n)}t=t.sibling}}function Ul(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ii(n))}function zl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ii(e))}function Wt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xd(e,t,n,i),t=t.sibling}function Xd(e,t,n,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,n,i),l&2048&&Vi(9,t);break;case 1:Wt(e,t,n,i);break;case 3:Wt(e,t,n,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ii(e)));break;case 12:if(l&2048){Wt(e,t,n,i),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,v=u.onPostCommit;typeof v=="function"&&v(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Se(t,t.return,w)}}else Wt(e,t,n,i);break;case 31:Wt(e,t,n,i);break;case 13:Wt(e,t,n,i);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?Wt(e,t,n,i):Pi(e,t):u._visibility&2?Wt(e,t,n,i):(u._visibility|=2,Va(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Ul(f,t);break;case 24:Wt(e,t,n,i),l&2048&&zl(t.alternate,t);break;default:Wt(e,t,n,i)}}function Va(e,t,n,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,v=n,w=i,j=f.flags;switch(f.tag){case 0:case 11:case 15:Va(u,f,v,w,l),Vi(8,f);break;case 23:break;case 22:var N=f.stateNode;f.memoizedState!==null?N._visibility&2?Va(u,f,v,w,l):Pi(u,f):(N._visibility|=2,Va(u,f,v,w,l)),l&&j&2048&&Ul(f.alternate,f);break;case 24:Va(u,f,v,w,l),l&&j&2048&&zl(f.alternate,f);break;default:Va(u,f,v,w,l)}t=t.sibling}}function Pi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,l=i.flags;switch(i.tag){case 22:Pi(n,i),l&2048&&Ul(i.alternate,i);break;case 24:Pi(n,i),l&2048&&zl(i.alternate,i);break;default:Pi(n,i)}t=t.sibling}}var Ki=8192;function Ya(e,t,n){if(e.subtreeFlags&Ki)for(e=e.child;e!==null;)Zd(e,t,n),e=e.sibling}function Zd(e,t,n){switch(e.tag){case 26:Ya(e,t,n),e.flags&Ki&&e.memoizedState!==null&&Dg(n,Gt,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,t,n);break;case 3:case 4:var i=Gt;Gt=Es(e.stateNode.containerInfo),Ya(e,t,n),Gt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ki,Ki=16777216,Ya(e,t,n),Ki=i):Ya(e,t,n));break;default:Ya(e,t,n)}}function Fd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qe=i,tf(i,e)}Fd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ef(e),e=e.sibling}function ef(e){switch(e.tag){case 0:case 11:case 15:Qi(e),e.flags&2048&&Rn(9,e,e.return);break;case 3:Qi(e);break;case 12:Qi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fs(e)):Qi(e);break;default:Qi(e)}}function fs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qe=i,tf(i,e)}Fd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rn(8,t,t.return),fs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,fs(t));break;default:fs(t)}e=e.sibling}}function tf(e,t){for(;Qe!==null;){var n=Qe;switch(n.tag){case 0:case 11:case 15:Rn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ii(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Qe=i;else e:for(n=e;Qe!==null;){i=Qe;var l=i.sibling,u=i.return;if(Vd(i),i===n){Qe=null;break e}if(l!==null){l.return=u,Qe=l;break e}Qe=u}}}var Jy={getCacheForType:function(e){var t=Ze(He),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ze(He).controller.signal}},Xy=typeof WeakMap=="function"?WeakMap:Map,ve=0,Ae=null,ue=null,he=0,be=0,_t=null,In=!1,Pa=!1,Ll=!1,fn=0,Be=0,Nn=0,ha=0,Hl=0,xt=0,Ka=0,Ji=null,ft=null,ql=!1,ms=0,nf=0,ps=1/0,ys=null,Mn=null,Ve=0,Dn=null,Qa=null,mn=0,Gl=0,Wl=null,af=null,Xi=0,$l=null;function Ct(){return(ve&2)!==0&&he!==0?he&-he:D.T!==null?Jl():wc()}function rf(){if(xt===0)if((he&536870912)===0||fe){var e=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),xt=e}else xt=536870912;return e=bt.current,e!==null&&(e.flags|=32),xt}function mt(e,t,n){(e===Ae&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),Bn(e,he,xt,!1)),vi(e,n),((ve&2)===0||e!==Ae)&&(e===Ae&&((ve&2)===0&&(ha|=n),Be===4&&Bn(e,he,xt,!1)),Jt(e))}function sf(e,t,n){if((ve&6)!==0)throw Error(o(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||gi(e,t),l=i?eg(e,t):Yl(e,t,!0),u=i;do{if(l===0){Pa&&!i&&Bn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!Zy(n)){l=Yl(e,t,!1),u=!1;continue}if(l===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var v=e;l=Ji;var w=v.current.memoizedState.isDehydrated;if(w&&(Ja(v,f).flags|=256),f=Yl(v,f,!1),f!==2){if(Ll&&!w){v.errorRecoveryDisabledLanes|=u,ha|=u,l=4;break e}u=ft,ft=l,u!==null&&(ft===null?ft=u:ft.push.apply(ft,u))}l=f}if(u=!1,l!==2)continue}}if(l===1){Ja(e,0),Bn(e,t,0,!0);break}e:{switch(i=e,u=l,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Bn(i,t,xt,!In);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(l=ms+300-pt(),10<l)){if(Bn(i,t,xt,!In),Er(i,0,!0)!==0)break e;mn=t,i.timeoutHandle=Uf(of.bind(null,i,n,ft,ys,ql,t,xt,ha,Ka,In,u,"Throttled",-0,0),l);break e}of(i,n,ft,ys,ql,t,xt,ha,Ka,In,u,null,-0,0)}}break}while(!0);Jt(e)}function of(e,t,n,i,l,u,f,v,w,j,N,z,R,I){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},Zd(t,u,z);var Y=(u&62914560)===u?ms-pt():(u&4194048)===u?nf-pt():0;if(Y=Bg(z,Y),Y!==null){mn=u,e.cancelPendingCommit=Y(pf.bind(null,e,t,u,n,i,l,f,v,w,N,z,null,R,I)),Bn(e,u,f,!j);return}}pf(e,t,u,n,i,l,f,v,w)}function Zy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],u=l.getSnapshot;l=l.value;try{if(!vt(u(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t,n,i){t&=~Hl,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var u=31-gt(l),f=1<<u;i[u]=-1,l&=~f}n!==0&&yc(e,n,t)}function gs(){return(ve&6)===0?(Zi(0),!1):!0}function Vl(){if(ue!==null){if(be===0)var e=ue.return;else e=ue,nn=na=null,ol(e),Ha=null,Mi=0,e=ue;for(;e!==null;)Ud(e.alternate,e),e=e.return;ue=null}}function Ja(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,vg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),mn=0,Vl(),Ae=e,ue=n=en(e.current,null),he=t,be=0,_t=null,In=!1,Pa=gi(e,t),Ll=!1,Ka=xt=Hl=ha=Nn=Be=0,ft=Ji=null,ql=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-gt(i),u=1<<l;t|=e[l],i&=~u}return fn=t,zr(),n}function lf(e,t){oe=null,D.H=Gi,t===La||t===Yr?(t=xh(),be=3):t===Qo?(t=xh(),be=4):be=t===xl?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,ue===null&&(Be=1,ss(e,Nt(t,e.current)))}function uf(){var e=bt.current;return e===null?!0:(he&4194048)===he?Ut===null:(he&62914560)===he||(he&536870912)!==0?e===Ut:!1}function cf(){var e=D.H;return D.H=Gi,e===null?Gi:e}function hf(){var e=D.A;return D.A=Jy,e}function vs(){Be=4,In||(he&4194048)!==he&&bt.current!==null||(Pa=!0),(Nn&134217727)===0&&(ha&134217727)===0||Ae===null||Bn(Ae,he,xt,!1)}function Yl(e,t,n){var i=ve;ve|=2;var l=cf(),u=hf();(Ae!==e||he!==t)&&(ys=null,Ja(e,t)),t=!1;var f=Be;e:do try{if(be!==0&&ue!==null){var v=ue,w=_t;switch(be){case 8:Vl(),f=6;break e;case 3:case 2:case 9:case 6:bt.current===null&&(t=!0);var j=be;if(be=0,_t=null,Xa(e,v,w,j),n&&Pa){f=0;break e}break;default:j=be,be=0,_t=null,Xa(e,v,w,j)}}Fy(),f=Be;break}catch(N){lf(e,N)}while(!0);return t&&e.shellSuspendCounter++,nn=na=null,ve=i,D.H=l,D.A=u,ue===null&&(Ae=null,he=0,zr()),f}function Fy(){for(;ue!==null;)df(ue)}function eg(e,t){var n=ve;ve|=2;var i=cf(),l=hf();Ae!==e||he!==t?(ys=null,ps=pt()+500,Ja(e,t)):Pa=gi(e,t);e:do try{if(be!==0&&ue!==null){t=ue;var u=_t;t:switch(be){case 1:be=0,_t=null,Xa(e,t,u,1);break;case 2:case 9:if(Sh(u)){be=0,_t=null,ff(t);break}t=function(){be!==2&&be!==9||Ae!==e||(be=7),Jt(e)},u.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Sh(u)?(be=0,_t=null,ff(t)):(be=0,_t=null,Xa(e,t,u,7));break;case 5:var f=null;switch(ue.tag){case 26:f=ue.memoizedState;case 5:case 27:var v=ue;if(f?Zf(f):v.stateNode.complete){be=0,_t=null;var w=v.sibling;if(w!==null)ue=w;else{var j=v.return;j!==null?(ue=j,ws(j)):ue=null}break t}}be=0,_t=null,Xa(e,t,u,5);break;case 6:be=0,_t=null,Xa(e,t,u,6);break;case 8:Vl(),Be=6;break e;default:throw Error(o(462))}}tg();break}catch(N){lf(e,N)}while(!0);return nn=na=null,D.H=i,D.A=l,ve=n,ue!==null?0:(Ae=null,he=0,zr(),Be)}function tg(){for(;ue!==null&&!Cp();)df(ue)}function df(e){var t=Dd(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?ws(e):ue=t}function ff(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Od(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=Od(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:ol(t);default:Ud(n,t),t=ue=ch(t,fn),t=Dd(n,t,fn)}e.memoizedProps=e.pendingProps,t===null?ws(e):ue=t}function Xa(e,t,n,i){nn=na=null,ol(t),Ha=null,Mi=0;var l=t.return;try{if(Wy(e,l,t,n,he)){Be=1,ss(e,Nt(n,e.current)),ue=null;return}}catch(u){if(l!==null)throw ue=l,u;Be=1,ss(e,Nt(n,e.current)),ue=null;return}t.flags&32768?(fe||i===1?e=!0:Pa||(he&536870912)!==0?e=!1:(In=e=!0,(i===2||i===9||i===3||i===6)&&(i=bt.current,i!==null&&i.tag===13&&(i.flags|=16384))),mf(t,e)):ws(t)}function ws(e){var t=e;do{if((t.flags&32768)!==0){mf(t,In);return}e=t.return;var n=Yy(t.alternate,t,fn);if(n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Be===0&&(Be=5)}function mf(e,t){do{var n=Py(e.alternate,e);if(n!==null){n.flags&=32767,ue=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=n}while(e!==null);Be=6,ue=null}function pf(e,t,n,i,l,u,f,v,w){e.cancelPendingCommit=null;do bs();while(Ve!==0);if((ve&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Mo,Mp(e,n,u,f,v,w),e===Ae&&(ue=Ae=null,he=0),Qa=t,Dn=e,mn=n,Gl=u,Wl=l,af=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rg(_r,function(){return bf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null,l=W.p,W.p=2,f=ve,ve|=4;try{Ky(e,t,n)}finally{ve=f,W.p=l,D.T=i}}Ve=1,yf(),gf(),vf()}}function yf(){if(Ve===1){Ve=0;var e=Dn,t=Qa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null;var i=W.p;W.p=2;var l=ve;ve|=4;try{Qd(t,e);var u=iu,f=th(e.containerInfo),v=u.focusedElem,w=u.selectionRange;if(f!==v&&v&&v.ownerDocument&&eh(v.ownerDocument.documentElement,v)){if(w!==null&&Oo(v)){var j=w.start,N=w.end;if(N===void 0&&(N=j),"selectionStart"in v)v.selectionStart=j,v.selectionEnd=Math.min(N,v.value.length);else{var z=v.ownerDocument||document,R=z&&z.defaultView||window;if(R.getSelection){var I=R.getSelection(),Y=v.textContent.length,F=Math.min(w.start,Y),Ce=w.end===void 0?F:Math.min(w.end,Y);!I.extend&&F>Ce&&(f=Ce,Ce=F,F=f);var A=Fc(v,F),_=Fc(v,Ce);if(A&&_&&(I.rangeCount!==1||I.anchorNode!==A.node||I.anchorOffset!==A.offset||I.focusNode!==_.node||I.focusOffset!==_.offset)){var k=z.createRange();k.setStart(A.node,A.offset),I.removeAllRanges(),F>Ce?(I.addRange(k),I.extend(_.node,_.offset)):(k.setEnd(_.node,_.offset),I.addRange(k))}}}}for(z=[],I=v;I=I.parentNode;)I.nodeType===1&&z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<z.length;v++){var B=z[v];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Is=!!au,iu=au=null}finally{ve=l,W.p=i,D.T=n}}e.current=t,Ve=2}}function gf(){if(Ve===2){Ve=0;var e=Dn,t=Qa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=D.T,D.T=null;var i=W.p;W.p=2;var l=ve;ve|=4;try{$d(e,t.alternate,t)}finally{ve=l,W.p=i,D.T=n}}Ve=3}}function vf(){if(Ve===4||Ve===3){Ve=0,Ap();var e=Dn,t=Qa,n=mn,i=af;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ve=5:(Ve=0,Qa=Dn=null,wf(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Mn=null),uo(n),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=D.T,l=W.p,W.p=2,D.T=null;try{for(var u=e.onRecoverableError,f=0;f<i.length;f++){var v=i[f];u(v.value,{componentStack:v.stack})}}finally{D.T=t,W.p=l}}(mn&3)!==0&&bs(),Jt(e),l=e.pendingLanes,(n&261930)!==0&&(l&42)!==0?e===$l?Xi++:(Xi=0,$l=e):Xi=0,Zi(0)}}function wf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ii(t)))}function bs(){return yf(),gf(),vf(),bf()}function bf(){if(Ve!==5)return!1;var e=Dn,t=Gl;Gl=0;var n=uo(mn),i=D.T,l=W.p;try{W.p=32>n?32:n,D.T=null,n=Wl,Wl=null;var u=Dn,f=mn;if(Ve=0,Qa=Dn=null,mn=0,(ve&6)!==0)throw Error(o(331));var v=ve;if(ve|=4,ef(u.current),Xd(u,u.current,f,n),ve=v,Zi(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(yi,u)}catch{}return!0}finally{W.p=l,D.T=i,wf(e,t)}}function Sf(e,t,n){t=Nt(n,t),t=_l(e.stateNode,t,2),e=kn(e,t,2),e!==null&&(vi(e,2),Jt(e))}function Se(e,t,n){if(e.tag===3)Sf(e,e,n);else for(;t!==null;){if(t.tag===3){Sf(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Mn===null||!Mn.has(i))){e=Nt(n,e),n=Sd(2),i=kn(t,n,2),i!==null&&(_d(n,i,t,e),vi(i,2),Jt(i));break}}t=t.return}}function Pl(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Xy;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(Ll=!0,l.add(n),e=ng.bind(null,e,t,n),t.then(e,e))}function ng(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ae===e&&(he&n)===n&&(Be===4||Be===3&&(he&62914560)===he&&300>pt()-ms?(ve&2)===0&&Ja(e,0):Hl|=n,Ka===he&&(Ka=0)),Jt(e)}function _f(e,t){t===0&&(t=pc()),e=Fn(e,t),e!==null&&(vi(e,t),Jt(e))}function ag(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_f(e,n)}function ig(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(t),_f(e,n)}function rg(e,t){return ro(e,t)}var Ss=null,Za=null,Kl=!1,_s=!1,Ql=!1,Un=0;function Jt(e){e!==Za&&e.next===null&&(Za===null?Ss=Za=e:Za=Za.next=e),_s=!0,Kl||(Kl=!0,og())}function Zi(e,t){if(!Ql&&_s){Ql=!0;do for(var n=!1,i=Ss;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var u=0;else{var f=i.suspendedLanes,v=i.pingedLanes;u=(1<<31-gt(42|e)+1)-1,u&=l&~(f&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Ef(i,u))}else u=he,u=Er(i,i===Ae?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||gi(i,u)||(n=!0,Ef(i,u));i=i.next}while(n);Ql=!1}}function sg(){xf()}function xf(){_s=Kl=!1;var e=0;Un!==0&&gg()&&(e=Un);for(var t=pt(),n=null,i=Ss;i!==null;){var l=i.next,u=Cf(i,t);u===0?(i.next=null,n===null?Ss=l:n.next=l,l===null&&(Za=n)):(n=i,(e!==0||(u&3)!==0)&&(_s=!0)),i=l}Ve!==0&&Ve!==5||Zi(e),Un!==0&&(Un=0)}function Cf(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-gt(u),v=1<<f,w=l[f];w===-1?((v&n)===0||(v&i)!==0)&&(l[f]=Np(v,t)):w<=t&&(e.expiredLanes|=v),u&=~v}if(t=Ae,n=he,n=Er(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(be===2||be===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&so(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||gi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&so(i),uo(n)){case 2:case 8:n=fc;break;case 32:n=_r;break;case 268435456:n=mc;break;default:n=_r}return i=Af.bind(null,e),n=ro(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&so(i),e.callbackPriority=2,e.callbackNode=null,2}function Af(e,t){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bs()&&e.callbackNode!==n)return null;var i=he;return i=Er(e,e===Ae?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(sf(e,i,t),Cf(e,pt()),e.callbackNode!=null&&e.callbackNode===n?Af.bind(null,e):null)}function Ef(e,t){if(bs())return null;sf(e,t,!0)}function og(){wg(function(){(ve&6)!==0?ro(dc,sg):xf()})}function Jl(){if(Un===0){var e=Ua;e===0&&(e=xr,xr<<=1,(xr&261888)===0&&(xr=256)),Un=e}return Un}function Tf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:jr(""+e)}function kf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function lg(e,t,n,i,l){if(t==="submit"&&n&&n.stateNode===l){var u=Tf((l[lt]||null).action),f=i.submitter;f&&(t=(t=f[lt]||null)?Tf(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var v=new Mr("action","action",null,i,l);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Un!==0){var w=f?kf(l,f):new FormData(l);yl(n,{pending:!0,data:w,method:l.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=f?kf(l,f):new FormData(l),yl(n,{pending:!0,data:w,method:l.method,action:u},u,w))},currentTarget:l}]})}}for(var Xl=0;Xl<No.length;Xl++){var Zl=No[Xl],ug=Zl.toLowerCase(),cg=Zl[0].toUpperCase()+Zl.slice(1);qt(ug,"on"+cg)}qt(ih,"onAnimationEnd"),qt(rh,"onAnimationIteration"),qt(sh,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(Ey,"onTransitionRun"),qt(Ty,"onTransitionStart"),qt(ky,"onTransitionCancel"),qt(oh,"onTransitionEnd"),xa("onMouseEnter",["mouseout","mouseover"]),xa("onMouseLeave",["mouseout","mouseover"]),xa("onPointerEnter",["pointerout","pointerover"]),xa("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fi));function Of(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var f=i.length-1;0<=f;f--){var v=i[f],w=v.instance,j=v.currentTarget;if(v=v.listener,w!==u&&l.isPropagationStopped())break e;u=v,l.currentTarget=j;try{u(l)}catch(N){Ur(N)}l.currentTarget=null,u=w}else for(f=0;f<i.length;f++){if(v=i[f],w=v.instance,j=v.currentTarget,v=v.listener,w!==u&&l.isPropagationStopped())break e;u=v,l.currentTarget=j;try{u(l)}catch(N){Ur(N)}l.currentTarget=null,u=w}}}}function ce(e,t){var n=t[co];n===void 0&&(n=t[co]=new Set);var i=e+"__bubble";n.has(i)||(jf(t,e,2,!1),n.add(i))}function Fl(e,t,n){var i=0;t&&(i|=4),jf(n,e,i,t)}var xs="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[xs]){e[xs]=!0,_c.forEach(function(n){n!=="selectionchange"&&(hg.has(n)||Fl(n,!1,e),Fl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xs]||(t[xs]=!0,Fl("selectionchange",!1,t))}}function jf(e,t,n,i){switch(rm(t)){case 2:var l=Lg;break;case 8:l=Hg;break;default:l=pu}n=l.bind(null,t,n,e),l=void 0,!bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function tu(e,t,n,i,l){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var v=i.stateNode.containerInfo;if(v===l)break;if(f===4)for(f=i.return;f!==null;){var w=f.tag;if((w===3||w===4)&&f.stateNode.containerInfo===l)return;f=f.return}for(;v!==null;){if(f=ba(v),f===null)return;if(w=f.tag,w===5||w===6||w===26||w===27){i=u=f;continue e}v=v.parentNode}}i=i.return}Mc(function(){var j=u,N=vo(n),z=[];e:{var R=lh.get(e);if(R!==void 0){var I=Mr,Y=e;switch(e){case"keypress":if(Ir(n)===0)break e;case"keydown":case"keyup":I=iy;break;case"focusin":Y="focus",I=Co;break;case"focusout":Y="blur",I=Co;break;case"beforeblur":case"afterblur":I=Co;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=oy;break;case ih:case rh:case sh:I=Qp;break;case oh:I=uy;break;case"scroll":case"scrollend":I=$p;break;case"wheel":I=hy;break;case"copy":case"cut":case"paste":I=Xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Lc;break;case"toggle":case"beforetoggle":I=fy}var F=(t&4)!==0,Ce=!F&&(e==="scroll"||e==="scrollend"),A=F?R!==null?R+"Capture":null:R;F=[];for(var _=j,k;_!==null;){var B=_;if(k=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||k===null||A===null||(B=Si(_,A),B!=null&&F.push(er(_,B,k))),Ce)break;_=_.return}0<F.length&&(R=new I(R,Y,null,n,N),z.push({event:R,listeners:F}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",R&&n!==go&&(Y=n.relatedTarget||n.fromElement)&&(ba(Y)||Y[wa]))break e;if((I||R)&&(R=N.window===N?N:(R=N.ownerDocument)?R.defaultView||R.parentWindow:window,I?(Y=n.relatedTarget||n.toElement,I=j,Y=Y?ba(Y):null,Y!==null&&(Ce=h(Y),F=Y.tag,Y!==Ce||F!==5&&F!==27&&F!==6)&&(Y=null)):(I=null,Y=j),I!==Y)){if(F=Uc,B="onMouseLeave",A="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(F=Lc,B="onPointerLeave",A="onPointerEnter",_="pointer"),Ce=I==null?R:bi(I),k=Y==null?R:bi(Y),R=new F(B,_+"leave",I,n,N),R.target=Ce,R.relatedTarget=k,B=null,ba(N)===j&&(F=new F(A,_+"enter",Y,n,N),F.target=k,F.relatedTarget=Ce,B=F),Ce=B,I&&Y)t:{for(F=dg,A=I,_=Y,k=0,B=A;B;B=F(B))k++;B=0;for(var J=_;J;J=F(J))B++;for(;0<k-B;)A=F(A),k--;for(;0<B-k;)_=F(_),B--;for(;k--;){if(A===_||_!==null&&A===_.alternate){F=A;break t}A=F(A),_=F(_)}F=null}else F=null;I!==null&&Rf(z,R,I,F,!1),Y!==null&&Ce!==null&&Rf(z,Ce,Y,F,!0)}}e:{if(R=j?bi(j):window,I=R.nodeName&&R.nodeName.toLowerCase(),I==="select"||I==="input"&&R.type==="file")var me=Pc;else if(Vc(R))if(Kc)me=xy;else{me=Sy;var K=by}else I=R.nodeName,!I||I.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?j&&yo(j.elementType)&&(me=Pc):me=_y;if(me&&(me=me(e,j))){Yc(z,me,n,N);break e}K&&K(e,R,j),e==="focusout"&&j&&R.type==="number"&&j.memoizedProps.value!=null&&po(R,"number",R.value)}switch(K=j?bi(j):window,e){case"focusin":(Vc(K)||K.contentEditable==="true")&&(Oa=K,jo=j,Oi=null);break;case"focusout":Oi=jo=Oa=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,nh(z,n,N);break;case"selectionchange":if(Ay)break;case"keydown":case"keyup":nh(z,n,N)}var le;if(Eo)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else ka?Wc(e,n)&&(de="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(de="onCompositionStart");de&&(Hc&&n.locale!=="ko"&&(ka||de!=="onCompositionStart"?de==="onCompositionEnd"&&ka&&(le=Dc()):(Sn=N,So="value"in Sn?Sn.value:Sn.textContent,ka=!0)),K=Cs(j,de),0<K.length&&(de=new zc(de,e,null,n,N),z.push({event:de,listeners:K}),le?de.data=le:(le=$c(n),le!==null&&(de.data=le)))),(le=py?yy(e,n):gy(e,n))&&(de=Cs(j,"onBeforeInput"),0<de.length&&(K=new zc("onBeforeInput","beforeinput",null,n,N),z.push({event:K,listeners:de}),K.data=le)),lg(z,e,j,n,N)}Of(z,t)})}function er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cs(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,u=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||u===null||(l=Si(e,n),l!=null&&i.unshift(er(e,l,u)),l=Si(e,t),l!=null&&i.push(er(e,l,u))),e.tag===3)return i;e=e.return}return[]}function dg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rf(e,t,n,i,l){for(var u=t._reactName,f=[];n!==null&&n!==i;){var v=n,w=v.alternate,j=v.stateNode;if(v=v.tag,w!==null&&w===i)break;v!==5&&v!==26&&v!==27||j===null||(w=j,l?(j=Si(n,u),j!=null&&f.unshift(er(n,j,w))):l||(j=Si(n,u),j!=null&&f.push(er(n,j,w)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var fg=/\r\n?/g,mg=/\u0000|\uFFFD/g;function If(e){return(typeof e=="string"?e:""+e).replace(fg,`
`).replace(mg,"")}function Nf(e,t){return t=If(t),If(e)===t}function xe(e,t,n,i,l,u){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Aa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Aa(e,""+i);break;case"className":kr(e,"class",i);break;case"tabIndex":kr(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(e,n,i);break;case"style":Ic(e,i,u);break;case"data":if(t!=="object"){kr(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=jr(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&xe(e,t,"name",l.name,l,null),xe(e,t,"formEncType",l.formEncType,l,null),xe(e,t,"formMethod",l.formMethod,l,null),xe(e,t,"formTarget",l.formTarget,l,null)):(xe(e,t,"encType",l.encType,l,null),xe(e,t,"method",l.method,l,null),xe(e,t,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=jr(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Zt);break;case"onScroll":i!=null&&ce("scroll",e);break;case"onScrollEnd":i!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=jr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ce("beforetoggle",e),ce("toggle",e),Tr(e,"popover",i);break;case"xlinkActuate":Xt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Xt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Xt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Xt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Xt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Xt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Xt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Tr(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Gp.get(n)||n,Tr(e,n,i))}}function nu(e,t,n,i,l,u){switch(n){case"style":Ic(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Aa(e,i):(typeof i=="number"||typeof i=="bigint")&&Aa(e,""+i);break;case"onScroll":i!=null&&ce("scroll",e);break;case"onScrollEnd":i!=null&&ce("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),u=e[lt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,l),typeof i=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,l);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Tr(e,n,i)}}}function et(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var i=!1,l=!1,u;for(u in n)if(n.hasOwnProperty(u)){var f=n[u];if(f!=null)switch(u){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:xe(e,t,u,f,n,null)}}l&&xe(e,t,"srcSet",n.srcSet,n,null),i&&xe(e,t,"src",n.src,n,null);return;case"input":ce("invalid",e);var v=u=f=l=null,w=null,j=null;for(i in n)if(n.hasOwnProperty(i)){var N=n[i];if(N!=null)switch(i){case"name":l=N;break;case"type":f=N;break;case"checked":w=N;break;case"defaultChecked":j=N;break;case"value":u=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(137,t));break;default:xe(e,t,i,N,n,null)}}kc(e,u,v,w,j,f,l,!1);return;case"select":ce("invalid",e),i=f=u=null;for(l in n)if(n.hasOwnProperty(l)&&(v=n[l],v!=null))switch(l){case"value":u=v;break;case"defaultValue":f=v;break;case"multiple":i=v;default:xe(e,t,l,v,n,null)}t=u,n=f,e.multiple=!!i,t!=null?Ca(e,!!i,t,!1):n!=null&&Ca(e,!!i,n,!0);return;case"textarea":ce("invalid",e),u=l=i=null;for(f in n)if(n.hasOwnProperty(f)&&(v=n[f],v!=null))switch(f){case"value":i=v;break;case"defaultValue":l=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:xe(e,t,f,v,n,null)}jc(e,i,l,u);return;case"option":for(w in n)n.hasOwnProperty(w)&&(i=n[w],i!=null)&&(w==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":xe(e,t,w,i,n,null));return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(i=0;i<Fi.length;i++)ce(Fi[i],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in n)if(n.hasOwnProperty(j)&&(i=n[j],i!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:xe(e,t,j,i,n,null)}return;default:if(yo(t)){for(N in n)n.hasOwnProperty(N)&&(i=n[N],i!==void 0&&nu(e,t,N,i,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(i=n[v],i!=null&&xe(e,t,v,i,n,null))}function pg(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,u=null,f=null,v=null,w=null,j=null,N=null;for(I in n){var z=n[I];if(n.hasOwnProperty(I)&&z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":w=z;default:i.hasOwnProperty(I)||xe(e,t,I,null,i,z)}}for(var R in i){var I=i[R];if(z=n[R],i.hasOwnProperty(R)&&(I!=null||z!=null))switch(R){case"type":u=I;break;case"name":l=I;break;case"checked":j=I;break;case"defaultChecked":N=I;break;case"value":f=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(137,t));break;default:I!==z&&xe(e,t,R,I,i,z)}}mo(e,f,v,w,j,N,u,l);return;case"select":I=f=v=R=null;for(u in n)if(w=n[u],n.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":I=w;default:i.hasOwnProperty(u)||xe(e,t,u,null,i,w)}for(l in i)if(u=i[l],w=n[l],i.hasOwnProperty(l)&&(u!=null||w!=null))switch(l){case"value":R=u;break;case"defaultValue":v=u;break;case"multiple":f=u;default:u!==w&&xe(e,t,l,u,i,w)}t=v,n=f,i=I,R!=null?Ca(e,!!n,R,!1):!!i!=!!n&&(t!=null?Ca(e,!!n,t,!0):Ca(e,!!n,n?[]:"",!1));return;case"textarea":I=R=null;for(v in n)if(l=n[v],n.hasOwnProperty(v)&&l!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:xe(e,t,v,null,i,l)}for(f in i)if(l=i[f],u=n[f],i.hasOwnProperty(f)&&(l!=null||u!=null))switch(f){case"value":R=l;break;case"defaultValue":I=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==u&&xe(e,t,f,l,i,u)}Oc(e,R,I);return;case"option":for(var Y in n)R=n[Y],n.hasOwnProperty(Y)&&R!=null&&!i.hasOwnProperty(Y)&&(Y==="selected"?e.selected=!1:xe(e,t,Y,null,i,R));for(w in i)R=i[w],I=n[w],i.hasOwnProperty(w)&&R!==I&&(R!=null||I!=null)&&(w==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":xe(e,t,w,R,i,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in n)R=n[F],n.hasOwnProperty(F)&&R!=null&&!i.hasOwnProperty(F)&&xe(e,t,F,null,i,R);for(j in i)if(R=i[j],I=n[j],i.hasOwnProperty(j)&&R!==I&&(R!=null||I!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(137,t));break;default:xe(e,t,j,R,i,I)}return;default:if(yo(t)){for(var Ce in n)R=n[Ce],n.hasOwnProperty(Ce)&&R!==void 0&&!i.hasOwnProperty(Ce)&&nu(e,t,Ce,void 0,i,R);for(N in i)R=i[N],I=n[N],!i.hasOwnProperty(N)||R===I||R===void 0&&I===void 0||nu(e,t,N,R,i,I);return}}for(var A in n)R=n[A],n.hasOwnProperty(A)&&R!=null&&!i.hasOwnProperty(A)&&xe(e,t,A,null,i,R);for(z in i)R=i[z],I=n[z],!i.hasOwnProperty(z)||R===I||R==null&&I==null||xe(e,t,z,R,i,I)}function Mf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],u=l.transferSize,f=l.initiatorType,v=l.duration;if(u&&v&&Mf(f)){for(f=0,v=l.responseEnd,i+=1;i<n.length;i++){var w=n[i],j=w.startTime;if(j>v)break;var N=w.transferSize,z=w.initiatorType;N&&Mf(z)&&(w=w.responseEnd,f+=N*(w<v?1:(v-j)/(w-j)))}if(--i,t+=8*(u+f)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var au=null,iu=null;function As(e){return e.nodeType===9?e:e.ownerDocument}function Df(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var su=null;function gg(){var e=window.event;return e&&e.type==="popstate"?e===su?!1:(su=e,!0):(su=null,!1)}var Uf=typeof setTimeout=="function"?setTimeout:void 0,vg=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(e){return zf.resolve(null).then(e).catch(bg)}:Uf;function bg(e){setTimeout(function(){throw e})}function zn(e){return e==="head"}function Lf(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(l),ni(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")tr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,tr(n);for(var u=n.firstChild;u;){var f=u.nextSibling,v=u.nodeName;u[wi]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=f}}else n==="body"&&tr(e.ownerDocument.body);n=l}while(n);ni(t)}function Hf(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function ou(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ou(n),ho(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Sg(e,t,n,i){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[wi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=zt(e.nextSibling),e===null)break}return null}function _g(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zt(e.nextSibling),e===null))return null;return e}function qf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=zt(e.nextSibling),e===null))return null;return e}function lu(e){return e.data==="$?"||e.data==="$~"}function uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xg(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cu=null;function Gf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return zt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Wf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function $f(e,t,n){switch(t=As(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function tr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ho(e)}var Lt=new Map,Vf=new Set;function Es(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pn=W.d;W.d={f:Cg,r:Ag,D:Eg,C:Tg,L:kg,m:Og,X:Rg,S:jg,M:Ig};function Cg(){var e=pn.f(),t=gs();return e||t}function Ag(e){var t=Sa(e);t!==null&&t.tag===5&&t.type==="form"?od(t):pn.r(e)}var Fa=typeof document>"u"?null:document;function Yf(e,t,n){var i=Fa;if(i&&typeof t=="string"&&t){var l=Rt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Vf.has(l)||(Vf.add(l),e={rel:e,crossOrigin:n,href:t},i.querySelector(l)===null&&(t=i.createElement("link"),et(t,"link",e),Ke(t),i.head.appendChild(t)))}}function Eg(e){pn.D(e),Yf("dns-prefetch",e,null)}function Tg(e,t){pn.C(e,t),Yf("preconnect",e,t)}function kg(e,t,n){pn.L(e,t,n);var i=Fa;if(i&&e&&t){var l='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Rt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Rt(n.imageSizes)+'"]')):l+='[href="'+Rt(e)+'"]';var u=l;switch(t){case"style":u=ei(e);break;case"script":u=ti(e)}Lt.has(u)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Lt.set(u,e),i.querySelector(l)!==null||t==="style"&&i.querySelector(nr(u))||t==="script"&&i.querySelector(ar(u))||(t=i.createElement("link"),et(t,"link",e),Ke(t),i.head.appendChild(t)))}}function Og(e,t){pn.m(e,t);var n=Fa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Rt(i)+'"][href="'+Rt(e)+'"]',u=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ti(e)}if(!Lt.has(u)&&(e=b({rel:"modulepreload",href:e},t),Lt.set(u,e),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ar(u)))return}i=n.createElement("link"),et(i,"link",e),Ke(i),n.head.appendChild(i)}}}function jg(e,t,n){pn.S(e,t,n);var i=Fa;if(i&&e){var l=_a(i).hoistableStyles,u=ei(e);t=t||"default";var f=l.get(u);if(!f){var v={loading:0,preload:null};if(f=i.querySelector(nr(u)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Lt.get(u))&&hu(e,n);var w=f=i.createElement("link");Ke(w),et(w,"link",e),w._p=new Promise(function(j,N){w.onload=j,w.onerror=N}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ts(f,t,i)}f={type:"stylesheet",instance:f,count:1,state:v},l.set(u,f)}}}function Rg(e,t){pn.X(e,t);var n=Fa;if(n&&e){var i=_a(n).hoistableScripts,l=ti(e),u=i.get(l);u||(u=n.querySelector(ar(l)),u||(e=b({src:e,async:!0},t),(t=Lt.get(l))&&du(e,t),u=n.createElement("script"),Ke(u),et(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(l,u))}}function Ig(e,t){pn.M(e,t);var n=Fa;if(n&&e){var i=_a(n).hoistableScripts,l=ti(e),u=i.get(l);u||(u=n.querySelector(ar(l)),u||(e=b({src:e,async:!0,type:"module"},t),(t=Lt.get(l))&&du(e,t),u=n.createElement("script"),Ke(u),et(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(l,u))}}function Pf(e,t,n,i){var l=(l=te.current)?Es(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=_a(l).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var u=_a(l).hoistableStyles,f=u.get(e);if(f||(l=l.ownerDocument||l,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=l.querySelector(nr(e)))&&!u._p&&(f.instance=u,f.state.loading=5),Lt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Lt.set(e,n),u||Ng(l,e,n,f.state))),t&&i===null)throw Error(o(528,""));return f}if(t&&i!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=_a(l).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ei(e){return'href="'+Rt(e)+'"'}function nr(e){return'link[rel="stylesheet"]['+e+"]"}function Kf(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Ng(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),et(t,"link",n),Ke(t),e.head.appendChild(t))}function ti(e){return'[src="'+Rt(e)+'"]'}function ar(e){return"script[async]"+e}function Qf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Rt(n.href)+'"]');if(i)return t.instance=i,Ke(i),i;var l=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ke(i),et(i,"style",l),Ts(i,n.precedence,e),t.instance=i;case"stylesheet":l=ei(n.href);var u=e.querySelector(nr(l));if(u)return t.state.loading|=4,t.instance=u,Ke(u),u;i=Kf(n),(l=Lt.get(l))&&hu(i,l),u=(e.ownerDocument||e).createElement("link"),Ke(u);var f=u;return f._p=new Promise(function(v,w){f.onload=v,f.onerror=w}),et(u,"link",i),t.state.loading|=4,Ts(u,n.precedence,e),t.instance=u;case"script":return u=ti(n.src),(l=e.querySelector(ar(u)))?(t.instance=l,Ke(l),l):(i=n,(l=Lt.get(u))&&(i=b({},n),du(i,l)),e=e.ownerDocument||e,l=e.createElement("script"),Ke(l),et(l,"link",i),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ts(i,n.precedence,e));return t.instance}function Ts(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,u=l,f=0;f<i.length;f++){var v=i[f];if(v.dataset.precedence===t)u=v;else if(u!==l)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function du(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ks=null;function Jf(e,t,n){if(ks===null){var i=new Map,l=ks=new Map;l.set(n,i)}else l=ks,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var u=n[l];if(!(u[wi]||u[Je]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var v=i.get(f);v?v.push(u):i.set(f,[u])}}return i}function Xf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Mg(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dg(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=ei(i.href),u=t.querySelector(nr(l));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Os.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Ke(u);return}u=t.ownerDocument||t,i=Kf(i),(l=Lt.get(l))&&hu(i,l),u=u.createElement("link"),Ke(u);var f=u;f._p=new Promise(function(v,w){f.onload=v,f.onerror=w}),et(u,"link",i),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Os.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var fu=0;function Bg(e,t){return e.stylesheets&&e.count===0&&Rs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Rs(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&fu===0&&(fu=62500*yg());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rs(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>fu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function Os(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var js=null;function Rs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,js=new Map,t.forEach(Ug,e),js=null,Os.call(e))}function Ug(e,t){if(!(t.state.loading&4)){var n=js.get(e);if(n)var i=n.get(null);else{n=new Map,js.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<l.length;u++){var f=l[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),i=f)}i&&n.set(null,i)}l=t.instance,f=l.getAttribute("data-precedence"),u=n.get(f)||i,u===i&&n.set(null,l),n.set(f,l),this.count++,i=Os.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),u?u.parentNode.insertBefore(l,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var ir={$$typeof:q,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function zg(e,t,n,i,l,u,f,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.hiddenUpdates=oo(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Ff(e,t,n,i,l,u,f,v,w,j,N,z){return e=new zg(e,t,n,f,w,j,N,z,v),t=1,u===!0&&(t|=24),u=wt(3,null,null,t),e.current=u,u.stateNode=e,t=Yo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:n,cache:t},Jo(u),e}function em(e){return e?(e=Ia,e):Ia}function tm(e,t,n,i,l,u){l=em(l),i.context===null?i.context=l:i.pendingContext=l,i=Tn(t),i.payload={element:n},u=u===void 0?null:u,u!==null&&(i.callback=u),n=kn(e,i,t),n!==null&&(mt(n,e,t),Bi(n,e,t))}function nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mu(e,t){nm(e,t),(e=e.alternate)&&nm(e,t)}function am(e){if(e.tag===13||e.tag===31){var t=Fn(e,67108864);t!==null&&mt(t,e,67108864),mu(e,67108864)}}function im(e){if(e.tag===13||e.tag===31){var t=Ct();t=lo(t);var n=Fn(e,t);n!==null&&mt(n,e,t),mu(e,t)}}var Is=!0;function Lg(e,t,n,i){var l=D.T;D.T=null;var u=W.p;try{W.p=2,pu(e,t,n,i)}finally{W.p=u,D.T=l}}function Hg(e,t,n,i){var l=D.T;D.T=null;var u=W.p;try{W.p=8,pu(e,t,n,i)}finally{W.p=u,D.T=l}}function pu(e,t,n,i){if(Is){var l=yu(i);if(l===null)tu(e,t,i,Ns,n),sm(e,i);else if(Gg(l,e,t,n,i))i.stopPropagation();else if(sm(e,i),t&4&&-1<qg.indexOf(e)){for(;l!==null;){var u=Sa(l);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=Kn(u.pendingLanes);if(f!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;f;){var w=1<<31-gt(f);v.entanglements[1]|=w,f&=~w}Jt(u),(ve&6)===0&&(ps=pt()+500,Zi(0))}}break;case 31:case 13:v=Fn(u,2),v!==null&&mt(v,u,2),gs(),mu(u,2)}if(u=yu(i),u===null&&tu(e,t,i,Ns,n),u===l)break;l=u}l!==null&&i.stopPropagation()}else tu(e,t,i,null,n)}}function yu(e){return e=vo(e),gu(e)}var Ns=null;function gu(e){if(Ns=null,e=ba(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ns=e,null}function rm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ep()){case dc:return 2;case fc:return 8;case _r:case Tp:return 32;case mc:return 268435456;default:return 32}default:return 32}}var vu=!1,Ln=null,Hn=null,qn=null,rr=new Map,sr=new Map,Gn=[],qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sm(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":rr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sr.delete(t.pointerId)}}function or(e,t,n,i,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[l]},t!==null&&(t=Sa(t),t!==null&&am(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Gg(e,t,n,i,l){switch(t){case"focusin":return Ln=or(Ln,e,t,n,i,l),!0;case"dragenter":return Hn=or(Hn,e,t,n,i,l),!0;case"mouseover":return qn=or(qn,e,t,n,i,l),!0;case"pointerover":var u=l.pointerId;return rr.set(u,or(rr.get(u)||null,e,t,n,i,l)),!0;case"gotpointercapture":return u=l.pointerId,sr.set(u,or(sr.get(u)||null,e,t,n,i,l)),!0}return!1}function om(e){var t=ba(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,bc(e.priority,function(){im(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,bc(e.priority,function(){im(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);go=i,n.target.dispatchEvent(i),go=null}else return t=Sa(n),t!==null&&am(t),e.blockedOn=n,!1;t.shift()}return!0}function lm(e,t,n){Ms(e)&&n.delete(t)}function Wg(){vu=!1,Ln!==null&&Ms(Ln)&&(Ln=null),Hn!==null&&Ms(Hn)&&(Hn=null),qn!==null&&Ms(qn)&&(qn=null),rr.forEach(lm),sr.forEach(lm)}function Ds(e,t){e.blockedOn===t&&(e.blockedOn=null,vu||(vu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wg)))}var Bs=null;function um(e){Bs!==e&&(Bs=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bs===e&&(Bs=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],l=e[t+2];if(typeof i!="function"){if(gu(i||n)===null)continue;break}var u=Sa(n);u!==null&&(e.splice(t,3),t-=3,yl(u,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function ni(e){function t(w){return Ds(w,e)}Ln!==null&&Ds(Ln,e),Hn!==null&&Ds(Hn,e),qn!==null&&Ds(qn,e),rr.forEach(t),sr.forEach(t);for(var n=0;n<Gn.length;n++){var i=Gn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)om(n),n.blockedOn===null&&Gn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],u=n[i+1],f=l[lt]||null;if(typeof u=="function")f||um(n);else if(f){var v=null;if(u&&u.hasAttribute("formAction")){if(l=u,f=u[lt]||null)v=f.formAction;else if(gu(l)!==null)continue}else v=f.action;typeof v=="function"?n[i+1]=v:(n.splice(i,3),i-=3),um(n)}}}function cm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return l=f})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function wu(e){this._internalRoot=e}Us.prototype.render=wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,i=Ct();tm(n,i,e,t,null,null)},Us.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tm(e.current,2,null,e,null,null),gs(),t[wa]=null}};function Us(e){this._internalRoot=e}Us.prototype.unstable_scheduleHydration=function(e){if(e){var t=wc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gn.length&&t!==0&&t<Gn[n].priority;n++);Gn.splice(n,0,e),n===0&&om(e)}};var hm=a.version;if(hm!=="19.2.3")throw Error(o(527,hm,"19.2.3"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var $g={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zs.isDisabled&&zs.supportsFiber)try{yi=zs.inject($g),yt=zs}catch{}}return ur.createRoot=function(e,t){if(!c(e))throw Error(o(299));var n=!1,i="",l=gd,u=vd,f=wd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Ff(e,1,!1,null,null,n,i,null,l,u,f,cm),e[wa]=t.current,eu(e),new wu(t)},ur.hydrateRoot=function(e,t,n){if(!c(e))throw Error(o(299));var i=!1,l="",u=gd,f=vd,v=wd,w=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=Ff(e,1,!0,t,n??null,i,l,w,u,f,v,cm),t.context=em(null),n=t.current,i=Ct(),i=lo(i),l=Tn(i),l.callback=null,kn(n,l,i),n=i,t.current.lanes=n,vi(t,n),Jt(t),e[wa]=t.current,eu(e),new Us(t)},ur.version="19.2.3",ur}var Sm;function ev(){if(Sm)return _u.exports;Sm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),_u.exports=Fg(),_u.exports}var tv=ev();const nt=[];for(let r=0;r<256;++r)nt.push((r+256).toString(16).slice(1));function nv(r,a=0){return(nt[r[a+0]]+nt[r[a+1]]+nt[r[a+2]]+nt[r[a+3]]+"-"+nt[r[a+4]]+nt[r[a+5]]+"-"+nt[r[a+6]]+nt[r[a+7]]+"-"+nt[r[a+8]]+nt[r[a+9]]+"-"+nt[r[a+10]]+nt[r[a+11]]+nt[r[a+12]]+nt[r[a+13]]+nt[r[a+14]]+nt[r[a+15]]).toLowerCase()}let Eu;const av=new Uint8Array(16);function iv(){if(!Eu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Eu=crypto.getRandomValues.bind(crypto)}return Eu(av)}const rv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_m={randomUUID:rv};function sv(r,a,s){r=r||{};const o=r.random??r.rng?.()??iv();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,nv(o)}function Vs(r,a,s){return _m.randomUUID&&!r?_m.randomUUID():sv(r)}const ov={conflict:"Conflict",support:"Support",dailyLife:"Daily",intimacy:"Intimacy",future:"Future",growth:"Growth"},Fu={conflict:"Conflict & Communication",support:"Emotional Support",dailyLife:"Daily Life & Logistics",intimacy:"Physical Intimacy",future:"Future & Life Goals",growth:"Personal Growth"},ga={conflict:"#FF8A6C",support:"#B284E0",dailyLife:"#5ECFB1",intimacy:"#FF7EB3",future:"#7CB8FF",growth:"#98D89C"},ec=[{id:"r1-conflict-1",theme:"conflict",text:"When plans change last minute...",optionA:"I adapt pretty easily",optionB:"I get stressed or frustrated",round:1,example:"e.g., Dinner reservations fall through, a friend cancels, or weather ruins outdoor plans"},{id:"r1-conflict-2",theme:"conflict",text:"If something's bothering me...",optionA:"I'll bring it up quickly",optionB:"I need time to process first",round:1,example:"e.g., Your partner forgot something important or made a comment that stung"},{id:"r1-conflict-3",theme:"conflict",text:"When my partner and I disagree...",optionA:"I push to reach understanding together",optionB:"I tend to let things go",round:1,example:"e.g., Disagreement about how to spend the weekend or handle a family situation"},{id:"r1-support-1",theme:"support",text:"After a busy day, I usually want to...",optionA:"Talk and connect with my partner",optionB:"Decompress alone for a bit",round:1,example:"e.g., Coming home after a stressful workday or a long commute"},{id:"r1-support-2",theme:"support",text:"When I'm having a bad day...",optionA:"I want to talk about it",optionB:"I want distraction or space",round:1,example:"e.g., Received bad news, had a conflict with a colleague, or feeling down"},{id:"r1-support-3",theme:"support",text:"I'd describe myself as...",optionA:"Usually optimistic",optionB:"More realistic or cautious",round:1,example:"e.g., When thinking about future plans, challenges, or new opportunities"},{id:"r1-dailyLife-1",theme:"dailyLife",text:"On a typical weekend morning...",optionA:"I like having a plan",optionB:"I prefer to go with the flow",round:1,example:"e.g., Saturday morningdo you have a list of things to do or see what happens?"},{id:"r1-dailyLife-2",theme:"dailyLife",text:"When houseguests are coming...",optionA:"I'm excited about it",optionB:"I'm stressed by the prep",round:1,example:"e.g., Family visiting for a weekend or friends staying over"},{id:"r1-dailyLife-3",theme:"dailyLife",text:"When it comes to household chores...",optionA:"I think they are pretty evenly split",optionB:"I feel one person does more",round:1,example:"e.g., Dishes, laundry, cooking, cleaningwho does what?"},{id:"r1-intimacy-1",theme:"intimacy",text:"Spontaneous affection for me...",optionA:"Happens naturally throughout the day",optionB:"Tends to happen at specific times",round:1,example:"e.g., Random hugs, kisses, or touches during daily moments"},{id:"r1-intimacy-2",theme:"intimacy",text:"When it comes to making plans together...",optionA:"I initiate as often as my partner",optionB:"One of us takes the lead more often",round:1,example:"e.g., Date nights, weekend activities, or trips together"},{id:"r1-future-1",theme:"future",text:"My big life goals with my partner...",optionA:"Feel very aligned",optionB:"I'm still figuring some things out",round:1,example:"e.g., Where to live, career paths, having children, lifestyle choices"},{id:"r1-future-2",theme:"future",text:"When I imagine us in 10 years...",optionA:"I'm excited and confident",optionB:"I'm hopeful but uncertain",round:1,example:"e.g., Picturing your life togetherhome, family, adventures"},{id:"r1-growth-1",theme:"growth",text:"In this relationship, I feel like...",optionA:"I can fully be myself",optionB:"I hold back sometimes",round:1,example:"e.g., Sharing quirks, fears, dreams, or unpopular opinions"},{id:"r1-growth-2",theme:"growth",text:"Right now, I think this relationship is...",optionA:"In a really strong place",optionB:"Going through ups and downs",round:1,example:"e.g., Considering recent monthsstability, challenges, growth"}],lv=[{id:"r2-conflict-1",theme:"conflict",text:"When tensions are high...",optionA:"I want to resolve it immediately",optionB:"I need time to cool down first",round:2},{id:"r2-conflict-2",theme:"conflict",text:"During an argument, I tend to...",optionA:"Stay calm and logical",optionB:"Get emotional and reactive",round:2},{id:"r2-conflict-3",theme:"conflict",text:"After a fight, I usually feel...",optionA:"Closer once it is resolved",optionB:"Drained and need recovery time",round:2},{id:"r2-conflict-4",theme:"conflict",text:"When my partner criticizes something I did...",optionA:"I try to understand their perspective",optionB:"I get defensive at first",round:2},{id:"r2-conflict-5",theme:"conflict",text:"If the same argument keeps coming up...",optionA:"I try different approaches",optionB:"I notice it follows a similar pattern",round:2},{id:"r2-conflict-6",theme:"conflict",text:"When I need to apologize...",optionA:"I do it pretty easily",optionB:"It takes me a while to get there",round:2},{id:"r2-conflict-7",theme:"conflict",text:"In disagreements, I prioritize...",optionA:"Being understood",optionB:"Understanding my partner",round:2},{id:"r2-conflict-8",theme:"conflict",text:"When something upsets me, I...",optionA:"Say something right away",optionB:"Wait for the right moment",round:2},{id:"r2-conflict-9",theme:"conflict",text:"I think small annoyances should be...",optionA:"Addressed when they happen",optionB:"Let go most of the time",round:2},{id:"r2-conflict-10",theme:"conflict",text:"When my partner and I disagree on something important...",optionA:"I feel like I compromise fairly well",optionB:"I feel like one of us usually gives in",round:2},{id:"r2-conflict-11",theme:"conflict",text:"If I feel hurt, I typically...",optionA:"Express it clearly",optionB:"Show it through my behavior",round:2},{id:"r2-conflict-12",theme:"conflict",text:"During a heated moment, my voice...",optionA:"Stays relatively calm",optionB:"Gets louder or more intense",round:2},{id:"r2-conflict-13",theme:"conflict",text:"After a disagreement, I prefer to...",optionA:"Talk it through completely",optionB:"Move on and not dwell",round:2},{id:"r2-conflict-14",theme:"conflict",text:"When my partner is frustrated with me...",optionA:"I want to fix it immediately",optionB:"I give them space first",round:2},{id:"r2-conflict-15",theme:"conflict",text:"I think problems should be discussed...",optionA:"As soon as possible",optionB:"When both people are calm",round:2},{id:"r2-conflict-16",theme:"conflict",text:"If I'm wrong, I...",optionA:"Admit it pretty quickly",optionB:"Need time to accept it",round:2},{id:"r2-conflict-17",theme:"conflict",text:"I think my communication during conflict is...",optionA:"Something I do well",optionB:"Something I am working on",round:2},{id:"r2-conflict-18",theme:"conflict",text:"If my partner and I argue before bed...",optionA:"I try to resolve it first",optionB:"I sometimes need to sleep on it",round:2},{id:"r2-conflict-19",theme:"conflict",text:"Silent treatment in my relationship...",optionA:"Rarely happens",optionB:"Happens occasionally",round:2},{id:"r2-conflict-20",theme:"conflict",text:"When recalling past arguments...",optionA:"I think my partner and I remember them similarly",optionB:"I notice different details than my partner",round:2},{id:"r2-conflict-21",theme:"conflict",text:"Bringing up sensitive topics feels...",optionA:"Safe and welcomed",optionB:"A bit risky sometimes",round:2},{id:"r2-conflict-22",theme:"conflict",text:"When stressed, my communication style...",optionA:"Stays mostly the same",optionB:"Changes noticeably",round:2},{id:"r2-conflict-23",theme:"conflict",text:"I think my biggest communication strength is...",optionA:"My honesty",optionB:"My patience",round:2},{id:"r2-conflict-24",theme:"conflict",text:"When I feel unheard...",optionA:"I say so directly",optionB:"I pull back emotionally",round:2},{id:"r2-conflict-25",theme:"conflict",text:'Saying "I am sorry" for me...',optionA:"Happens naturally when needed",optionB:"Can be challenging sometimes",round:2},{id:"r2-conflict-26",theme:"conflict",text:"During disagreements, I focus more on...",optionA:"The specific issue at hand",optionB:"The bigger patterns I notice",round:2},{id:"r2-conflict-27",theme:"conflict",text:"I think my partner and I fight...",optionA:"Less than most couples",optionB:"About as much as most couples",round:2},{id:"r2-conflict-28",theme:"conflict",text:"When my partner and I cannot agree...",optionA:"I look for middle ground",optionB:"I can agree to disagree",round:2},{id:"r2-conflict-29",theme:"conflict",text:"Discussing money or finances...",optionA:"Usually goes smoothly for me",optionB:"Can create tension",round:2},{id:"r2-conflict-30",theme:"conflict",text:"If my partner needs to vent...",optionA:"I listen without trying to fix",optionB:"I naturally try to solve it",round:2}],uv=[{id:"r2-support-1",theme:"support",text:"When I share about my day...",optionA:"I mostly want empathy",optionB:"I want advice or solutions",round:2},{id:"r2-support-2",theme:"support",text:"When my partner is sad, I usually...",optionA:"Want to fix it for them",optionB:"Want to just be present",round:2},{id:"r2-support-3",theme:"support",text:"I feel most connected when...",optionA:"My partner and I are talking deeply",optionB:"My partner and I are doing things together",round:2},{id:"r2-support-4",theme:"support",text:"My preferred way to receive love is...",optionA:"Words and affirmations",optionB:"Actions and quality time",round:2},{id:"r2-support-5",theme:"support",text:"When I am stressed, I need my partner to...",optionA:"Check in and talk",optionB:"Give me space",round:2},{id:"r2-support-6",theme:"support",text:"In tough times, I tend to...",optionA:"Lean on my partner more",optionB:"Handle things independently",round:2},{id:"r2-support-7",theme:"support",text:"I feel supported when my partner...",optionA:"Validates my feelings",optionB:"Takes action to help",round:2},{id:"r2-support-8",theme:"support",text:"Sharing my vulnerabilities...",optionA:"Comes naturally with my partner",optionB:"Still feels a bit scary",round:2},{id:"r2-support-9",theme:"support",text:"When my partner is having a rough day...",optionA:"I sense it pretty quickly",optionB:"They usually need to tell me",round:2},{id:"r2-support-10",theme:"support",text:"Crying in front of my partner...",optionA:"Feels completely okay",optionB:"Is something I try to avoid",round:2},{id:"r2-support-11",theme:"support",text:"I show love primarily through...",optionA:"Saying how I feel",optionB:"Doing things for my partner",round:2},{id:"r2-support-12",theme:"support",text:"When celebrating wins together...",optionA:"I like to make a big deal of it",optionB:"I prefer keeping it low-key",round:2},{id:"r2-support-13",theme:"support",text:"I feel most appreciated when...",optionA:"My partner says thank you",optionB:"My partner returns the gesture",round:2},{id:"r2-support-14",theme:"support",text:"During big life decisions...",optionA:"I want constant input from my partner",optionB:"I process independently first",round:2},{id:"r2-support-15",theme:"support",text:"I think my partner and I are good at...",optionA:"Emotional conversations",optionB:"Practical support",round:2},{id:"r2-support-16",theme:"support",text:"If I'm worried about something...",optionA:"I share it right away",optionB:"I wait until I have more clarity",round:2},{id:"r2-support-17",theme:"support",text:"Physical comfort like hugs when upset...",optionA:"Is very important to me",optionB:"Matters less than talking",round:2},{id:"r2-support-18",theme:"support",text:"I would describe my emotional bond with my partner as...",optionA:"Deep and secure",optionB:"Growing and evolving",round:2},{id:"r2-support-19",theme:"support",text:"When my partner doesn't understand me...",optionA:"I try explaining differently",optionB:"I feel frustrated",round:2},{id:"r2-support-20",theme:"support",text:"Asking for help from my partner...",optionA:"Comes easily to me",optionB:"Is something I am learning",round:2},{id:"r2-support-21",theme:"support",text:"When something exciting happens to me...",optionA:"My partner is the first to know",optionB:"I share it when I see them later",round:2},{id:"r2-support-22",theme:"support",text:"I think my partner understands my needs...",optionA:"Really well",optionB:"Most of the time",round:2},{id:"r2-support-23",theme:"support",text:"My partner and I check in emotionally...",optionA:"Pretty regularly",optionB:"When something comes up",round:2},{id:"r2-support-24",theme:"support",text:"When I need reassurance...",optionA:"I ask for it directly",optionB:"I hope my partner notices",round:2},{id:"r2-support-25",theme:"support",text:"The emotional support in my relationship feels...",optionA:"Balanced and mutual",optionB:"Sometimes one-sided",round:2},{id:"r2-support-26",theme:"support",text:"When dealing with external stress (work, family)...",optionA:"I tackle it with my partner as a team",optionB:"I handle mine separately",round:2},{id:"r2-support-27",theme:"support",text:"I think surprise gestures are...",optionA:"Important for connection",optionB:"Nice but not essential",round:2},{id:"r2-support-28",theme:"support",text:"When I've had a really long day...",optionA:"I want to debrief with my partner",optionB:"I want quiet and rest",round:2},{id:"r2-support-29",theme:"support",text:"My partner makes me feel...",optionA:"Safe to be fully myself",optionB:"Loved even when I hold back",round:2},{id:"r2-support-30",theme:"support",text:"I express gratitude in my relationship...",optionA:"Verbally and often",optionB:"Through actions",round:2}],cv=[{id:"r2-dailyLife-1",theme:"dailyLife",text:"My morning routine compared to my partner is...",optionA:"Pretty similar",optionB:"Quite different",round:2},{id:"r2-dailyLife-2",theme:"dailyLife",text:"When it comes to cleanliness standards...",optionA:"I think my partner and I are similar",optionB:"I think we have different thresholds",round:2},{id:"r2-dailyLife-3",theme:"dailyLife",text:"Cooking at home...",optionA:"Is something I enjoy doing together",optionB:"Is usually handled by one of us",round:2},{id:"r2-dailyLife-4",theme:"dailyLife",text:"My sleep schedule compared to my partner is...",optionA:"Pretty aligned",optionB:"Quite different",round:2},{id:"r2-dailyLife-5",theme:"dailyLife",text:"Handling finances together...",optionA:"Works smoothly for me",optionB:"Has been a learning curve",round:2},{id:"r2-dailyLife-6",theme:"dailyLife",text:"On weeknights, I typically prefer to...",optionA:"Spend time with my partner",optionB:"Do my own thing",round:2},{id:"r2-dailyLife-7",theme:"dailyLife",text:"When grocery shopping...",optionA:"I like planning together",optionB:"I prefer one person handles it",round:2},{id:"r2-dailyLife-8",theme:"dailyLife",text:"My ideal weekend involves...",optionA:"Doing activities with my partner",optionB:"A mix of together and alone time",round:2},{id:"r2-dailyLife-9",theme:"dailyLife",text:"Decision-making about the home...",optionA:"I prefer discussing everything",optionB:"I prefer we each handle different areas",round:2},{id:"r2-dailyLife-10",theme:"dailyLife",text:"When my partner is sick...",optionA:"I become full caretaker",optionB:"I let them handle it independently",round:2},{id:"r2-dailyLife-11",theme:"dailyLife",text:"My approach to saving money compared to my partner is...",optionA:"Very similar",optionB:"Somewhat different",round:2},{id:"r2-dailyLife-12",theme:"dailyLife",text:"Planning vacations together...",optionA:"Is exciting and smooth for me",optionB:"Can cause some friction",round:2},{id:"r2-dailyLife-13",theme:"dailyLife",text:"My TV and entertainment tastes compared to my partner...",optionA:"Overlap a lot",optionB:"Are pretty different",round:2},{id:"r2-dailyLife-14",theme:"dailyLife",text:"When hosting people at home...",optionA:"I really enjoy it",optionB:"I find it stressful",round:2},{id:"r2-dailyLife-15",theme:"dailyLife",text:"My eating habits compared to my partner are...",optionA:"Very compatible",optionB:"A bit different",round:2},{id:"r2-dailyLife-16",theme:"dailyLife",text:"I think my partner and I spend money on...",optionA:"Similar priorities",optionB:"Different priorities",round:2},{id:"r2-dailyLife-17",theme:"dailyLife",text:"When it comes to organization...",optionA:"I think my partner and I are aligned",optionB:"I think we have different systems",round:2},{id:"r2-dailyLife-18",theme:"dailyLife",text:"My social life as part of a couple...",optionA:"Feels well-balanced",optionB:"Could use some attention",round:2},{id:"r2-dailyLife-19",theme:"dailyLife",text:"When it comes to pets...",optionA:"My partner and I totally agree",optionB:"I think we see it a bit differently",round:2},{id:"r2-dailyLife-20",theme:"dailyLife",text:"My work-life boundaries compared to my partner are...",optionA:"Similar",optionB:"Different",round:2},{id:"r2-dailyLife-21",theme:"dailyLife",text:"When it comes to exercising...",optionA:"My partner and I motivate each other",optionB:"I do my own thing",round:2},{id:"r2-dailyLife-22",theme:"dailyLife",text:"My screen time habits compared to my partner are...",optionA:"Pretty similar",optionB:"Different",round:2},{id:"r2-dailyLife-23",theme:"dailyLife",text:"Running errands with my partner...",optionA:"Is something that works well",optionB:"Can test my patience",round:2},{id:"r2-dailyLife-24",theme:"dailyLife",text:"My thermostat preferences compared to my partner are...",optionA:"The same",optionB:"A point of negotiation",round:2},{id:"r2-dailyLife-25",theme:"dailyLife",text:"When furniture shopping or decorating...",optionA:"My tastes align with my partner",optionB:"I usually need to compromise",round:2},{id:"r2-dailyLife-26",theme:"dailyLife",text:"Managing calendars and schedules with my partner...",optionA:"Works well",optionB:"Causes some mix-ups",round:2},{id:"r2-dailyLife-27",theme:"dailyLife",text:"My approach to health and wellness compared to my partner is...",optionA:"Pretty aligned",optionB:"Different in some ways",round:2},{id:"r2-dailyLife-28",theme:"dailyLife",text:"Dealing with household repairs...",optionA:"I like figuring it out together",optionB:"I prefer one of us takes the lead",round:2},{id:"r2-dailyLife-29",theme:"dailyLife",text:"My attitude about clutter compared to my partner is...",optionA:"Very similar",optionB:"Different",round:2},{id:"r2-dailyLife-30",theme:"dailyLife",text:"Splitting time between families...",optionA:"Feels balanced and fair to me",optionB:"Can be a bit tricky",round:2}],hv=[{id:"r2-intimacy-1",theme:"intimacy",text:"Physical touch in my relationship...",optionA:"Happens very naturally",optionB:"Could be more frequent",round:2},{id:"r2-intimacy-2",theme:"intimacy",text:"I feel most desired when...",optionA:"My partner initiates",optionB:"My partner responds enthusiastically",round:2},{id:"r2-intimacy-3",theme:"intimacy",text:"Talking about physical intimacy...",optionA:"Is comfortable for me",optionB:"Could be easier",round:2},{id:"r2-intimacy-4",theme:"intimacy",text:"My preferences for closeness compared to my partner...",optionA:"Are well matched",optionB:"Differ somewhat",round:2},{id:"r2-intimacy-5",theme:"intimacy",text:"Non-sexual physical affection for me...",optionA:"Happens throughout each day",optionB:"Happens at certain moments",round:2},{id:"r2-intimacy-6",theme:"intimacy",text:"I think quality time together...",optionA:"Is central to my connection with my partner",optionB:"Is one of many ways I connect",round:2},{id:"r2-intimacy-7",theme:"intimacy",text:"After being apart from my partner...",optionA:"Reuniting feels very affectionate",optionB:"I ease back into togetherness",round:2},{id:"r2-intimacy-8",theme:"intimacy",text:"Expressing physical attraction to my partner...",optionA:"I do often",optionB:"I could do more",round:2},{id:"r2-intimacy-9",theme:"intimacy",text:"Date nights for me are...",optionA:"A regular priority",optionB:"Something I should do more",round:2},{id:"r2-intimacy-10",theme:"intimacy",text:"I prefer to show affection...",optionA:"Publicly",optionB:"Privately",round:2},{id:"r2-intimacy-11",theme:"intimacy",text:"Romantic gestures in my relationship...",optionA:"Happen fairly often",optionB:"Are less frequent than I would like",round:2},{id:"r2-intimacy-12",theme:"intimacy",text:"Holding hands or cuddling...",optionA:"Happens regularly for me",optionB:"Happens sometimes",round:2},{id:"r2-intimacy-13",theme:"intimacy",text:"I feel most connected after...",optionA:"Deep conversations",optionB:"Physical closeness",round:2},{id:"r2-intimacy-14",theme:"intimacy",text:"My physical relationship with my partner...",optionA:"Is a strength",optionB:"Is something I am nurturing",round:2},{id:"r2-intimacy-15",theme:"intimacy",text:"Being playful and flirty...",optionA:"Comes naturally to me",optionB:"Is something I could do more",round:2},{id:"r2-intimacy-16",theme:"intimacy",text:"I feel my partner finds me attractive...",optionA:"Absolutely, no doubt",optionB:"Yes, but I like more reminders",round:2},{id:"r2-intimacy-17",theme:"intimacy",text:"Morning kisses or greetings...",optionA:"Are an everyday thing for me",optionB:"Happen when I remember",round:2},{id:"r2-intimacy-18",theme:"intimacy",text:"Sharing a bed...",optionA:"Feels essential to my bond with my partner",optionB:"Is nice but sleep quality matters more",round:2},{id:"r2-intimacy-19",theme:"intimacy",text:"When I am not in the mood...",optionA:"My partner handles it gracefully",optionB:"It can feel like rejection",round:2},{id:"r2-intimacy-20",theme:"intimacy",text:"Surprise physical affection...",optionA:"Always makes me smile",optionB:"Depends on my mood",round:2},{id:"r2-intimacy-21",theme:"intimacy",text:"I think romance should be...",optionA:"Spontaneous and organic",optionB:"Planned and intentional",round:2},{id:"r2-intimacy-22",theme:"intimacy",text:"Eye contact during meaningful moments...",optionA:"Happens naturally for me",optionB:"Is something I could improve",round:2},{id:"r2-intimacy-23",theme:"intimacy",text:"I compliment my partner...",optionA:"Regularly",optionB:"Less than I should",round:2},{id:"r2-intimacy-24",theme:"intimacy",text:"My need for physical affection compared to my partner is...",optionA:"Very similar",optionB:"A bit different",round:2},{id:"r2-intimacy-25",theme:"intimacy",text:"Connection rituals (morning coffee, evening walk)...",optionA:"I have several with my partner",optionB:"I could create more",round:2},{id:"r2-intimacy-26",theme:"intimacy",text:"When busy or stressed, intimacy...",optionA:"Stays a priority for me",optionB:"Often gets pushed aside",round:2},{id:"r2-intimacy-27",theme:"intimacy",text:"I feel most romantic when...",optionA:"My partner and I have uninterrupted time",optionB:"My partner does something thoughtful",round:2},{id:"r2-intimacy-28",theme:"intimacy",text:"My comfort with physical vulnerability...",optionA:"Is very high",optionB:"Is still growing",round:2},{id:"r2-intimacy-29",theme:"intimacy",text:'I say "I love you"...',optionA:"Multiple times daily",optionB:"At key moments",round:2},{id:"r2-intimacy-30",theme:"intimacy",text:"Physical affection before sleep...",optionA:"Is part of my routine",optionB:"Happens occasionally",round:2}],dv=[{id:"r2-future-1",theme:"future",text:"My vision for where to live long-term...",optionA:"Is very aligned with my partner",optionB:"Has some differences",round:2},{id:"r2-future-2",theme:"future",text:"When it comes to having children...",optionA:"I think my partner and I are on the same page",optionB:"I think there is still discussion needed",round:2},{id:"r2-future-3",theme:"future",text:"My career ambitions...",optionA:"Are supported well by my partner",optionB:"Sometimes compete with relationship priorities",round:2},{id:"r2-future-4",theme:"future",text:"Retirement dreams...",optionA:"I have discussed with my partner",optionB:"Have not come up much yet",round:2},{id:"r2-future-5",theme:"future",text:"Financial goals for the future...",optionA:"I share and plan with my partner",optionB:"I approach independently",round:2},{id:"r2-future-6",theme:"future",text:"The pace at which my partner and I make big decisions...",optionA:"Feels right for me",optionB:"Sometimes feels misaligned",round:2},{id:"r2-future-7",theme:"future",text:"My travel and adventure goals...",optionA:"Are very similar to my partner",optionB:"Differ in some ways",round:2},{id:"r2-future-8",theme:"future",text:"My involvement with extended family...",optionA:"Will likely stay as it is",optionB:"May need to evolve",round:2},{id:"r2-future-9",theme:"future",text:"Imagining my life with my partner in 5 years...",optionA:"Excites me",optionB:"Feels a bit uncertain",round:2},{id:"r2-future-10",theme:"future",text:"My approach to risk (career, money, moves)...",optionA:"Is similar to my partner",optionB:"Differs somewhat",round:2},{id:"r2-future-11",theme:"future",text:"Marriage (or deeper commitment)...",optionA:"I feel on the same timeline as my partner",optionB:"I think we see differently",round:2},{id:"r2-future-12",theme:"future",text:"My home ownership goals...",optionA:"Align with my partner",optionB:"Need more discussion",round:2},{id:"r2-future-13",theme:"future",text:"My lifestyle preferences long-term...",optionA:"Match well with my partner",optionB:"Have some differences",round:2},{id:"r2-future-14",theme:"future",text:"Planning for emergencies or the unexpected...",optionA:"I have discussed with my partner",optionB:"Is not something I have tackled",round:2},{id:"r2-future-15",theme:"future",text:"I feel secure about my future with my partner...",optionA:"Absolutely",optionB:"Mostly, with some uncertainty",round:2},{id:"r2-future-16",theme:"future",text:"My educational or learning goals...",optionA:"Are supported by my partner",optionB:"I pursue independently",round:2},{id:"r2-future-17",theme:"future",text:"My views on work-life balance long-term...",optionA:"Are aligned with my partner",optionB:"May need discussion",round:2},{id:"r2-future-18",theme:"future",text:"Building wealth with my partner feels...",optionA:"Like a shared goal",optionB:"More individual with some overlap",round:2},{id:"r2-future-19",theme:"future",text:"How involved family will be in my future...",optionA:"I agree with my partner on",optionB:"I see differently from my partner",round:2},{id:"r2-future-20",theme:"future",text:"The legacy or impact I want to leave...",optionA:"I have talked about with my partner",optionB:"Is not something I discuss",round:2},{id:"r2-future-21",theme:"future",text:"If opportunities required relocation...",optionA:"I think my partner and I could make it work",optionB:"It would be complicated",round:2},{id:"r2-future-22",theme:"future",text:"My spiritual or philosophical alignment with my partner...",optionA:"Is strong",optionB:"Has room to explore",round:2},{id:"r2-future-23",theme:"future",text:"How I prioritize career vs relationship...",optionA:"Feels balanced",optionB:"Can be challenging",round:2},{id:"r2-future-24",theme:"future",text:"My shared dreams with my partner...",optionA:"I discuss regularly",optionB:"I could talk about more",round:2},{id:"r2-future-25",theme:"future",text:"Thinking about aging with my partner...",optionA:"Makes me feel optimistic",optionB:"Is something I should discuss more",round:2},{id:"r2-future-26",theme:"future",text:"My expected standard of living...",optionA:"I agree with my partner on",optionB:"May differ slightly",round:2},{id:"r2-future-27",theme:"future",text:"Hobbies or passions I want to pursue...",optionA:"Are fully supported by my partner",optionB:"Could create time conflicts",round:2},{id:"r2-future-28",theme:"future",text:"Community involvement or giving back...",optionA:"Is a shared value with my partner",optionB:"Matters differently to each of us",round:2},{id:"r2-future-29",theme:"future",text:"If I wanted a major career change...",optionA:"I feel my partner would be supportive",optionB:"It might cause stress",round:2},{id:"r2-future-30",theme:"future",text:"My plans with my partner feel...",optionA:"Like a shared roadmap",optionB:"More like a general direction",round:2}],fv=[{id:"r2-growth-1",theme:"growth",text:"I feel I am becoming a better person through this relationship...",optionA:"Absolutely",optionB:"In some ways",round:2},{id:"r2-growth-2",theme:"growth",text:"My partner challenges me to grow...",optionA:"In healthy ways",optionB:"Not as much as I would like",round:2},{id:"r2-growth-3",theme:"growth",text:"I can share my fears and insecurities...",optionA:"Very openly",optionB:"Sometimes with hesitation",round:2},{id:"r2-growth-4",theme:"growth",text:"This relationship brings out...",optionA:"The best in me",optionB:"Mixed things in me",round:2},{id:"r2-growth-5",theme:"growth",text:"My personal goals and hobbies...",optionA:"Are encouraged by my partner",optionB:"Sometimes take a backseat",round:2},{id:"r2-growth-6",theme:"growth",text:"Giving and receiving constructive feedback...",optionA:"Works well for me",optionB:"Can be sensitive",round:2},{id:"r2-growth-7",theme:"growth",text:"I feel my individuality in this relationship...",optionA:"Is fully supported",optionB:"Could use more space",round:2},{id:"r2-growth-8",theme:"growth",text:"Learning new things with my partner...",optionA:"Is something I do",optionB:"Is not a big focus",round:2},{id:"r2-growth-9",theme:"growth",text:"Past relationship lessons...",optionA:"I have discussed openly with my partner",optionB:"Are mostly private to me",round:2},{id:"r2-growth-10",theme:"growth",text:"I can admit when I am wrong to my partner...",optionA:"Pretty easily",optionB:"With some difficulty",round:2},{id:"r2-growth-11",theme:"growth",text:"This relationship has taught me...",optionA:"A lot about myself",optionB:"Mostly about partnership",round:2},{id:"r2-growth-12",theme:"growth",text:"Space for alone time and self-care...",optionA:"Is well-respected in my relationship",optionB:"Could be improved",round:2},{id:"r2-growth-13",theme:"growth",text:"I feel I can pursue my dreams...",optionA:"With full support from my partner",optionB:"With some compromise",round:2},{id:"r2-growth-14",theme:"growth",text:"I talk about self-improvement with my partner...",optionA:"Regularly",optionB:"Individually mostly",round:2},{id:"r2-growth-15",theme:"growth",text:"When I make mistakes...",optionA:"I feel safe and accepted",optionB:"I sometimes fear judgment",round:2},{id:"r2-growth-16",theme:"growth",text:"My sense of identity in this relationship...",optionA:"Feels strong and secure",optionB:"Is something I am navigating",round:2},{id:"r2-growth-17",theme:"growth",text:"My partner and I celebrate personal wins...",optionA:"Enthusiastically",optionB:"In a low-key way",round:2},{id:"r2-growth-18",theme:"growth",text:"Encouraging each other during tough times...",optionA:"Is a strength of mine",optionB:"Is something I am building",round:2},{id:"r2-growth-19",theme:"growth",text:"I feel heard when I share new ideas...",optionA:"Always",optionB:"Most of the time",round:2},{id:"r2-growth-20",theme:"growth",text:"This relationship helps me...",optionA:"Feel more confident",optionB:"Work through insecurities",round:2},{id:"r2-growth-21",theme:"growth",text:"I handle change in my relationship...",optionA:"By adapting with my partner as a team",optionB:"Individually first, then reconnecting",round:2},{id:"r2-growth-22",theme:"growth",text:"Exploring spirituality or meaning...",optionA:"Is something I share with my partner",optionB:"Is more personal for me",round:2},{id:"r2-growth-23",theme:"growth",text:"Therapy or counseling...",optionA:"I am open to if needed",optionB:"Is not something I have considered",round:2},{id:"r2-growth-24",theme:"growth",text:"I feel my partner accepts...",optionA:"All of who I am",optionB:"Most of who I am",round:2},{id:"r2-growth-25",theme:"growth",text:"Setting goals with my partner...",optionA:"Is exciting for me",optionB:"Could happen more",round:2},{id:"r2-growth-26",theme:"growth",text:"Books, podcasts, or resources about relationships...",optionA:"I explore with my partner",optionB:"Are not really my thing",round:2},{id:"r2-growth-27",theme:"growth",text:"I can be vulnerable without feeling weak...",optionA:"Definitely",optionB:"Sometimes",round:2},{id:"r2-growth-28",theme:"growth",text:"My partner and I inspire each other to...",optionA:"Try new things",optionB:"Appreciate what we have",round:2},{id:"r2-growth-29",theme:"growth",text:"Honest self-reflection in this relationship...",optionA:"Happens regularly for me",optionB:"Could be deeper",round:2},{id:"r2-growth-30",theme:"growth",text:"I feel this relationship is helping me...",optionA:"Become who I want to be",optionB:"Figure out what I want",round:2}],zu={conflict:lv,support:uv,dailyLife:cv,intimacy:hv,future:dv,growth:fv};function tc(r){const a=ec.find(s=>s.id===r);if(a)return a;for(const s of Object.keys(zu)){const o=zu[s].find(c=>c.id===r);if(o)return o}}function mv(r,a,s){const o=s.filter(h=>h.answer.theme===a&&h.answer.matched===!1),c=Fu[a];return o.length>0?{conflict:"In Round 1, you had different views on handling conflict. Let's explore this deeper...",support:"You showed different support preferences in Round 1. Let's understand each other better...",dailyLife:"Your daily life perspectives differed in Round 1. Let's dive into the details...",intimacy:"Round 1 revealed different intimacy styles. Let's explore what this means...",future:"You had some different visions for the future. Let's clarify your hopes...",growth:"Your growth perspectives varied in Round 1. Let's understand your individual journeys..."}[a]:`Exploring more about ${c}...`}const xm={"r2-conflict-1":"e.g., A disagreement arisesdo you want to hash it out now or take a breather?","r2-conflict-2":"e.g., Think about your last argumenthow did you respond emotionally?","r2-conflict-3":"e.g., After resolving a disagreement, how do you typically feel?","r2-conflict-4":"e.g., Your partner points out something you forgotwhat's your initial reaction?","r2-conflict-5":"e.g., That same topic keeps coming uphow do you approach it each time?","r2-support-1":"e.g., You're telling your partner about a tough meetingwhat kind of response helps?","r2-support-2":"e.g., Your partner seems downwhat's your instinct?","r2-support-3":"e.g., Think about when you feel closestis it talking or doing activities?","r2-support-4":"e.g., How do you prefer to receive lovewords or actions?","r2-support-5":"e.g., You're stressed about workwhat do you need from your partner?","r2-dailyLife-1":"e.g., Compare your wake-up routinessimilar or wildly different?","r2-dailyLife-2":"e.g., How clean does the kitchen need to be for you vs. your partner?","r2-dailyLife-3":"e.g., Do you cook together or does one person usually take the lead?","r2-dailyLife-4":"e.g., Are you both night owls, early birds, or mismatched?","r2-dailyLife-5":"e.g., Managing money togethersmooth sailing or learning curve?","r2-intimacy-1":"e.g., Think about casual touches throughout your day together","r2-intimacy-2":"e.g., What makes you feel most wanted by your partner?","r2-intimacy-3":"e.g., Talking about your physical relationshipeasy or awkward?","r2-intimacy-4":"e.g., How much closeness do you each naturally want?","r2-intimacy-5":"e.g., Random hugs, hand-holdinghow often does this happen?","r2-future-1":"e.g., Where do you each imagine living in 10 years?","r2-future-2":"e.g., Kidshave you fully aligned on this topic?","r2-future-3":"e.g., Your career goalshow do they fit with your relationship?","r2-future-4":"e.g., Have you talked about what retirement might look like?","r2-future-5":"e.g., Saving for the futureare you on the same page?","r2-growth-1":"e.g., Has this relationship helped you become a better person?","r2-growth-2":"e.g., Does your partner push you to grow in positive ways?","r2-growth-3":"e.g., Can you share your deepest fears with your partner?","r2-growth-4":"e.g., Does this relationship bring out your best qualities?","r2-growth-5":"e.g., Are your personal goals supported or sidelined?"};function pv(r){const a=tc(r);return a&&a.round===2&&!a.example&&xm[r]?{...a,example:xm[r]}:a}const Tu={conflict:["support","growth"],support:["conflict","intimacy"],dailyLife:["future","growth"],intimacy:["support","conflict"],future:["dailyLife","growth"],growth:["conflict","future"]};function yv(r){const a={conflict:0,support:0,dailyLife:0,intimacy:0,future:0,growth:0};for(const s of r)s.matched===!1&&a[s.theme]++;return a}function tp(r){const a=[...r];for(let s=a.length-1;s>0;s--){const o=Math.floor(Math.random()*(s+1));[a[s],a[o]]=[a[o],a[s]]}return a}function gv(r,a){const s=zu[r];return tp(s).slice(0,a)}function vv(r){const a=yv(r),s=Object.keys(a).filter(d=>a[d]>0),o=Object.values(a).reduce((d,p)=>d+p,0);let c;if(o===0)c={conflict:3,support:3,dailyLife:2,intimacy:3,future:2,growth:2};else if(s.length===1){const d=s[0],[p,y]=Tu[d],g=Object.keys(a).filter(b=>b!==d&&b!==p&&b!==y),S=g[Math.floor(Math.random()*g.length)];c={conflict:0,support:0,dailyLife:0,intimacy:0,future:0,growth:0},c[d]=7,c[p]=3,c[y]=3,c[S]=2}else if(s.length===2){const[d,p]=s,y=Tu[d],g=Tu[p],S=new Set([...y,...g].filter(T=>T!==d&&T!==p)),b=Array.from(S);c={conflict:0,support:0,dailyLife:0,intimacy:0,future:0,growth:0},c[d]=5,c[p]=5;let E=5;for(let T=0;E>0&&T<b.length;T++){const C=Math.min(E,Math.ceil(5/b.length));c[b[T]]=C,E-=C}}else if(s.length>=3&&s.length<=5){c={conflict:0,support:0,dailyLife:0,intimacy:0,future:0,growth:0};for(const g of s)c[g]=2;let d=15-s.length*2;const p=s.reduce((g,S)=>g+a[S],0);for(const g of s){if(d<=0)break;const S=a[g]/p,b=Math.round(S*d);c[g]+=b}let y=Object.values(c).reduce((g,S)=>g+S,0);for(;y>15;){const g=Object.keys(c).reduce((S,b)=>c[S]>c[b]?S:b);c[g]--,y--}for(;y<15;){const g=s.filter(b=>c[b]<30);if(g.length===0)break;const S=g.reduce((b,E)=>a[b]>a[E]?b:E);c[S]++,y++}}else{c={conflict:0,support:0,dailyLife:0,intimacy:0,future:0,growth:0};for(const p of Object.keys(a))c[p]=2;let d=3;for(;d>0;){const p=Object.keys(a).reduce((y,g)=>a[y]/(c[y]+1)>a[g]/(c[g]+1)?y:g);c[p]++,d--}}const h=[];for(const d of Object.keys(c)){const p=c[d];if(p>0){const y=gv(d,p);h.push(...y)}}return tp(h)}function Js(r,a){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&a.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(r);c<o.length;c++)a.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(r,o[c])&&(s[o[c]]=r[o[c]]);return s}function wv(r,a,s,o){function c(h){return h instanceof s?h:new s(function(d){d(h)})}return new(s||(s=Promise))(function(h,d){function p(S){try{g(o.next(S))}catch(b){d(b)}}function y(S){try{g(o.throw(S))}catch(b){d(b)}}function g(S){S.done?h(S.value):c(S.value).then(p,y)}g((o=o.apply(r,a||[])).next())})}const bv=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);class nc extends Error{constructor(a,s="FunctionsError",o){super(a),this.name=s,this.context=o}}class Sv extends nc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Cm extends nc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Am extends nc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Lu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Lu||(Lu={}));class _v{constructor(a,{headers:s={},customFetch:o,region:c=Lu.Any}={}){this.url=a,this.headers=s,this.region=c,this.fetch=bv(o)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return wv(this,arguments,void 0,function*(s,o={}){var c;let h,d;try{const{headers:p,method:y,body:g,signal:S,timeout:b}=o;let E={},{region:T}=o;T||(T=this.region);const C=new URL(`${this.url}/${s}`);T&&T!=="any"&&(E["x-region"]=T,C.searchParams.set("forceFunctionRegion",T));let O;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",O=g):typeof g=="string"?(E["Content-Type"]="text/plain",O=g):typeof FormData<"u"&&g instanceof FormData?O=g:(E["Content-Type"]="application/json",O=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?O=JSON.stringify(g):O=g;let U=S;b&&(d=new AbortController,h=setTimeout(()=>d.abort(),b),S?(U=d.signal,S.addEventListener("abort",()=>d.abort())):U=d.signal);const G=yield this.fetch(C.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),p),body:O,signal:U}).catch(ye=>{throw new Sv(ye)}),$=G.headers.get("x-relay-error");if($&&$==="true")throw new Cm(G);if(!G.ok)throw new Am(G);let q=((c=G.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),X;return q==="application/json"?X=yield G.json():q==="application/octet-stream"||q==="application/pdf"?X=yield G.blob():q==="text/event-stream"?X=G:q==="multipart/form-data"?X=yield G.formData():X=yield G.text(),{data:X,error:null,response:G}}catch(p){return{data:null,error:p,response:p instanceof Am||p instanceof Cm?p.context:void 0}}finally{h&&clearTimeout(h)}})}}var xv=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},Cv=class{constructor(r){var a,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(a=r.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,a){return this.headers=new Headers(this.headers),this.headers.set(r,a),this}then(r,a){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let d=null,p=null,y=null,g=h.status,S=h.statusText;if(h.ok){var b,E;if(s.method!=="HEAD"){var T;const G=await h.text();G===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((T=s.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?p=G:p=JSON.parse(G))}const O=(b=s.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),U=(E=h.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");O&&U&&U.length>1&&(y=parseInt(U[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,g=406,S="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var C;const O=await h.text();try{d=JSON.parse(O),Array.isArray(d)&&h.status===404&&(p=[],d=null,g=200,S="OK")}catch{h.status===404&&O===""?(g=204,S="No Content"):d={message:O}}if(d&&s.isMaybeSingle&&(!(d==null||(C=d.details)===null||C===void 0)&&C.includes("0 rows"))&&(d=null,g=200,S="OK"),d&&s.shouldThrowOnError)throw new xv(d)}return{error:d,data:p,count:y,status:g,statusText:S}});return this.shouldThrowOnError||(c=c.catch(h=>{var d;let p="";const y=h?.cause;if(y){var g,S,b,E;const C=(g=y?.message)!==null&&g!==void 0?g:"",O=(S=y?.code)!==null&&S!==void 0?S:"";p=`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,p+=`

Caused by: ${(E=y?.name)!==null&&E!==void 0?E:"Error"}: ${C}`,O&&(p+=` (${O})`),y?.stack&&(p+=`
${y.stack}`)}else{var T;p=(T=h?.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(r,a)}returns(){return this}overrideTypes(){return this}},Av=class extends Cv{select(r){let a=!1;const s=(r??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const h=c?`${c}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${r}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${r}`),this}range(r,a,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,h=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(h,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:h="text"}={}){var d;const p=[r?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Em=new RegExp("[,()]");var ui=class extends Av{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}regexMatch(r,a){return this.url.searchParams.append(r,`match.${a}`),this}regexIMatch(r,a){return this.url.searchParams.append(r,`imatch.${a}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}isDistinct(r,a){return this.url.searchParams.append(r,`isdistinct.${a}`),this}in(r,a){const s=Array.from(new Set(a)).map(o=>typeof o=="string"&&Em.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,a){const s=Array.from(new Set(a)).map(o=>typeof o=="string"&&Em.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:s,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${c}fts${h}.${a}`),this}match(r){return Object.entries(r).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(r,a,s){return this.url.searchParams.append(r,`not.${a}.${s}`),this}or(r,{foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${r})`),this}filter(r,a,s){return this.url.searchParams.append(r,`${a}.${s}`),this}},Ev=class{constructor(r,{headers:a={},schema:s,fetch:o}){this.url=r,this.headers=new Headers(a),this.schema=s,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,a){const{head:s=!1,count:o}=a??{},c=s?"HEAD":"GET";let h=!1;const d=(r??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join(""),{url:p,headers:y}=this.cloneRequestState();return p.searchParams.set("select",d),o&&y.append("Prefer",`count=${o}`),new ui({method:c,url:p,headers:y,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:s=!0}={}){var o;const c="POST",{url:h,headers:d}=this.cloneRequestState();if(a&&d.append("Prefer",`count=${a}`),s||d.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(p.length>0){const y=[...new Set(p)].map(g=>`"${g}"`);h.searchParams.set("columns",y.join(","))}}return new ui({method:c,url:h,headers:d,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var h;const d="POST",{url:p,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&p.searchParams.set("on_conflict",a),o&&y.append("Prefer",`count=${o}`),c||y.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((S,b)=>S.concat(Object.keys(b)),[]);if(g.length>0){const S=[...new Set(g)].map(b=>`"${b}"`);p.searchParams.set("columns",S.join(","))}}return new ui({method:d,url:p,headers:y,schema:this.schema,body:r,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(r,{count:a}={}){var s;const o="PATCH",{url:c,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new ui({method:o,url:c,headers:h,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var a;const s="DELETE",{url:o,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new ui({method:s,url:o,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Tv=class np{constructor(a,{headers:s={},schema:o,fetch:c}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ev(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new np(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:c=!1,count:h}={}){var d;let p;const y=new URL(`${this.url}/rpc/${a}`);let g;const S=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(S)),b=o&&Object.values(s).some(S);b?(p="POST",g=s):o||c?(p=o?"HEAD":"GET",Object.entries(s).filter(([T,C])=>C!==void 0).map(([T,C])=>[T,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([T,C])=>{y.searchParams.append(T,C)})):(p="POST",g=s);const E=new Headers(this.headers);return b?E.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&E.set("Prefer",`count=${h}`),new ui({method:p,url:y,headers:E,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class kv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const o=s.versions;if(o&&o.node){const c=o.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const o=this.getWebSocketConstructor();return new o(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Ov="2.91.0",jv=`realtime-js/${Ov}`,Rv="1.0.0",ap="2.0.0",Tm=ap,Hu=1e4,Iv=1e3,Nv=100;var $n;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})($n||($n={}));var Ye;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ye||(Ye={}));var Yt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Yt||(Yt={}));var qu;(function(r){r.websocket="websocket"})(qu||(qu={}));var pa;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(pa||(pa={}));class Mv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(a));let o=[a.join_ref,a.ref,a.topic,a.event,a.payload];return s(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer((s=a.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,o;const c=(o=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var s,o;const c=(o=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(a,s,o){var c,h;const d=a.topic,p=(c=a.ref)!==null&&c!==void 0?c:"",y=(h=a.join_ref)!==null&&h!==void 0?h:"",g=a.payload.event,S=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},b=Object.keys(S).length===0?"":JSON.stringify(S);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+p.length+d.length+g.length+b.length,T=new ArrayBuffer(this.HEADER_LENGTH+E);let C=new DataView(T),O=0;C.setUint8(O++,this.KINDS.userBroadcastPush),C.setUint8(O++,y.length),C.setUint8(O++,p.length),C.setUint8(O++,d.length),C.setUint8(O++,g.length),C.setUint8(O++,b.length),C.setUint8(O++,s),Array.from(y,G=>C.setUint8(O++,G.charCodeAt(0))),Array.from(p,G=>C.setUint8(O++,G.charCodeAt(0))),Array.from(d,G=>C.setUint8(O++,G.charCodeAt(0))),Array.from(g,G=>C.setUint8(O++,G.charCodeAt(0))),Array.from(b,G=>C.setUint8(O++,G.charCodeAt(0)));var U=new Uint8Array(T.byteLength+o.byteLength);return U.set(new Uint8Array(T),0),U.set(new Uint8Array(o),T.byteLength),U.buffer}decode(a,s){if(this._isArrayBuffer(a)){let o=this._binaryDecode(a);return s(o)}if(typeof a=="string"){const o=JSON.parse(a),[c,h,d,p,y]=o;return s({join_ref:c,ref:h,topic:d,event:p,payload:y})}return s({})}_binaryDecode(a){const s=new DataView(a),o=s.getUint8(0),c=new TextDecoder;if(o===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,s,c)}_decodeUserBroadcast(a,s,o){const c=s.getUint8(1),h=s.getUint8(2),d=s.getUint8(3),p=s.getUint8(4);let y=this.HEADER_LENGTH+4;const g=o.decode(a.slice(y,y+c));y=y+c;const S=o.decode(a.slice(y,y+h));y=y+h;const b=o.decode(a.slice(y,y+d));y=y+d;const E=a.slice(y,a.byteLength),T=p===this.JSON_ENCODING?JSON.parse(o.decode(E)):E,C={type:this.BROADCAST_EVENT,event:S,payload:T};return d>0&&(C.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||((s=a?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(a,s){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([o])=>s.includes(o)))}}class ip{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ee||(Ee={}));const km=(r,a,s={})=>{var o;const c=(o=s.skipTypes)!==null&&o!==void 0?o:[];return a?Object.keys(a).reduce((h,d)=>(h[d]=Dv(d,r,a,c),h),{}):{}},Dv=(r,a,s,o)=>{const c=a.find(p=>p.name===r),h=c?.type,d=s[r];return h&&!o.includes(h)?rp(h,d):Gu(d)},rp=(r,a)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return Lv(a,s)}switch(r){case Ee.bool:return Bv(a);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return Uv(a);case Ee.json:case Ee.jsonb:return zv(a);case Ee.timestamp:return Hv(a);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Gu(a);default:return Gu(a)}},Gu=r=>r,Bv=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Uv=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},zv=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Lv=(r,a)=>{if(typeof r!="string")return r;const s=r.length-1,o=r[s];if(r[0]==="{"&&o==="}"){let h;const d=r.slice(1,s);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(p=>rp(a,p))}return r},Hv=r=>typeof r=="string"?r.replace(" ","T"):r,sp=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class ku{constructor(a,s,o={},c=Hu){this.channel=a,this.event=s,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var o;return this._hasReceived(a)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(o=>o.status===a).forEach(o=>o.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Om;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Om||(Om={}));class hr{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:h,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hr.syncState(this.state,c,h,d),this.pendingDiffs.forEach(y=>{this.state=hr.syncDiff(this.state,y,h,d)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},c=>{const{onJoin:h,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=hr.syncDiff(this.state,c,h,d),p())}),this.onJoin((c,h,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:d})}),this.onLeave((c,h,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,o,c){const h=this.cloneDeep(a),d=this.transformState(s),p={},y={};return this.map(h,(g,S)=>{d[g]||(y[g]=S)}),this.map(d,(g,S)=>{const b=h[g];if(b){const E=S.map(U=>U.presence_ref),T=b.map(U=>U.presence_ref),C=S.filter(U=>T.indexOf(U.presence_ref)<0),O=b.filter(U=>E.indexOf(U.presence_ref)<0);C.length>0&&(p[g]=C),O.length>0&&(y[g]=O)}else p[g]=S}),this.syncDiff(h,{joins:p,leaves:y},o,c)}static syncDiff(a,s,o,c){const{joins:h,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(h,(p,y)=>{var g;const S=(g=a[p])!==null&&g!==void 0?g:[];if(a[p]=this.cloneDeep(y),S.length>0){const b=a[p].map(T=>T.presence_ref),E=S.filter(T=>b.indexOf(T.presence_ref)<0);a[p].unshift(...E)}o(p,S,y)}),this.map(d,(p,y)=>{let g=a[p];if(!g)return;const S=y.map(b=>b.presence_ref);g=g.filter(b=>S.indexOf(b.presence_ref)<0),a[p]=g,c(p,g,y),g.length===0&&delete a[p]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(o=>s(o,a[o]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,o)=>{const c=a[o];return"metas"in c?s[o]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):s[o]=c,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(jm||(jm={}));var dr;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(dr||(dr={}));var yn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class di{constructor(a,s={config:{}},o){var c,h;if(this.topic=a,this.params=s,this.socket=o,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ku(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new ip(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new hr(this),this.broadcastEndpointURL=sp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var o,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:d,presence:p,private:y}}=this.params,g=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(T=>T.filter))!==null&&c!==void 0?c:[],S=!!this.bindings[dr.PRESENCE]&&this.bindings[dr.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},E={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:S}),postgres_changes:g,private:y};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(T=>a?.(yn.CHANNEL_ERROR,T)),this._onClose(()=>a?.(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:E},b)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:T})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){a?.(yn.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,U=(C=O?.length)!==null&&C!==void 0?C:0,G=[];for(let $=0;$<U;$++){const q=O[$],{filter:{event:X,schema:ye,table:Z,filter:P}}=q,Te=T&&T[$];if(Te&&Te.event===X&&di.isFilterValueEqual(Te.schema,ye)&&di.isFilterValueEqual(Te.table,Z)&&di.isFilterValueEqual(Te.filter,P))G.push(Object.assign(Object.assign({},q),{id:Te.id}));else{this.unsubscribe(),this.state=Ye.errored,a?.(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,a&&a(yn.SUBSCRIBED);return}}).receive("error",T=>{this.state=Ye.errored,a?.(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{a?.(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,o){return this.state===Ye.joined&&a===dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,s,o)}async httpSend(a,s,o={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let y=p.statusText;try{const g=await p.json();y=g.error||g.message||y}catch{}return Promise.reject(new Error(y))}async send(a,s={}){var o,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=a,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,p,y;const g=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),g.receive("ok",()=>h("ok")),g.receive("error",()=>h("error")),g.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ye.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new ku(this,Yt.leave,{},a),o.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(a,s,o){const c=new AbortController,h=setTimeout(()=>c.abort(),o),d=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(h),d}_push(a,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new ku(this,a,s,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Nv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,o){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,o){var c,h;const d=a.toLocaleLowerCase(),{close:p,error:y,leave:g,join:S}=Yt;if(o&&[p,y,g,S].indexOf(d)>=0&&o!==this._joinRef())return;let E=this._onMessage(d,s,o);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var C,O,U;return((C=T.filter)===null||C===void 0?void 0:C.event)==="*"||((U=(O=T.filter)===null||O===void 0?void 0:O.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===d}).map(T=>T.callback(E,o)):(h=this.bindings[d])===null||h===void 0||h.filter(T=>{var C,O,U,G,$,q,X,ye;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in T){const Z=T.id,P=(C=T.filter)===null||C===void 0?void 0:C.event;return Z&&((O=s.ids)===null||O===void 0?void 0:O.includes(Z))&&(P==="*"||P?.toLocaleLowerCase()===((U=s.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))&&(!(!((G=T.filter)===null||G===void 0)&&G.table)||T.filter.table===(($=s.data)===null||$===void 0?void 0:$.table))}else{const Z=(X=(q=T?.filter)===null||q===void 0?void 0:q.event)===null||X===void 0?void 0:X.toLocaleLowerCase();return Z==="*"||Z===((ye=s?.event)===null||ye===void 0?void 0:ye.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===d}).map(T=>{if(typeof E=="object"&&"ids"in E){const C=E.data,{schema:O,table:U,commit_timestamp:G,type:$,errors:q}=C;E=Object.assign(Object.assign({},{schema:O,table:U,commit_timestamp:G,eventType:$,new:{},old:{},errors:q}),this._getPayloadRecords(C))}T.callback(E,o)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,o){const c=a.toLocaleLowerCase(),h={type:c,filter:s,callback:o};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(a,s){const o=a.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===o&&di.isEqual(c.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const o in a)if(a[o]!==s[o])return!1;return!0}static isFilterValueEqual(a,s){return(a??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Yt.close,{},a)}_onError(a){this._on(Yt.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=km(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=km(a.columns,a.old_record)),s}}const Ou=()=>{},Ls={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qv=[1e3,2e3,5e3,1e4],Gv=1e4,Wv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $v{constructor(a,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hu,this.transport=null,this.heartbeatIntervalMs=Ls.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ou,this.ref=0,this.reconnectTimer=null,this.vsn=Tm,this.logger=Ou,this.conn=null,this.sendBuffer=[],this.serializer=new Mv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${qu.websocket}`,this.httpEndpoint=sp(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,o){this.logger(a,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return pa.Connecting;case $n.open:return pa.Open;case $n.closing:return pa.Closing;default:return pa.Closed}}isConnected(){return this.connectionState()===pa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const o=`realtime:${a}`,c=this.getChannels().find(h=>h.topic===o);if(c)return c;{const h=new di(`realtime:${a}`,s,this);return this.channels.push(h),h}}push(a){const{topic:s,event:o,payload:c,ref:h}=a,d=()=>{this.encode(a,p=>{var y;(y=this.conn)===null||y===void 0||y.send(p)})};this.log("push",`${s} ${o} (${h})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Iv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ls.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(o=>o.topic===a&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(S){this.log("error","error in heartbeat callback",S)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:c,payload:h,ref:d}=s,p=d?`(${d})`:"",y=h.status||"";this.log("receive",`${y} ${o} ${c} ${p}`.trim(),h),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(c,h,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===$n.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$n.open||this.conn.readyState===$n.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Yt.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const o=a.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${a}${o}${c}`}_workerObjectUrl(a){let s;if(a)s=a;else{const o=new Blob([Wv],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s,o=!1;if(a)s=a,o=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const h={access_token:s,version:jv};s&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(Yt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(o=>{try{o(s)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(o){this.log("error",`error triggering ${a} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new ip(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ls.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,o,c,h,d,p,y,g,S,b,E,T;switch(this.transport=(s=a?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=a?.timeout)!==null&&o!==void 0?o:Hu,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Ls.HEARTBEAT_INTERVAL,this.worker=(h=a?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=a?.heartbeatCallback)!==null&&p!==void 0?p:Ou,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:Tm,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(C=>qv[C-1]||Gv),this.vsn){case Rv:this.encode=(S=a?.encode)!==null&&S!==void 0?S:((C,O)=>O(JSON.stringify(C))),this.decode=(b=a?.decode)!==null&&b!==void 0?b:((C,O)=>O(JSON.parse(C)));break;case ap:this.encode=(E=a?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(T=a?.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var fr=class extends Error{constructor(r,a){super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Vv(r,a,s){const o=new URL(a,r);if(s)for(const[c,h]of Object.entries(s))h!==void 0&&o.searchParams.set(c,h);return o.toString()}async function Yv(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Pv(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:o,query:c,body:h,headers:d}){const p=Vv(r.baseUrl,o,c),y=await Yv(r.auth),g=await a(p,{method:s,headers:{...h?{"Content-Type":"application/json"}:{},...y,...d},body:h?JSON.stringify(h):void 0}),S=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),E=b&&S?JSON.parse(S):S;if(!g.ok){const T=b?E:void 0,C=T?.error;throw new fr(C?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:C?.type,icebergCode:C?.code,details:T})}return{status:g.status,headers:g.headers,data:E}}}}function Hs(r){return r.join("")}var Kv=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:Hs(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(r,a){const s={namespace:r.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hs(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hs(r.namespace)}`}),!0}catch(a){if(a instanceof fr&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(s){if(s instanceof fr&&s.status===409)return;throw s}}};function ai(r){return r.join("")}var Qv=class{constructor(r,a="",s){this.client=r,this.prefix=a,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ai(r.namespace)}/tables`,body:a,headers:s})).data.metadata}async updateTable(r,a){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ai(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ai(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ai(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(s){if(s instanceof fr&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(s){if(s instanceof fr&&s.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw s}}},Jv=class{constructor(r){let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Pv({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new Kv(this.client,a),this.tableOps=new Qv(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}},Xs=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ne(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Xv=class extends Xs{constructor(r,a,s){super(r),this.name="StorageApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Wu=class extends Xs{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}};const ac=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),Zv=()=>Response,$u=r=>{if(Array.isArray(r))return r.map(s=>$u(s));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([s,o])=>{const c=s.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[c]=$u(o)}),a},Fv=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},ew=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function mr(r){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},mr(r)}function tw(r,a){if(mr(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,a);if(mr(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function nw(r){var a=tw(r,"string");return mr(a)=="symbol"?a:a+""}function aw(r,a,s){return(a=nw(a))in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,r}function Rm(r,a){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);a&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,o)}return s}function ae(r){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Rm(Object(s),!0).forEach(function(o){aw(r,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Rm(Object(s)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(s,o))})}return r}const ju=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},iw=async(r,a,s)=>{r instanceof await Zv()&&!s?.noResolveJson?r.json().then(o=>{const c=r.status||500,h=o?.statusCode||c+"";a(new Xv(ju(o),c,h))}).catch(o=>{a(new Wu(ju(o),o))}):a(new Wu(ju(r),r))},rw=(r,a,s,o)=>{const c={method:r,headers:a?.headers||{}};return r==="GET"||!o?c:(Fv(o)?(c.headers=ae({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(o)):c.body=o,a?.duplex&&(c.duplex=a.duplex),ae(ae({},c),s))};async function br(r,a,s,o,c,h){return new Promise((d,p)=>{r(s,rw(a,o,c,h)).then(y=>{if(!y.ok)throw y;return o?.noResolveJson?y:y.json()}).then(y=>d(y)).catch(y=>iw(y,p,o))})}async function pr(r,a,s,o){return br(r,"GET",a,s,o)}async function Vt(r,a,s,o,c){return br(r,"POST",a,o,c,s)}async function Vu(r,a,s,o,c){return br(r,"PUT",a,o,c,s)}async function sw(r,a,s,o){return br(r,"HEAD",a,ae(ae({},s),{},{noResolveJson:!0}),o)}async function ic(r,a,s,o,c){return br(r,"DELETE",a,o,c,s)}var ow=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}};let op;op=Symbol.toStringTag;var lw=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a,this[op]="BlobDownloadBuilder",this.promise=null}asStream(){return new ow(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.getPromise().then(r,a)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}}};const uw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Im={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cw=class{constructor(r,a={},s,o){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=s,this.fetch=ac(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,a,s,o){var c=this;try{let h;const d=ae(ae({},Im),o);let p=ae(ae({},c.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const y=d.metadata;typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),y&&h.append("metadata",c.encodeMetadata(y)),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),y&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(y))):(h=s,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,y&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),o?.headers&&(p=ae(ae({},p),o.headers));const g=c._removeEmptyFolders(a),S=c._getFinalPath(g),b=await(r=="PUT"?Vu:Vt)(c.fetch,`${c.url}/object/${S}`,h,ae({headers:p},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(Ne(h))return{data:null,error:h};throw h}}async upload(r,a,s){return this.uploadOrUpdate("POST",r,a,s)}async uploadToSignedUrl(r,a,s,o){var c=this;const h=c._removeEmptyFolders(r),d=c._getFinalPath(h),p=new URL(c.url+`/object/upload/sign/${d}`);p.searchParams.set("token",a);try{let y;const g=ae({upsert:Im.upsert},o),S=ae(ae({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(y=new FormData,y.append("cacheControl",g.cacheControl),y.append("",s)):typeof FormData<"u"&&s instanceof FormData?(y=s,y.append("cacheControl",g.cacheControl)):(y=s,S["cache-control"]=`max-age=${g.cacheControl}`,S["content-type"]=g.contentType),{data:{path:h,fullPath:(await Vu(c.fetch,p.toString(),y,{headers:S})).Key},error:null}}catch(y){if(c.shouldThrowOnError)throw y;if(Ne(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(r,a){var s=this;try{let o=s._getFinalPath(r);const c=ae({},s.headers);a?.upsert&&(c["x-upsert"]="true");const h=await Vt(s.fetch,`${s.url}/object/upload/sign/${o}`,{},{headers:c}),d=new URL(s.url+h.url),p=d.searchParams.get("token");if(!p)throw new Xs("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:p},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}async update(r,a,s){return this.uploadOrUpdate("PUT",r,a,s)}async move(r,a,s){var o=this;try{return{data:await Vt(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:o.headers}),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ne(c))return{data:null,error:c};throw c}}async copy(r,a,s){var o=this;try{return{data:{path:(await Vt(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:o.headers})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ne(c))return{data:null,error:c};throw c}}async createSignedUrl(r,a,s){var o=this;try{let c=o._getFinalPath(r),h=await Vt(o.fetch,`${o.url}/object/sign/${c}`,ae({expiresIn:a},s?.transform?{transform:s.transform}:{}),{headers:o.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return h={signedUrl:encodeURI(`${o.url}${h.signedURL}${d}`)},{data:h,error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ne(c))return{data:null,error:c};throw c}}async createSignedUrls(r,a,s){var o=this;try{const c=await Vt(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:a,paths:r},{headers:o.headers}),h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(d=>ae(ae({},d),{},{signedUrl:d.signedURL?encodeURI(`${o.url}${d.signedURL}${h}`):null})),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ne(c))return{data:null,error:c};throw c}}download(r,a){const s=typeof a?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(a?.transform||{}),c=o?`?${o}`:"",h=this._getFinalPath(r),d=()=>pr(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new lw(d,this.shouldThrowOnError)}async info(r){var a=this;const s=a._getFinalPath(r);try{return{data:$u(await pr(a.fetch,`${a.url}/object/info/${s}`,{headers:a.headers})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}async exists(r){var a=this;const s=a._getFinalPath(r);try{return await sw(a.fetch,`${a.url}/object/${s}`,{headers:a.headers}),{data:!0,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Ne(o)&&o instanceof Wu){const c=o.originalError;if([400,404].includes(c?.status))return{data:!1,error:o}}throw o}}getPublicUrl(r,a){const s=this._getFinalPath(r),o=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&o.push(c);const h=typeof a?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(a?.transform||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${p}`)}}}async remove(r){var a=this;try{return{data:await ic(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:r},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async list(r,a,s){var o=this;try{const c=ae(ae(ae({},uw),a),{},{prefix:r||""});return{data:await Vt(o.fetch,`${o.url}/object/list/${o.bucketId}`,c,{headers:o.headers},s),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ne(c))return{data:null,error:c};throw c}}async listV2(r,a){var s=this;try{const o=ae({},r);return{data:await Vt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,o,{headers:s.headers},a),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}};const lp="2.91.0",up={"X-Client-Info":`storage-js/${lp}`};var hw=class{constructor(r,a={},s,o){this.shouldThrowOnError=!1;const c=new URL(r);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ae(ae({},up),a),this.fetch=ac(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var a=this;try{const s=a.listBucketOptionsToQueryString(r);return{data:await pr(a.fetch,`${a.url}/bucket${s}`,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async getBucket(r){var a=this;try{return{data:await pr(a.fetch,`${a.url}/bucket/${r}`,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async createBucket(r,a={public:!1}){var s=this;try{return{data:await Vt(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}async updateBucket(r,a){var s=this;try{return{data:await Vu(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ne(o))return{data:null,error:o};throw o}}async emptyBucket(r){var a=this;try{return{data:await Vt(a.fetch,`${a.url}/bucket/${r}/empty`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async deleteBucket(r){var a=this;try{return{data:await ic(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(r){const a={};return r&&("limit"in r&&(a.limit=String(r.limit)),"offset"in r&&(a.offset=String(r.offset)),r.search&&(a.search=r.search),r.sortColumn&&(a.sortColumn=r.sortColumn),r.sortOrder&&(a.sortOrder=r.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},dw=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ae(ae({},up),a),this.fetch=ac(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await Vt(a.fetch,`${a.url}/bucket`,{name:r},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async listBuckets(r){var a=this;try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const o=s.toString(),c=o?`${a.url}/bucket?${o}`:`${a.url}/bucket`;return{data:await pr(a.fetch,c,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}async deleteBucket(r){var a=this;try{return{data:await ic(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}}from(r){var a=this;if(!ew(r))throw new Xs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Jv({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(s,{get(c,h){const d=c[h];return typeof d!="function"?d:async(...p)=>{try{return{data:await d.apply(c,p),error:null}}catch(y){if(o)throw y;return{data:null,error:y}}}}})}};const rc={"X-Client-Info":`storage-js/${lp}`,"Content-Type":"application/json"};var cp=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Et(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Ru=class extends cp{constructor(r,a,s){super(r),this.name="StorageVectorsApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fw=class extends cp{constructor(r,a){super(r),this.name="StorageVectorsUnknownError",this.originalError=a}};const sc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),mw=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Nm=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),pw=async(r,a,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const o=r.status||500,c=r;if(typeof c.json=="function")c.json().then(h=>{const d=h?.statusCode||h?.code||o+"";a(new Ru(Nm(h),o,d))}).catch(()=>{const h=o+"";a(new Ru(c.statusText||`HTTP ${o} error`,o,h))});else{const h=o+"";a(new Ru(c.statusText||`HTTP ${o} error`,o,h))}}else a(new fw(Nm(r),r))},yw=(r,a,s,o)=>{const c={method:r,headers:a?.headers||{}};return o?(mw(o)?(c.headers=ae({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(o)):c.body=o,ae(ae({},c),s)):c};async function gw(r,a,s,o,c,h){return new Promise((d,p)=>{r(s,yw(a,o,c,h)).then(y=>{if(!y.ok)throw y;if(o?.noResolveJson)return y;const g=y.headers.get("content-type");return!g||!g.includes("application/json")?{}:y.json()}).then(y=>d(y)).catch(y=>pw(y,p,o))})}async function Tt(r,a,s,o,c){return gw(r,"POST",a,o,c,s)}var vw=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ae(ae({},rc),a),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var a=this;try{return{data:await Tt(a.fetch,`${a.url}/CreateIndex`,r,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async getIndex(r,a){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:a},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}async listIndexes(r){var a=this;try{return{data:await Tt(a.fetch,`${a.url}/ListIndexes`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async deleteIndex(r,a){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:a},{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}},ww=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ae(ae({},rc),a),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var a=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Tt(a.fetch,`${a.url}/PutVectors`,r,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async getVectors(r){var a=this;try{return{data:await Tt(a.fetch,`${a.url}/GetVectors`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async listVectors(r){var a=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Tt(a.fetch,`${a.url}/ListVectors`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async queryVectors(r){var a=this;try{return{data:await Tt(a.fetch,`${a.url}/QueryVectors`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async deleteVectors(r){var a=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Tt(a.fetch,`${a.url}/DeleteVectors`,r,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}},bw=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ae(ae({},rc),a),this.fetch=sc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await Tt(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async getBucket(r){var a=this;try{return{data:await Tt(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:r},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async listBuckets(r={}){var a=this;try{return{data:await Tt(a.fetch,`${a.url}/ListVectorBuckets`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async deleteBucket(r){var a=this;try{return{data:await Tt(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}},Sw=class extends bw{constructor(r,a={}){super(r,a.headers||{},a.fetch)}from(r){return new _w(this.url,this.headers,r,this.fetch)}async createBucket(r){var a=()=>super.createBucket,s=this;return a().call(s,r)}async getBucket(r){var a=()=>super.getBucket,s=this;return a().call(s,r)}async listBuckets(r={}){var a=()=>super.listBuckets,s=this;return a().call(s,r)}async deleteBucket(r){var a=()=>super.deleteBucket,s=this;return a().call(s,r)}},_w=class extends vw{constructor(r,a,s,o){super(r,a,o),this.vectorBucketName=s}async createIndex(r){var a=()=>super.createIndex,s=this;return a().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var a=()=>super.listIndexes,s=this;return a().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var a=()=>super.getIndex,s=this;return a().call(s,s.vectorBucketName,r)}async deleteIndex(r){var a=()=>super.deleteIndex,s=this;return a().call(s,s.vectorBucketName,r)}index(r){return new xw(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},xw=class extends ww{constructor(r,a,s,o,c){super(r,a,c),this.vectorBucketName=s,this.indexName=o}async putVectors(r){var a=()=>super.putVectors,s=this;return a().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var a=()=>super.getVectors,s=this;return a().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var a=()=>super.listVectors,s=this;return a().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var a=()=>super.queryVectors,s=this;return a().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var a=()=>super.deleteVectors,s=this;return a().call(s,ae(ae({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Cw=class extends hw{constructor(r,a={},s,o){super(r,a,s,o)}from(r){return new cw(this.url,this.headers,r,this.fetch)}get vectors(){return new Sw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dw(this.url+"/iceberg",this.headers,this.fetch)}};const hp="2.91.0",ci=30*1e3,Yu=3,Iu=Yu*ci,Aw="http://localhost:9999",Ew="supabase.auth.token",Tw={"X-Client-Info":`gotrue-js/${hp}`},Pu="X-Supabase-Api-Version",dp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ow=600*1e3;class yr extends Error{constructor(a,s,o){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function Q(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class jw extends yr{constructor(a,s,o){super(a,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Rw(r){return Q(r)&&r.name==="AuthApiError"}class ya extends yr{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class gn extends yr{constructor(a,s,o,c){super(a,o,c),this.name=s,this.status=o}}class At extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Iw(r){return Q(r)&&r.name==="AuthSessionMissingError"}class ii extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends gn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Gs extends gn{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nw(r){return Q(r)&&r.name==="AuthImplicitGrantRedirectError"}class Mm extends gn{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mw extends gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ku extends gn{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function Nu(r){return Q(r)&&r.name==="AuthRetryableFetchError"}class Dm extends gn{constructor(a,s,o){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Qu extends gn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bm=` 	
\r=`.split(""),Dw=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<Bm.length;a+=1)r[Bm[a].charCodeAt(0)]=-2;for(let a=0;a<Ys.length;a+=1)r[Ys[a].charCodeAt(0)]=a;return r})();function Um(r,a,s){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const o=a.queue>>a.queuedBits-6&63;s(Ys[o]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const o=a.queue>>a.queuedBits-6&63;s(Ys[o]),a.queuedBits-=6}}function fp(r,a,s){const o=Dw[r];if(o>-1)for(a.queue=a.queue<<6|o,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function zm(r){const a=[],s=d=>{a.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=d=>{zw(d,o,s)};for(let d=0;d<r.length;d+=1)fp(r.charCodeAt(d),c,h);return a.join("")}function Bw(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Uw(r,a){for(let s=0;s<r.length;s+=1){let o=r.charCodeAt(s);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(r.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}Bw(o,a)}}function zw(r,a,s){if(a.utf8seq===0){if(r<=127){s(r);return}for(let o=1;o<6;o+=1)if((r>>7-o&1)===0){a.utf8seq=o;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function fi(r){const a=[],s={queue:0,queuedBits:0},o=c=>{a.push(c)};for(let c=0;c<r.length;c+=1)fp(r.charCodeAt(c),s,o);return new Uint8Array(a)}function Lw(r){const a=[];return Uw(r,s=>a.push(s)),new Uint8Array(a)}function va(r){const a=[],s={queue:0,queuedBits:0},o=c=>{a.push(c)};return r.forEach(c=>Um(c,s,o)),Um(null,s,o),a.join("")}function Hw(r){return Math.round(Date.now()/1e3)+r}function qw(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",da={tested:!1,writable:!1},mp=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(da.tested)return da.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),da.tested=!0,da.writable=!0}catch{da.tested=!0,da.writable=!1}return da.writable};function Gw(r){const a={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,h)=>{a[h]=c})}catch{}return s.searchParams.forEach((o,c)=>{a[c]=o}),a}const pp=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),Ww=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",hi=async(r,a,s)=>{await r.setItem(a,JSON.stringify(s))},fa=async(r,a)=>{const s=await r.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},tt=async(r,a)=>{await r.removeItem(a)};class Zs{constructor(){this.promise=new Zs.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}Zs.promiseConstructor=Promise;function Mu(r){const a=r.split(".");if(a.length!==3)throw new Qu("Invalid JWT structure");for(let o=0;o<a.length;o++)if(!kw.test(a[o]))throw new Qu("JWT not in base64url format");return{header:JSON.parse(zm(a[0])),payload:JSON.parse(zm(a[1])),signature:fi(a[2]),raw:{header:a[0],payload:a[1]}}}async function $w(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function Vw(r,a){return new Promise((o,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await r(h);if(!a(h,null,d)){o(d);return}}catch(d){if(!a(h,d)){c(d);return}}})()})}function Yw(r){return("0"+r.toString(16)).substr(-2)}function Pw(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let c="";for(let h=0;h<56;h++)c+=s.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(a),Array.from(a,Yw).join("")}async function Kw(r){const s=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(o);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function Qw(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await Kw(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ri(r,a,s=!1){const o=Pw();let c=o;s&&(c+="/PASSWORD_RECOVERY"),await hi(r,`${a}-code-verifier`,c);const h=await Qw(o);return[h,o===h?"plain":"s256"]}const Jw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xw(r){const a=r.headers.get(Pu);if(!a||!a.match(Jw))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Zw(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function Fw(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function si(r){if(!eb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Du(){const r={};return new Proxy(r,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tb(r,a){return new Proxy(r,{get:(s,o,c)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const h=o.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,c)}return!a.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,o,c)}})}function Lm(r){return JSON.parse(JSON.stringify(r))}const ma=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),nb=[502,503,504];async function Hm(r){var a;if(!Ww(r))throw new Ku(ma(r),0);if(nb.includes(r.status))throw new Ku(ma(r),r.status);let s;try{s=await r.json()}catch(h){throw new ya(ma(h),h)}let o;const c=Xw(r);if(c&&c.getTime()>=dp["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Dm(ma(s),r.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(o==="session_not_found")throw new At}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new Dm(ma(s),r.status,s.weak_password.reasons);throw new jw(ma(s),r.status||500,o)}const ab=(r,a,s,o)=>{const c={method:r,headers:a?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),s))};async function ne(r,a,s,o){var c;const h=Object.assign({},o?.headers);h[Pu]||(h[Pu]=dp["2024-01-01"].name),o?.jwt&&(h.Authorization=`Bearer ${o.jwt}`);const d=(c=o?.query)!==null&&c!==void 0?c:{};o?.redirectTo&&(d.redirect_to=o.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",y=await ib(r,a,s+p,{headers:h,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(y):{data:Object.assign({},y),error:null}}async function ib(r,a,s,o,c,h){const d=ab(a,o,c,h);let p;try{p=await r(s,Object.assign({},d))}catch(y){throw console.error(y),new Ku(ma(y),0)}if(p.ok||await Hm(p),o?.noResolveJson)return p;try{return await p.json()}catch(y){await Hm(y)}}function $t(r){var a;let s=null;ob(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=Hw(r.expires_in)));const o=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:s,user:o},error:null}}function qm(r){const a=$t(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(a.data.weak_password=r.weak_password),a}function Vn(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function rb(r){return{data:r,error:null}}function sb(r){const{action_link:a,email_otp:s,hashed_token:o,redirect_to:c,verification_type:h}=r,d=Js(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:a,email_otp:s,hashed_token:o,redirect_to:c,verification_type:h},y=Object.assign({},d);return{data:{properties:p,user:y},error:null}}function Gm(r){return r}function ob(r){return r.access_token&&r.refresh_token&&r.expires_in}const Bu=["global","local","others"];class lb{constructor({url:a="",headers:s={},fetch:o}){this.url=a,this.headers=s,this.fetch=pp(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=Bu[0]){if(Bu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bu.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}}async inviteUserByEmail(a,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Vn})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async generateLink(a){try{const{options:s}=a,o=Js(a,["options"]),c=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(c.new_email=o?.newEmail,delete c.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:sb,redirectTo:s?.redirectTo})}catch(s){if(Q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Vn})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,o,c,h,d,p,y;try{const g={nextPage:null,lastPage:0,total:0},S=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(h=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Gm});if(S.error)throw S.error;const b=await S.json(),E=(d=S.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(y=(p=S.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return T.length>0&&(T.forEach(C=>{const O=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(C.split(";")[1].split("=")[1]);g[`${U}Page`]=O}),g.total=parseInt(E)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(Q(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){si(a);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Vn})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){si(a);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:Vn})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async deleteUser(a,s=!1){si(a);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:Vn})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async _listFactors(a){si(a.userId);try{const{data:s,error:o}=await ne(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:o}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _deleteFactor(a){si(a.userId),si(a.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,o,c,h,d,p,y;try{const g={nextPage:null,lastPage:0,total:0},S=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(h=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Gm});if(S.error)throw S.error;const b=await S.json(),E=(d=S.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(y=(p=S.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return T.length>0&&(T.forEach(C=>{const O=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(C.split(";")[1].split("=")[1]);g[`${U}Page`]=O}),g.total=parseInt(E)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(Q(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _updateOAuthClient(a,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(a){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}}function Wm(r={}){return{getItem:a=>r[a]||null,setItem:(a,s)=>{r[a]=s},removeItem:a=>{delete r[a]}}}const oi={debug:!!(globalThis&&mp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class ub extends yp{}async function cb(r,a,s){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const o=new globalThis.AbortController;return a>0&&setTimeout(()=>{o.abort(),oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await s()}finally{oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(a===0)throw oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new ub(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(oi.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function hb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gp(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function db(r){return parseInt(r,16)}function fb(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,o=>o.toString(16).padStart(2,"0")).join("")}function mb(r){var a;const{chainId:s,domain:o,expirationTime:c,issuedAt:h=new Date,nonce:d,notBefore:p,requestId:y,resources:g,scheme:S,uri:b,version:E}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const T=gp(r.address),C=S?`${S}://${o}`:o,O=r.statement?`${r.statement}
`:"",U=`${C} wants you to sign in with your Ethereum account:
${T}

${O}`;let G=`URI: ${b}
Version: ${E}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(c&&(G+=`
Expiration Time: ${c.toISOString()}`),p&&(G+=`
Not Before: ${p.toISOString()}`),y&&(G+=`
Request ID: ${y}`),g){let $=`
Resources:`;for(const q of g){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);$+=`
- ${q}`}G+=$}return`${U}
${G}`}class $e extends Error{constructor({message:a,code:s,cause:o,name:c}){var h;super(a,{cause:o}),this.__isWebAuthnError=!0,this.name=(h=c??(o instanceof Error?o.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=s}}class Ps extends $e{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function pb({error:r,options:a}){var s,o,c;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new $e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=h.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new $e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((o=h.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new $e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new $e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new $e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new $e({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return h.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new $e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new $e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const d=window.location.hostname;if(vp(d)){if(h.rp.id!==d)return new $e({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new $e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function yb({error:r,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new $e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new $e({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(vp(o)){if(s.rpId!==o)return new $e({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class gb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const vb=new gb;function wb(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:s,excludeCredentials:o}=r,c=Js(r,["challenge","user","excludeCredentials"]),h=fi(a).buffer,d=Object.assign(Object.assign({},s),{id:fi(s.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:h,user:d});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let y=0;y<o.length;y++){const g=o[y];p.excludeCredentials[y]=Object.assign(Object.assign({},g),{id:fi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function bb(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:s}=r,o=Js(r,["challenge","allowCredentials"]),c=fi(a).buffer,h=Object.assign(Object.assign({},o),{challenge:c});if(s&&s.length>0){h.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const p=s[d];h.allowCredentials[d]=Object.assign(Object.assign({},p),{id:fi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function Sb(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:va(new Uint8Array(r.response.attestationObject)),clientDataJSON:va(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function _b(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,o=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:va(new Uint8Array(c.authenticatorData)),clientDataJSON:va(new Uint8Array(c.clientDataJSON)),signature:va(new Uint8Array(c.signature)),userHandle:c.userHandle?va(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function vp(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function $m(){var r,a;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function xb(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ps("Browser returned unexpected credential type",a)}:{data:null,error:new Ps("Empty credential response",a)}}catch(a){return{data:null,error:pb({error:a,options:r})}}}async function Cb(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ps("Browser returned unexpected credential type",a)}:{data:null,error:new Ps("Empty credential response",a)}}catch(a){return{data:null,error:yb({error:a,options:r})}}}const Ab={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Eb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ks(...r){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),o={};for(const c of r)if(c)for(const h in c){const d=c[h];if(d!==void 0)if(Array.isArray(d))o[h]=d;else if(s(d))o[h]=d;else if(a(d)){const p=o[h];a(p)?o[h]=Ks(p,d):o[h]=Ks(d)}else o[h]=d}return o}function Tb(r,a){return Ks(Ab,r,a||{})}function kb(r,a){return Ks(Eb,r,a||{})}class Ob{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:o,signal:c},h){try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!d)return{data:null,error:p};const y=c??vb.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=Tb(d.webauthn.credential_options.publicKey,h?.create),{data:S,error:b}=await xb({publicKey:g,signal:y});return S?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:S}},error:null}:{data:null,error:b}}case"request":{const g=kb(d.webauthn.credential_options.publicKey,h?.request),{data:S,error:b}=await Cb(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:y}));return S?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:S}},error:null}:{data:null,error:b}}}}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new ya("Unexpected error in challenge",d)}}}async _verify({challengeId:a,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:o})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new yr("rpId is required for WebAuthn authentication")};try{if(!$m())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:o},signal:c},{request:h});if(!d)return{data:null,error:p};const{webauthn:y}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:y.type,rpId:s,rpOrigins:o,credential_response:y.credential_response}})}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new ya("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new yr("rpId is required for WebAuthn registration")};try{if(!$m())return{data:null,error:new ya("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(S=>{var b;return(b=S.data)===null||b===void 0?void 0:b.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===a&&E.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:p};const{data:y,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:c},{create:h});return y?this._verify({factorId:d.id,challengeId:y.challengeId,webauthn:{rpId:s,rpOrigins:o,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:g}}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new ya("Unexpected error in register",d)}}}}hb();const jb={url:Aw,storageKey:Ew,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Vm(r,a,s){return await s()}const li={};class gr{get jwks(){var a,s;return(s=(a=li[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=li[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{cachedAt:a})}constructor(a){var s,o,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},jb),a);if(this.storageKey=h.storageKey,this.instanceID=(s=gr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,gr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&at()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new lb({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=pp(h.fetch),this.lock=h.lock||Vm,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&at()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=cb:this.lock=Vm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ob(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:mp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Wm(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hp}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let s={},o="none";if(at()&&(s=Gw(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),at()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:h}=await this._getSessionFromURL(s,o);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Nw(h)){const y=(a=h.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:d,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Q(s)?this._returnResult({error:s}):this._returnResult({error:new ya("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,o,c;try{const h=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=a?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:$t}),{data:d,error:p}=h;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const y=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(h){if(Q(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var s,o,c;try{let h;if("email"in a){const{email:S,password:b,options:E}=a;let T=null,C=null;this.flowType==="pkce"&&([T,C]=await ri(this.storage,this.storageKey)),h=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:S,password:b,data:(s=E?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:T,code_challenge_method:C},xform:$t})}else if("phone"in a){const{phone:S,password:b,options:E}=a;h=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:b,data:(o=E?.data)!==null&&o!==void 0?o:{},channel:(c=E?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:$t})}else throw new qs("You must provide either an email or phone number and a password");const{data:d,error:p}=h;if(p||!d)return await tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const y=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(h){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let s;if("email"in a){const{email:h,password:d,options:p}=a;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:qm})}else if("phone"in a){const{phone:h,password:d,options:p}=a;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:qm})}else throw new qs("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const h=new ii;return this._returnResult({data:{user:null,session:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(a){var s,o,c,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=a.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,o,c,h,d,p,y,g,S,b,E;let T,C;if("message"in a)T=a.message,C=a.signature;else{const{chain:O,wallet:U,statement:G,options:$}=a;let q;if(at())if(typeof U=="object")q=U;else{const Me=window;if("ethereum"in Me&&typeof Me.ethereum=="object"&&"request"in Me.ethereum&&typeof Me.ethereum.request=="function")q=Me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=U}const X=new URL((s=$?.url)!==null&&s!==void 0?s:window.location.href),ye=await q.request({method:"eth_requestAccounts"}).then(Me=>Me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ye||ye.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=gp(ye[0]);let P=(o=$?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!P){const Me=await q.request({method:"eth_chainId"});P=db(Me)}const Te={domain:X.host,address:Z,statement:G,uri:X.href,version:"1",chainId:P,nonce:(c=$?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(h=$?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=$?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(y=$?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(g=$?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(S=$?.signInWithEthereum)===null||S===void 0?void 0:S.resources};T=mb(Te),C=await q.request({method:"personal_sign",params:[fb(T),Z]})}try{const{data:O,error:U}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:C},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(E=a.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:$t});if(U)throw U;if(!O||!O.session||!O.user){const G=new ii;return this._returnResult({data:{user:null,session:null},error:G})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:U})}catch(O){if(Q(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(a){var s,o,c,h,d,p,y,g,S,b,E,T;let C,O;if("message"in a)C=a.message,O=a.signature;else{const{chain:U,wallet:G,statement:$,options:q}=a;let X;if(at())if(typeof G=="object")X=G;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))X=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=G}const ye=new URL((s=q?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in X&&X.signIn){const Z=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:ye.host,uri:ye.href}),$?{statement:$}:null));let P;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")P=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)P=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)C=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),O=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ye.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${ye.href}`,`Issued At: ${(c=(o=q?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=q?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((d=q?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((p=q?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((y=q?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((g=q?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((b=(S=q?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||b===void 0)&&b.length?["Resources",...q.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const Z=await X.signMessage(new TextEncoder().encode(C),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=Z}}try{const{data:U,error:G}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:va(O)},!((E=a.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:$t});if(G)throw G;if(!U||!U.session||!U.user){const $=new ii;return this._returnResult({data:{user:null,session:null},error:$})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:G})}catch(U){if(Q(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(a){const s=await fa(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(s??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Mw;const{data:h,error:d}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:o},xform:$t});if(await tt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const p=new ii;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return h.session&&(await this._saveSession(h.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",h.session)},0)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:d})}catch(h){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:s,provider:o,token:c,access_token:h,nonce:d}=a,p=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:$t}),{data:y,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y||!y.session||!y.user){const S=new ii;return this._returnResult({data:{user:null,session:null},error:S})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:g})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(a){var s,o,c,h,d;try{if("email"in a){const{email:p,options:y}=a;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await ri(this.storage,this.storageKey));const{error:b}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=y?.data)!==null&&s!==void 0?s:{},create_user:(o=y?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:S},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in a){const{phone:p,options:y}=a,{data:g,error:S}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(h=y?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(d=y?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:S})}throw new qs("You must provide either an email or phone number.")}catch(p){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(a){var s,o;try{let c,h;"options"in a&&(c=(s=a.options)===null||s===void 0?void 0:s.redirectTo,h=(o=a.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:p}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:$t});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const y=d.session,g=d.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(c){if(Q(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var s,o,c,h,d;try{let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ri(this.storage,this.storageKey));const g=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(o=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:y}),headers:this.headers,xform:rb});return!((h=g.data)===null||h===void 0)&&h.url&&at()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;if(o)throw o;if(!s)throw new At;const{error:c}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(Q(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:o,type:c,options:h}=a,{error:d}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:o,type:c,options:h}=a,{data:d,error:p}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new qs("You must provide either an email or phone number and a type")}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const o=a.expires_at?a.expires_at*1e3-Date.now()<Iu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",a.expires_at),!o){if(this.userStorage){const d=await fa(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=Du()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=tb(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(a){try{return a?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Vn}):await this._useSession(async s=>{var o,c,h;const{data:d,error:p}=s;if(p)throw p;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:Vn})})}catch(s){if(Q(s))return Iw(s)&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async o=>{const{data:c,error:h}=o;if(h)throw h;if(!c.session)throw new At;const d=c.session;let p=null,y=null;this.flowType==="pkce"&&a.email!=null&&([p,y]=await ri(this.storage,this.storageKey));const{data:g,error:S}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:p,code_challenge_method:y}),jwt:d.access_token,xform:Vn});if(S)throw S;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new At;const s=Date.now()/1e3;let o=s,c=!0,h=null;const{payload:d}=Mu(a.access_token);if(d.exp&&(o=d.exp,c=o<=s),c){const{data:p,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:y}=await this._getUser(a.access_token);if(y)throw y;h={access_token:a.access_token,refresh_token:a.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(s){if(Q(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var o;if(!a){const{data:d,error:p}=s;if(p)throw p;a=(o=d.session)!==null&&o!==void 0?o:void 0}if(!a?.refresh_token)throw new At;const{data:c,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(a,s){try{if(!at())throw new Gs("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Gs(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Mm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Mm("No code detected.");const{data:$,error:q}=await this._exchangeCodeForSession(a.code);if(q)throw q;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:h,refresh_token:d,expires_in:p,expires_at:y,token_type:g}=a;if(!h||!p||!d||!g)throw new Gs("No session defined in URL");const S=Math.round(Date.now()/1e3),b=parseInt(p);let E=S+b;y&&(E=parseInt(y));const T=E-S;T*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${b}s`);const C=E-b;S-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,E,S):S-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,E,S);const{data:O,error:U}=await this._getUser(h);if(U)throw U;const G={provider_token:o,provider_refresh_token:c,access_token:h,expires_in:b,expires_at:E,refresh_token:d,token_type:g,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:G,redirectType:a.type},error:null})}catch(o){if(Q(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await fa(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:c,error:h}=s;if(h)return this._returnResult({error:h});const d=(o=c.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:p}=await this.admin.signOut(d,a);if(p&&!(Rw(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return a!=="others"&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const s=qw(),o={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(a){return await this._useSession(async s=>{var o,c;try{const{data:{session:h},error:d}=s;if(d)throw d;await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,s={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await ri(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(h){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:o,error:c}=await this._useSession(async h=>{var d,p,y,g,S;const{data:b,error:E}=h;if(E)throw E;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=a.options)===null||p===void 0?void 0:p.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",T,{headers:this.headers,jwt:(S=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&S!==void 0?S:void 0})});if(c)throw c;return at()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:a.provider,url:o?.url},error:null})}catch(o){if(Q(o))return this._returnResult({data:{provider:a.provider,url:null},error:o});throw o}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var o;try{const{error:c,data:{session:h}}=s;if(c)throw c;const{options:d,provider:p,token:y,access_token:g,nonce:S}=a,b=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=h?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:y,access_token:g,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:$t}),{data:E,error:T}=b;return T?this._returnResult({data:{user:null,session:null},error:T}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new ii}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:T}))}catch(c){if(await tt(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var o,c;const{data:h,error:d}=s;if(d)throw d;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Vw(async c=>(c>0&&await $w(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:$t})),(c,h)=>{const d=200*Math.pow(2,c);return h&&Nu(h)&&Date.now()+d-o<ci})}catch(o){if(this._debug(s,"error",o),Q(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",o),at()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:a,url:o},error:null}}async _recoverAndRefresh(){var a,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await fa(this.storage,this.storageKey);if(c&&this.userStorage){let d=await fa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await hi(this.userStorage,this.storageKey+"-user",d)),c.user=(a=d?.user)!==null&&a!==void 0?a:Du()}else if(c&&!c.user&&!c.user){const d=await fa(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await tt(this.storage,this.storageKey+"-user"),await hi(this.storage,this.storageKey,c)):c.user=Du()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const h=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Iu;if(this._debug(o,`session has${h?"":" not"} expired with margin of ${Iu}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),Nu(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(c.access_token);!p&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(a){var s,o;if(!a)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Zs;const{data:h,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!h.session)throw new At;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={data:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(c,"error",h),Q(h)){const d={data:null,error:h};return Nu(h)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,s,o=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:a,session:s});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(a,s)}catch(y){h.push(y)}});if(await Promise.all(d),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await tt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},a),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await hi(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const h=Lm(c);await hi(this.storage,this.storageKey,h)}else{const c=Lm(s);await hi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tt(this.storage,this.storageKey),await tt(this.storage,this.storageKey+"-code-verifier"),await tt(this.storage,this.storageKey+"-user"),this.userStorage&&await tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&at()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-a)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ci}ms, refresh threshold is ${Yu} ticks`),c<=Yu&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof yp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,o){const c=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[h,d]=await ri(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(p.toString())}if(o?.queryParams){const h=new URLSearchParams(o.queryParams);c.push(h.toString())}return o?.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var o;const{data:c,error:h}=s;return h?this._returnResult({data:null,error:h}):await ne(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(a){try{return await this._useSession(async s=>{var o,c;const{data:h,error:d}=s;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:g}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=h?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Sb(a.webauthn.credential_response):_b(a.webauthn.credential_response)})}:{code:a.code}),{data:p,error:y}=await ne(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:y}))})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const d=await ne(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:wb(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:bb(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(a){const{data:s,error:o}=await this._challenge({factorId:a.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=s?.factors)!==null&&a!==void 0?a:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,s;const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Mu(o.access_token);let d=null;h.aal&&(d=h.aal);let p=d;((s=(a=o.user.factors)===null||a===void 0?void 0:a.filter(S=>S.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const g=h.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;return c?this._returnResult({data:null,error:c}):o?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:o.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new At})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(a,s){try{return await this._useSession(async o=>{const{data:{session:c},error:h}=o;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new At});const d=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&at()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(a,s){try{return await this._useSession(async o=>{const{data:{session:c},error:h}=o;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new At});const d=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&at()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;return o?this._returnResult({data:null,error:o}):s?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new At})})}catch(a){if(Q(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;return c?this._returnResult({data:null,error:c}):o?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new At})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(a,s={keys:[]}){let o=s.keys.find(p=>p.kid===a);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(p=>p.kid===a),o&&this.jwks_cached_at+Ow>c)return o;const{data:h,error:d}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,o=h.keys.find(p=>p.kid===a),!o)?null:o}async getClaims(a,s={}){try{let o=a;if(!o){const{data:T,error:C}=await this.getSession();if(C||!T.session)return this._returnResult({data:null,error:C});o=T.session.access_token}const{header:c,payload:h,signature:d,raw:{header:p,payload:y}}=Mu(o);s?.allowExpired||Zw(h.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:T}=await this.getUser(o);if(T)throw T;return{data:{claims:h,header:c,signature:d},error:null}}const S=Fw(c.alg),b=await crypto.subtle.importKey("jwk",g,S,!0,["verify"]);if(!await crypto.subtle.verify(S,b,d,Lw(`${p}.${y}`)))throw new Qu("Invalid JWT signature");return{data:{claims:h,header:c,signature:d},error:null}}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}}gr.nextInstanceID={};const Rb=gr,Ib="2.91.0";let cr="";typeof Deno<"u"?cr="deno":typeof document<"u"?cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cr="react-native":cr="node";const Nb={"X-Client-Info":`supabase-js-${cr}/${Ib}`},Mb={headers:Nb},Db={schema:"public"},Bb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ub={};function vr(r){"@babel/helpers - typeof";return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},vr(r)}function zb(r,a){if(vr(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,a);if(vr(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function Lb(r){var a=zb(r,"string");return vr(a)=="symbol"?a:a+""}function Hb(r,a,s){return(a=Lb(a))in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,r}function Ym(r,a){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);a&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,o)}return s}function Ue(r){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Ym(Object(s),!0).forEach(function(o){Hb(r,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Ym(Object(s)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(s,o))})}return r}const qb=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),Gb=()=>Headers,Wb=(r,a,s)=>{const o=qb(s),c=Gb();return async(h,d)=>{var p;const y=(p=await a())!==null&&p!==void 0?p:r;let g=new c(d?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${y}`),o(h,Ue(Ue({},d),{},{headers:g}))}};function $b(r){return r.endsWith("/")?r:r+"/"}function Vb(r,a){var s,o;const{db:c,auth:h,realtime:d,global:p}=r,{db:y,auth:g,realtime:S,global:b}=a,E={db:Ue(Ue({},y),c),auth:Ue(Ue({},g),h),realtime:Ue(Ue({},S),d),storage:{},global:Ue(Ue(Ue({},b),p),{},{headers:Ue(Ue({},(s=b?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return r.accessToken?E.accessToken=r.accessToken:delete E.accessToken,E}function Yb(r){const a=r?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($b(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Pb=class extends Rb{constructor(r){super(r)}},Kb=class{constructor(r,a,s){var o,c;this.supabaseUrl=r,this.supabaseKey=a;const h=Yb(r);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:Db,realtime:Ub,auth:Ue(Ue({},Bb),{},{storageKey:d}),global:Mb},y=Vb(s??{},p);if(this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(S,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=y.auth)!==null&&g!==void 0?g:{},this.headers,y.global.fetch)}this.fetch=Wb(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Ue({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new Tv(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Cw(this.storageUrl.href,this.headers,this.fetch,s?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new _v(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,a,s)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,a,s;if(r.accessToken)return await r.accessToken();const{data:o}=await r.auth.getSession();return(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:o,userStorage:c,storageKey:h,flowType:d,lock:p,debug:y,throwOnError:g},S,b){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pb({url:this.authUrl.href,headers:Ue(Ue({},E),S),storageKey:h,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:o,userStorage:c,flowType:d,lock:p,debug:y,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new $v(this.realtimeUrl.href,Ue(Ue({},r),{},{params:Ue(Ue({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(r,a,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Qb=(r,a,s)=>new Kb(r,a,s);function Jb(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const a=r.version;if(a==null)return!1;const s=a.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Jb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Ws=null;function oc(){return Ws||(Ws=Qb("https://iurtsyxazaumqfwkhikt.supabase.co","sb_publishable_FzD0QQcdLeS-CB9Mk-Dgdg_DIoLSitl"),Ws)}class Xb{channel=null;async connect(a){let s;try{s=oc()}catch{a.onStatus?.("error");return}this.channel&&await this.disconnect(),a.onStatus?.("connecting");const o=s.channel(`reveal:${a.sessionId}`,{config:{broadcast:{self:!1}}});o.on("broadcast",{event:"action"},({payload:c})=>{a.onMessage({type:"action",payload:c})}),o.on("broadcast",{event:"session_paid"},({payload:c})=>{a.onMessage({type:"session_paid",payload:c})}),o.on("broadcast",{event:"presence"},({payload:c})=>{a.onMessage({type:"presence",payload:c})}),o.on("broadcast",{event:"session_cancelled"},({payload:c})=>{a.onMessage({type:"session_cancelled",payload:c})}),this.channel=o,await new Promise(c=>{o.subscribe(h=>{h==="SUBSCRIBED"?(a.onStatus?.("connected"),c()):h==="CHANNEL_ERROR"||h==="TIMED_OUT"?(a.onStatus?.("error"),c()):h==="CLOSED"&&a.onStatus?.("disconnected")})})}async disconnect(){if(!this.channel)return;const a=this.channel;this.channel=null,await a.unsubscribe()}async sendAction(a){return this.channel?await this.channel.send({type:"broadcast",event:"action",payload:a}):null}async sendSessionPaid(){return this.channel?await this.channel.send({type:"broadcast",event:"session_paid",payload:{paid:!0}}):null}async sendPresence(a){return this.channel?await this.channel.send({type:"broadcast",event:"presence",payload:{player:a}}):null}async sendSessionCancelled(){return this.channel?await this.channel.send({type:"broadcast",event:"session_cancelled",payload:{cancelled:!0}}):null}}const lc="relationship-game-state",uc="relationship-game-payment-status",Qs="relationship-game-partner-names",Ju="relationship-game-remote-session";function Uu(r,a){try{r&&a?localStorage.setItem(Ju,JSON.stringify({sessionId:r,playerId:a,timestamp:Date.now()})):localStorage.removeItem(Ju)}catch{}}function Zb(){try{const r=localStorage.getItem(Ju);if(r){const{sessionId:a,playerId:s}=JSON.parse(r);return{sessionId:a,playerId:s}}}catch{}return{sessionId:null,playerId:null}}function $s(r,a){return(r===1?ec:vv(a||[])).map(o=>({id:Vs(),questionId:o.id,state:"faceDown",answer:{questionId:o.id,theme:o.theme,partner1Answer:null,partner2Answer:null,matched:null}}))}const Pm=Zb(),wp={sessionId:"",partner1Name:"",partner2Name:"",currentPlayer:1,currentScreen:"landing",round1Cards:[],round2Cards:[],round1Complete:!1,round2Complete:!1,hasPaid:!1,selectedCardIndex:null,gameMode:"local",remoteSessionId:Pm.sessionId,remotePlayerId:Pm.playerId,isRemoteConnected:!1,remoteSessionPaid:!1};function Fb(r,a){switch(a.type){case"SET_PARTNER_NAMES":try{localStorage.setItem(Qs,JSON.stringify({partner1Name:a.partner1Name,partner2Name:a.partner2Name}))}catch{}return{...r,partner1Name:a.partner1Name,partner2Name:a.partner2Name};case"START_GAME":try{localStorage.setItem(Qs,JSON.stringify({partner1Name:a.partner1Name,partner2Name:a.partner2Name}))}catch{}return{...r,sessionId:Vs(),partner1Name:a.partner1Name,partner2Name:a.partner2Name,currentPlayer:1,currentScreen:"round1",round1Cards:$s(1),round1Complete:!1,round2Complete:!1,selectedCardIndex:null};case"CONTINUE_GAME":return r.round2Complete?{...r,currentScreen:"finalResults"}:r.round1Complete?{...r,currentScreen:r.hasPaid||r.remoteSessionPaid?"round2":"round1Results"}:{...r,currentScreen:"round1"};case"SELECT_CARD":if(a.index<0)return{...r,selectedCardIndex:null};const s=r.currentScreen==="round1"?r.round1Cards[a.index]:r.round2Cards[a.index];return!s||r.currentPlayer===1&&s.state!=="faceDown"&&s.state!=="partner2Only"||r.currentPlayer===2&&s.state!=="faceDown"&&s.state!=="partner1Only"?r:{...r,selectedCardIndex:a.index};case"ANSWER_QUESTION":{if(r.selectedCardIndex===null)return r;const o=r.currentScreen==="round1",c=o?[...r.round1Cards]:[...r.round2Cards],h=r.selectedCardIndex,d={...c[h]},p={...d.answer};return r.currentPlayer===1?(p.partner1Answer=a.answer,d.state==="partner2Only"?(p.matched=p.partner1Answer===p.partner2Answer,d.state="revealed"):d.state="partner1Only",d.answer=p,c[h]=d,{...r,[o?"round1Cards":"round2Cards"]:c,currentPlayer:2,selectedCardIndex:null}):(p.partner2Answer=a.answer,d.state==="partner1Only"?(p.matched=p.partner1Answer===p.partner2Answer,d.state="revealed"):d.state="partner2Only",d.answer=p,c[h]=d,{...r,[o?"round1Cards":"round2Cards"]:c,currentPlayer:1,selectedCardIndex:null})}case"COMPLETE_ROUND":{const o=a.round===1;return{...r,[o?"round1Complete":"round2Complete"]:!0,currentScreen:o?"round1Results":"finalResults"}}case"NAVIGATE_TO":return{...r,currentScreen:a.screen};case"COMPLETE_PAYMENT":try{localStorage.setItem(uc,"true")}catch{}return{...r,hasPaid:!0};case"START_ROUND_2":{const o=r.round1Cards.map(c=>c.answer);return{...r,currentScreen:"round2",round2Cards:$s(2,o),currentPlayer:1,selectedCardIndex:null}}case"REPLAY_ROUND":{if(!r.hasPaid)return r;if(a.round===1)return{...r,currentScreen:"round1",round1Cards:$s(1),round2Cards:[],round1Complete:!1,round2Complete:!1,currentPlayer:1,selectedCardIndex:null};{const o=r.round1Cards.map(c=>c.answer);return{...r,currentScreen:"round2",round2Cards:$s(2,o),round2Complete:!1,currentPlayer:1,selectedCardIndex:null}}}case"RESET_GAME":try{localStorage.removeItem(lc)}catch{}return{...wp,remoteSessionId:r.remoteSessionId,remotePlayerId:r.remotePlayerId,isRemoteConnected:r.isRemoteConnected,remoteSessionPaid:r.remoteSessionPaid,hasPaid:r.hasPaid,partner1Name:r.partner1Name,partner2Name:r.partner2Name};case"SELECT_MODE":return{...r,gameMode:a.mode};case"SET_REMOTE_SESSION":return Uu(a.sessionId,a.playerId),{...r,remoteSessionId:a.sessionId,remotePlayerId:a.playerId,isRemoteConnected:!1,remoteSessionPaid:r.remoteSessionPaid&&a.sessionId===r.remoteSessionId?r.remoteSessionPaid:!1};case"SET_REMOTE_CONNECTION":return{...r,isRemoteConnected:a.connected};case"SET_REMOTE_SESSION_PAID":return{...r,remoteSessionPaid:a.paid};case"APPLY_REMOTE_STATE":return{...r,...a.state};case"CANCEL_REMOTE_SESSION":return Uu(null,null),{...r,gameMode:"local",remoteSessionId:null,remotePlayerId:null,isRemoteConnected:!1,remoteSessionPaid:!1,currentScreen:"landing"};case"ACCEPT_REMOTE_INVITE":return console.log("[Remote Session] ACCEPT_REMOTE_INVITE",{oldScreen:r.currentScreen,newScreen:"remoteSetup",remotePlayerId:r.remotePlayerId,remoteSessionId:r.remoteSessionId,isRemoteConnected:r.isRemoteConnected}),{...r,currentScreen:"remoteSetup"};case"DECLINE_REMOTE_INVITE":return Uu(null,null),{...r,gameMode:"local",remoteSessionId:null,remotePlayerId:null,isRemoteConnected:!1,remoteSessionPaid:!1,currentScreen:"landing"};default:return r}}function mi(r){return r.filter(a=>a.answer.matched===!0).length}function Fs(r){return["conflict","support","dailyLife","intimacy","future","growth"].map(s=>{const c=r.filter(p=>p.answer.theme===s).filter(p=>p.answer.matched!==null),h=c.filter(p=>p.answer.matched===!0).length,d=c.length;return{theme:s,displayName:Fu[s],total:d,matches:h,matchPercentage:d>0?Math.round(h/d*100):0}}).filter(s=>s.total>0)}function e0(r,a){return r>=13?{tier:"Exceptional Sync",description:"You two are incredibly aligned!"}:r>=10?{tier:"Solid Connection",description:"A strong foundation to build on."}:r>=7?{tier:"Room to Grow",description:"Some great alignment with areas to explore."}:r>=4?{tier:"Different Wavelengths",description:"Interesting differences worth discussing."}:{tier:"Time to Talk",description:"Lots of opportunities for deeper understanding."}}function t0(r){return r.filter(a=>a.answer.matched===!1)}function Xu(r){return tc(r.questionId)}const bp=re.createContext(void 0);function n0(){try{const r=localStorage.getItem(lc);if(r){const a=JSON.parse(r);try{localStorage.getItem(uc)==="true"&&(a.hasPaid=!0)}catch{}try{const s=localStorage.getItem(Qs);if(s){const o=JSON.parse(s);o.partner1Name&&(a.partner1Name=o.partner1Name),o.partner2Name&&(a.partner2Name=o.partner2Name)}}catch{}return a}}catch{}return null}function a0(r){try{r.sessionId&&localStorage.setItem(lc,JSON.stringify({sessionId:r.sessionId,partner1Name:r.partner1Name,partner2Name:r.partner2Name,currentPlayer:r.currentPlayer,currentScreen:r.currentScreen,round1Cards:r.round1Cards,round2Cards:r.round2Cards,round1Complete:r.round1Complete,round2Complete:r.round2Complete,hasPaid:r.hasPaid,selectedCardIndex:r.selectedCardIndex,gameMode:r.gameMode,remoteSessionId:r.remoteSessionId,remotePlayerId:r.remotePlayerId,isRemoteConnected:r.isRemoteConnected,remoteSessionPaid:r.remoteSessionPaid}))}catch{}}function i0({children:r}){const[a,s]=re.useReducer(Fb,wp,b=>{const E=n0();if(!E||!E.sessionId){let T={...b};try{localStorage.getItem(uc)==="true"&&(T.hasPaid=!0)}catch{}try{const C=localStorage.getItem(Qs);if(C){const O=JSON.parse(C);O.partner1Name&&(T.partner1Name=O.partner1Name),O.partner2Name&&(T.partner2Name=O.partner2Name)}}catch{}return T}return{...b,...E}}),o=re.useRef(a);re.useEffect(()=>{o.current=a},[a]);const c=re.useRef(null),h=re.useRef(!1),d=re.useRef(!1),p=b=>{h.current=!0,s(b),h.current=!1},y=b=>({sessionId:b.sessionId,partner1Name:b.partner1Name,partner2Name:b.partner2Name,currentPlayer:b.currentPlayer,currentScreen:b.currentScreen,round1Cards:b.round1Cards,round2Cards:b.round2Cards,round1Complete:b.round1Complete,round2Complete:b.round2Complete,selectedCardIndex:b.selectedCardIndex,gameMode:"remote",remoteSessionPaid:!0}),g=b=>{switch(b.type){case"SELECT_CARD":case"ANSWER_QUESTION":case"COMPLETE_ROUND":return!0;default:return!1}},S=b=>{if(b.type==="CANCEL_REMOTE_SESSION"){const T=o.current;T.gameMode==="remote"&&T.remotePlayerId===1&&T.remoteSessionId&&c.current?.sendSessionCancelled()}if(b.type==="DECLINE_REMOTE_INVITE"){const T=o.current;T.gameMode==="remote"&&T.remotePlayerId===2&&T.remoteSessionId&&c.current?.sendSessionCancelled()}!h.current&&o.current.gameMode==="remote"&&o.current.remotePlayerId===1&&o.current.remoteSessionId&&b.type==="START_ROUND_2"&&(d.current=!0),s(b);const E=o.current;h.current||E.gameMode!=="remote"||!E.remoteSessionId||!g(b)||c.current?.sendAction(b)};return re.useEffect(()=>{console.log("[Remote Session] Connection effect executing",{gameMode:a.gameMode,remoteSessionId:a.remoteSessionId,remotePlayerId:a.remotePlayerId,currentScreen:a.currentScreen});const b=a.remoteSessionId;if(a.gameMode!=="remote"||!b){p({type:"SET_REMOTE_CONNECTION",connected:!1}),c.current?.disconnect();return}c.current||(c.current=new Xb),console.log("[Remote Session] Connecting to Supabase",{sessionId:b}),c.current.connect({sessionId:b,onStatus:C=>{console.log("[Remote Session] Supabase status changed",{status:C}),p({type:"SET_REMOTE_CONNECTION",connected:C==="connected"})},onMessage:C=>{if(C.type==="action"){const O=C.payload;if(O.type==="APPLY_REMOTE_STATE"&&o.current.remotePlayerId===2){const U=O.state;if(U.round1Cards&&U.round1Cards.length>0&&U.currentScreen==="round1"){h.current=!0;try{s(O),p({type:"NAVIGATE_TO",screen:"round1"})}finally{h.current=!1}return}}h.current=!0;try{s(O)}finally{h.current=!1}return}if(C.type==="session_paid"){p({type:"SET_REMOTE_SESSION_PAID",paid:!0});return}if(C.type==="session_cancelled"){o.current.remotePlayerId===2&&(p({type:"CANCEL_REMOTE_SESSION"}),p({type:"NAVIGATE_TO",screen:"sessionCancelled"}));return}if(C.type==="presence"){const O=o.current;O.remotePlayerId===1&&C.payload.player===2&&(p({type:"SET_REMOTE_SESSION_PAID",paid:!0}),d.current=!0,p({type:"START_GAME",partner1Name:O.partner1Name,partner2Name:O.partner2Name}),p({type:"NAVIGATE_TO",screen:"round1"}))}}});const E=a.remotePlayerId,T=(E===1||E===2&&a.currentScreen!=="inviteAcceptance")&&a.isRemoteConnected;console.log("[Remote Session] Presence effect executing",{playerId:E,currentScreen:a.currentScreen,shouldAnnouncePresence:T,isRemoteConnected:a.isRemoteConnected,hasSyncRef:!!c.current,remoteSessionId:a.remoteSessionId}),E&&T&&c.current&&(console.log("[Remote Session] Sending presence",{playerId:E}),c.current.sendPresence(E))},[a.gameMode,a.remoteSessionId,a.remotePlayerId,a.currentScreen,a.isRemoteConnected]),re.useEffect(()=>{const b=a;b.gameMode!=="remote"||b.remotePlayerId!==1||!b.remoteSessionId||!b.isRemoteConnected||!d.current||(d.current=!1,c.current?.sendSessionPaid(),c.current?.sendAction({type:"APPLY_REMOTE_STATE",state:y(b)}))},[a]),re.useEffect(()=>{a0(a)},[a]),m.jsx(bp.Provider,{value:{state:a,dispatch:S},children:r})}function kt(){const r=re.useContext(bp);if(r===void 0)throw new Error("useGame must be used within a GameProvider");return r}const Km="relationship-game-names";function Qm(){const{state:r,dispatch:a}=kt(),[s,o]=re.useState(""),[c,h]=re.useState(""),[d,p]=re.useState(""),y=!1,g=r.sessionId&&(r.round1Cards.some(C=>C.state!=="faceDown")||r.round2Cards.some(C=>C.state!=="faceDown"));re.useEffect(()=>{window.scrollTo(0,0)},[]),re.useEffect(()=>{if(r.partner1Name&&r.partner2Name)o(r.partner1Name),h(r.partner2Name);else try{const C=localStorage.getItem(Km);if(C){const{partner1:O,partner2:U}=JSON.parse(C);O&&o(O),U&&h(U)}}catch{}},[r.partner1Name,r.partner2Name]),re.useEffect(()=>{try{localStorage.setItem(Km,JSON.stringify({partner1:s,partner2:c}))}catch{}},[s,c]);const S=s.trim().length>=1&&s.trim().length<=20&&c.trim().length>=1&&c.trim().length<=20&&s.trim().toLowerCase()!==c.trim().toLowerCase(),b=()=>{if(g){a({type:"CONTINUE_GAME"});return}if(!S){s.trim().toLowerCase()===c.trim().toLowerCase()&&p("Names must be different");return}a({type:"SELECT_MODE",mode:"local"}),a({type:"START_GAME",partner1Name:s.trim(),partner2Name:c.trim()})},E=()=>{if(!S){s.trim().toLowerCase()===c.trim().toLowerCase()&&p("Names must be different");return}if(a({type:"SET_PARTNER_NAMES",partner1Name:s.trim(),partner2Name:c.trim()}),a({type:"SELECT_MODE",mode:"remote"}),r.remoteSessionId&&r.remotePlayerId===2){a({type:"NAVIGATE_TO",screen:"remoteSetup"});return}a({type:"NAVIGATE_TO",screen:r.hasPaid?"remoteSetup":"remotePayment"})},T=async()=>{const C=window.location.origin,O=`Lets play this together later: Reveal  the game for couples.

When were both free, open this on one phone and well play together.`;try{if(navigator.share){await navigator.share({title:"Reveal  Game for Couples",text:O,url:C});return}}catch(U){if(U&&typeof U=="object"&&"name"in U&&U.name==="AbortError")return}try{await navigator.clipboard.writeText(O),alert("Reminder text copied. Paste it into your favorite chat.")}catch{alert("Could not copy. Please copy this link manually: "+C)}};return m.jsx("div",{className:"container",style:{minHeight:"100vh",maxHeight:"100vh",overflowY:"auto",display:"flex",flexDirection:"column",justifyContent:"flex-start",padding:"24px 16px 140px",boxSizing:"border-box"},children:m.jsxs("div",{className:"animate-slide-up",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{style:{marginTop:"15px",marginBottom:"16px",display:"flex",justifyContent:"center",alignItems:"center",gap:"12px"},children:[m.jsx("img",{src:"/reveal_icon.png",alt:"Reveal Logo",style:{width:"80px",height:"80px",objectFit:"contain"}}),m.jsx("h1",{style:{marginBottom:0,color:"#E01D94",fontSize:"3rem"},children:"Reveal"})]}),m.jsx("p",{style:{fontSize:"1.1rem",color:"var(--text-secondary)",maxWidth:"400px",margin:"0 auto",fontWeight:"500"},children:"Discover how in-sync you really are"}),m.jsx("p",{style:{fontSize:"1rem",color:"var(--text-muted)",maxWidth:"400px",margin:"8px auto 0"},children:"A fun and insightful memory card-style game for couples & relationships."})]}),m.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",boxShadow:"var(--card-shadow)",marginBottom:"32px"},children:[m.jsxs("div",{className:"input-group",children:[m.jsxs("label",{className:"input-label",children:["Partner 1 ",m.jsx("span",{style:{color:"var(--text-muted)"},children:"You"})]}),m.jsx("input",{type:"text",className:"input",placeholder:"Enter first name",value:s,onChange:C=>{o(C.target.value),p("")},maxLength:20})]}),m.jsxs("div",{className:"input-group",style:{marginBottom:d?"8px":"24px"},children:[m.jsx("label",{className:"input-label",children:"Partner 2"}),m.jsx("input",{type:"text",className:"input",placeholder:"Enter first name",value:c,onChange:C=>{h(C.target.value),p("")},maxLength:20})]}),d&&m.jsx("p",{style:{color:"var(--partner2)",fontSize:"0.875rem",marginBottom:"16px"},children:d}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("div",{style:{position:"relative"},children:m.jsx("button",{className:"btn btn--primary btn--full",onClick:b,disabled:!g&&!S,children:g?" Continue Playing":"Play in Person"})}),!g&&m.jsxs("div",{style:{position:"relative"},children:[m.jsx("button",{className:"btn btn--accent btn--full",onClick:E,disabled:!S,children:"Play Remotely"}),m.jsx("span",{style:{position:"absolute",top:"-6px",right:"-6px",background:"linear-gradient(135deg, var(--partner1) 0%, var(--partner2) 100%)",color:"white",fontSize:"0.65rem",fontWeight:"700",padding:"3px 8px",borderRadius:"10px",letterSpacing:"0.5px",boxShadow:"0 2px 4px rgba(0,0,0,0.15)"},children:"PREMIUM"})]})]})]}),m.jsx("div",{style:{marginTop:"24px",marginBottom:"12px",textAlign:"center"},children:m.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",fontWeight:"500",margin:0},children:"Your parnter is not around?"})}),m.jsx("button",{className:"btn btn--secondary btn--full",onClick:T,style:{maxWidth:"300px",margin:"0 auto 24px",display:"block"},children:"Send to partner to play later"}),y,m.jsxs("div",{style:{marginBottom:"32px"},children:[m.jsx("h3",{className:"text-center mb-4",style:{fontSize:"1.35rem",color:"var(--text-secondary)"},children:"How it works"}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{num:"1",text:"Take turns answering 15 questions",icon:""},{num:"2",text:"See where you sync (and differ!)",icon:""},{num:"3",text:"Get insights to spark conversation",icon:""}].map(C=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",background:"white",padding:"16px 20px",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[m.jsx("span",{style:{fontSize:"1.5rem"},children:C.icon}),m.jsx("span",{style:{color:"var(--text-primary)"},children:C.text})]},C.num))})]}),m.jsxs("div",{className:"text-center",style:{color:"var(--text-muted)",fontSize:"0.875rem"},children:[m.jsx("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px"},children:" Private"}),m.jsx("span",{style:{margin:"0 12px"},children:""}),m.jsx("span",{children:"No signup required"}),m.jsx("span",{style:{margin:"0 12px"},children:""}),m.jsx("span",{children:"Takes 10 minutes"})]})]})})}function Yn({buttonPosition:r}){const[a,s]=re.useState(!1),{state:o,dispatch:c}=kt(),h=()=>{confirm("Are you sure you want to restart? All progress will be lost.")&&(c({type:"RESET_GAME"}),s(!1))},d=()=>{c({type:"NAVIGATE_TO",screen:"landing"}),s(!1)},p=()=>{confirm("Start Round 1 again? This will reset both rounds.")&&(c({type:"REPLAY_ROUND",round:1}),s(!1))},y=()=>{o.round1Complete&&confirm("Start Round 2 again with new personalized questions?")&&(c({type:"REPLAY_ROUND",round:2}),s(!1))};if(o.currentScreen==="landing")return null;const g=m.jsxs("button",{className:`menu-burger ${r==="inline"?"menu-burger--inline":""}`,onClick:()=>s(!a),"aria-label":"Menu",children:[m.jsx("span",{className:`menu-burger__line ${a?"menu-burger__line--open":""}`}),m.jsx("span",{className:`menu-burger__line ${a?"menu-burger__line--open":""}`}),m.jsx("span",{className:`menu-burger__line ${a?"menu-burger__line--open":""}`})]});return m.jsxs(m.Fragment,{children:[r==="inline"?g:m.jsx(m.Fragment,{children:g}),a&&m.jsx("div",{className:"menu-overlay",onClick:()=>s(!1),children:m.jsxs("div",{className:"menu-panel",onClick:S=>S.stopPropagation(),children:[m.jsxs("nav",{className:"menu-panel__nav",children:[m.jsx("button",{className:"menu-panel__item",onClick:d,children:" Back to Start"}),o.hasPaid&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"menu-panel__divider"}),m.jsx("div",{className:"menu-panel__section-label",children:"Play Again"}),m.jsx("button",{className:"menu-panel__item",onClick:p,children:" Replay Round 1"}),m.jsx("button",{className:"menu-panel__item",onClick:y,disabled:!o.round1Complete,style:{opacity:o.round1Complete?1:.5},children:" Replay Round 2"})]}),m.jsx("div",{className:"menu-panel__divider"}),m.jsx("button",{className:"menu-panel__item menu-panel__item--danger",onClick:h,children:" Reset Everything"})]}),m.jsxs("div",{className:"menu-panel__footer",children:[o.hasPaid&&m.jsx("span",{className:"menu-panel__badge",children:" Premium"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[m.jsx("img",{src:"/reveal_icon.png",alt:"Reveal",style:{width:"16px",height:"16px"}}),m.jsx("span",{children:"Reveal"})]})]})]})})]})}function r0(){const{state:r,dispatch:a}=kt();re.useEffect(()=>{r.hasPaid&&a({type:"NAVIGATE_TO",screen:"remoteSetup"})},[a,r.hasPaid]);const s=()=>{try{localStorage.setItem("reveal-payment-initiated","true"),localStorage.setItem("reveal-payment-initiated-time",Date.now().toString()),localStorage.setItem("reveal-payment-purpose","remote")}catch{}const c="https://buy.polar.sh/polar_cl_nJ2vx1fXaiRId4N9pKEu6Gg92x9SCbZhcJy6n0hhaJu";window.location.href=c},o=()=>{a({type:"NAVIGATE_TO",screen:"landing"})};return m.jsxs("div",{className:"container animate-slide-up",style:{paddingBottom:"10px"},children:[m.jsxs("div",{className:"game-header",style:{marginBottom:"0px"},children:[m.jsx(Yn,{buttonPosition:"inline"}),m.jsx("div",{style:{flex:1}})]}),m.jsxs("div",{style:{textAlign:"center",marginTop:"16px"},children:[m.jsx("div",{style:{fontSize:"3rem",marginBottom:"12px"},children:""}),m.jsx("h2",{style:{marginBottom:"8px"},children:"Unlock Premium"}),m.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"380px",margin:"0 auto 24px"},children:"Get the complete Reveal experience with remote play, deeper insights, and full conversation starters."}),m.jsxs("div",{style:{background:"linear-gradient(135deg, var(--partner1-light) 0%, var(--partner2-light) 100%)",borderRadius:"16px",padding:"24px",maxWidth:"420px",margin:"0 auto 20px",boxShadow:"var(--card-shadow)",border:"2px solid var(--partner1)"},children:[m.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:m.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"4px",background:"linear-gradient(135deg, var(--partner1) 0%, var(--partner2) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Premium Includes"})}),m.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"16px",marginBottom:"16px"},children:m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",fontSize:"0.85rem"},children:[{icon:"",text:"Remote play mode  connect live on separate devices"},{icon:"",text:"Round 2 with 15 tailored questions"},{icon:"",text:"Complete relationship insights & analysis"},{icon:"",text:"Full conversation starters with deep dives"}].map((c,h)=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("span",{style:{fontSize:"1.2rem"},children:c.icon}),m.jsx("span",{style:{textAlign:"left"},children:c.text})]},h))})}),m.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"16px"},children:[m.jsx("div",{style:{fontSize:"0.75rem",fontWeight:700,letterSpacing:"1px",color:"var(--text-secondary)",marginBottom:"8px",textAlign:"center"},children:"PREMIUM UNLOCK"}),m.jsx("div",{style:{fontSize:"2rem",fontWeight:700,textAlign:"center",background:"linear-gradient(135deg, var(--partner1) 0%, var(--partner2) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"4px"},children:"$4.99"}),m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",textAlign:"center"},children:"One-time payment  No subscription"})]})]}),m.jsx("button",{className:"btn btn--accent btn--full",onClick:s,style:{maxWidth:"420px",margin:"0 auto 12px"},children:" Unlock Premium  $4.99"}),m.jsx("button",{className:"btn btn--ghost",onClick:o,children:"Back"})]})]})}const Jm="reveal-device-id";function Sp(){try{const r=localStorage.getItem(Jm);if(r)return r;const a=Vs();return localStorage.setItem(Jm,a),a}catch{return Vs()}}async function eo(r={}){const a=Sp();let s;try{s=oc()}catch{return}await s.from("payments").upsert({device_id:a,payment_timestamp:new Date().toISOString(),checkout_id:r.checkoutId??null,game_mode:"remote"},{onConflict:"device_id"})}async function _p(){const r=Sp();let a;try{a=oc()}catch{return!1}const{data:s,error:o}=await a.from("payments").select("device_id").eq("device_id",r).maybeSingle();return o?!1:!!s?.device_id}function s0(r=6){const a="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",s=new Uint8Array(r);return crypto.getRandomValues(s),Array.from(s,o=>a[o%a.length]).join("")}function o0(){const{state:r,dispatch:a}=kt(),[s,o]=re.useState(null),[c,h]=re.useState(!1),[d,p]=re.useState(!1),y=r.remotePlayerId===2,g=re.useMemo(()=>r.remoteSessionId?`${window.location.origin}/play/${r.remoteSessionId}`:null,[r.remoteSessionId]),S=async()=>{if(o(null),r.hasPaid)try{await eo({checkoutId:localStorage.getItem("reveal-checkout-id")})}catch{}if(!(r.hasPaid?!0:await _p())){a({type:"NAVIGATE_TO",screen:"remotePayment"});return}const G=s0(6);a({type:"SELECT_MODE",mode:"remote"}),a({type:"SET_REMOTE_SESSION",sessionId:G,playerId:1}),a({type:"SET_REMOTE_SESSION_PAID",paid:!0})},b=async()=>{if(g)try{await navigator.clipboard.writeText(g),h(!0),p(!0),window.setTimeout(()=>h(!1),1200)}catch{o("Could not copy link. Please copy it manually.")}},E=async()=>{if(g){try{if(navigator.share){await navigator.share({title:"Join me for Reveal",text:`Join me for a game of Reveal! Use this link: ${g}`,url:g}),p(!0);return}}catch(U){if(U.name!=="AbortError")console.error("Share failed:",U);else return}try{await navigator.clipboard.writeText(g),h(!0),p(!0),window.setTimeout(()=>h(!1),2e3)}catch{o("Could not share link. Please copy it manually.")}}},T=()=>{a({type:"CANCEL_REMOTE_SESSION"})},C=()=>{a({type:"NAVIGATE_TO",screen:"landing"})},O=()=>{a({type:"SET_REMOTE_SESSION",sessionId:null,playerId:null}),a({type:"SELECT_MODE",mode:"local"}),a({type:"NAVIGATE_TO",screen:"landing"})};return m.jsxs("div",{className:"container animate-slide-up",style:{paddingBottom:r.remoteSessionId&&!y?"180px":"10px"},children:[m.jsxs("div",{className:"game-header",style:{marginBottom:"0px"},children:[m.jsx(Yn,{buttonPosition:"inline"}),m.jsx("div",{style:{flex:1}})]}),m.jsxs("div",{style:{textAlign:"center",marginTop:"16px"},children:[m.jsx("div",{style:{fontSize:"3rem",marginBottom:"12px"},children:""}),m.jsx("h2",{style:{marginBottom:"8px"},children:"Remote Session"}),!r.remoteSessionId&&m.jsxs(m.Fragment,{children:[m.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"380px",margin:"0 auto 18px"},children:"Create a link and invite your partner to join from their phone."}),m.jsx("button",{className:"btn btn--accent btn--full",style:{maxWidth:"420px",margin:"0 auto 12px"},onClick:S,children:"Create invite link"}),m.jsx("button",{className:"btn btn--ghost",onClick:O,children:"Back"})]}),r.remoteSessionId&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"18px",maxWidth:"420px",margin:"0 auto 16px",boxShadow:"var(--card-shadow)"},children:[m.jsx("div",{style:{fontSize:"0.75rem",letterSpacing:"1px",fontWeight:700,color:"var(--text-secondary)",marginBottom:"6px"},children:"SESSION CODE"}),m.jsxs("div",{style:{fontSize:"2rem",fontWeight:800,color:"var(--partner1)",letterSpacing:"2px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"16px"},children:[r.remoteSessionId,g&&m.jsx("button",{onClick:b,style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",transition:"color 0.2s, transform 0.2s"},onMouseEnter:U=>{U.currentTarget.style.color="var(--partner1)",U.currentTarget.style.transform="scale(1.1)"},onMouseLeave:U=>{U.currentTarget.style.color="var(--text-secondary)",U.currentTarget.style.transform="scale(1)"},title:c?"Copied!":"Copy link",children:c?m.jsx("span",{style:{fontSize:"1.2rem"},children:""}):m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),m.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),g&&m.jsx("button",{className:"btn btn--accent btn--full",onClick:E,style:{marginTop:"8px"},children:"Send Invite Link"})]}),d&&m.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"1.1rem",marginTop:"16px",minHeight:"28px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.isRemoteConnected?m.jsx("span",{style:{color:"var(--match-green)",fontWeight:700},children:"Connected"}):m.jsxs("span",{style:{animation:"pulse 2s ease-in-out infinite",fontWeight:500},children:["Waiting for ",r.partner2Name||"partner"," to join"]})}),y&&m.jsxs(m.Fragment,{children:[m.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem",marginTop:"8px"},children:"You're connected as Partner 2. Your partner will start the game."}),m.jsx("button",{className:"btn btn--ghost",style:{marginTop:"16px"},onClick:O,children:"Leave session"})]}),!y&&m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{marginTop:"32px"},children:m.jsx("button",{className:"btn btn--full",onClick:T,disabled:!r.remoteSessionId,style:{maxWidth:"420px",margin:"0 auto",background:"white",color:r.remoteSessionId?"#DC2626":"var(--text-muted)",border:"2px solid",borderColor:r.remoteSessionId?"#DC2626":"var(--border-color)",fontWeight:"600",cursor:r.remoteSessionId?"pointer":"not-allowed",opacity:r.remoteSessionId?1:.5},onMouseEnter:U=>{r.remoteSessionId&&(U.currentTarget.style.background="#FEE2E2")},onMouseLeave:U=>{U.currentTarget.style.background="white"},children:"Cancel Session"})}),m.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,padding:"20px",paddingBottom:"80px",background:"linear-gradient(to top, var(--bg-primary) 80%, transparent)",display:"flex",justifyContent:"center"},children:m.jsx("button",{className:"btn btn--full",onClick:C,style:{maxWidth:"420px",background:"white",color:"var(--text-primary)",border:"1px solid var(--border-color)",boxShadow:"var(--card-shadow)"},children:"Back"})}),m.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",textAlign:"center",marginTop:"8px",maxWidth:"420px",margin:"8px auto 0"},children:"Your invitation stays active"})]})]}),s&&m.jsx("p",{style:{color:"var(--partner2)",fontSize:"0.875rem",marginTop:"12px"},children:s})]})]})}function l0(){const{state:r,dispatch:a}=kt(),[s,o]=re.useState(!1),c=r.remoteSessionId&&r.remotePlayerId===1&&!r.isRemoteConnected;if(re.useEffect(()=>{if(c){const d=setTimeout(()=>o(!0),1500);return()=>clearTimeout(d)}else o(!1)},[c]),!c)return null;const h=()=>{a({type:"NAVIGATE_TO",screen:"remoteSetup"})};return s?m.jsxs("div",{onClick:h,style:{position:"fixed",top:"16px",right:"16px",zIndex:1e3,background:"linear-gradient(135deg, var(--partner1-light) 0%, var(--partner2-light) 100%)",borderRadius:"24px",padding:"10px 16px",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",border:"2px solid var(--partner1)",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.5s ease",animation:"compressFromLeft 0.5s ease-out"},children:[m.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"600",whiteSpace:"nowrap"},children:" Waiting"}),m.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--partner1)",animation:"pulse 2s ease-in-out infinite"}})]}):m.jsxs("div",{onClick:h,style:{position:"fixed",top:"16px",left:"16px",right:"16px",zIndex:1e3,background:"linear-gradient(135deg, var(--partner1-light) 0%, var(--partner2-light) 100%)",borderRadius:"16px",padding:"16px 20px",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",border:"2px solid var(--partner1)",display:"flex",alignItems:"center",gap:"12px",transition:"all 0.3s ease",animation:"slideDown 0.3s ease-out"},children:[m.jsx("div",{style:{fontSize:"1.5rem",flexShrink:0},children:""}),m.jsxs("div",{style:{flex:1,textAlign:"left"},children:[m.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:"700",marginBottom:"2px"},children:["Waiting for ",r.partner2Name||"your partner"," to join..."]}),m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Tap to view session"})]}),m.jsx("div",{style:{fontSize:"1.2rem",flexShrink:0},children:""})]})}function u0(){const{state:r,dispatch:a}=kt(),s=()=>{console.log("[Remote Session] Accept button clicked",{currentScreen:r.currentScreen,remotePlayerId:r.remotePlayerId,remoteSessionId:r.remoteSessionId,gameMode:r.gameMode}),a({type:"ACCEPT_REMOTE_INVITE"}),console.log("[Remote Session] Accept action dispatched")},o=()=>{a({type:"DECLINE_REMOTE_INVITE"})};return m.jsxs("div",{className:"container animate-slide-up",style:{paddingBottom:"10px"},children:[m.jsxs("div",{className:"game-header",style:{marginBottom:"0px"},children:[m.jsx(Yn,{buttonPosition:"inline"}),m.jsx("div",{style:{flex:1}})]}),m.jsxs("div",{style:{textAlign:"center",marginTop:"32px"},children:[m.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),m.jsx("h2",{style:{marginBottom:"8px"},children:"You're Invited!"}),m.jsxs("p",{style:{color:"var(--text-secondary)",maxWidth:"380px",margin:"16px auto 32px"},children:[r.partner1Name||"Your partner"," invited you to play Reveal together."]}),m.jsxs("div",{style:{maxWidth:"420px",margin:"0 auto"},children:[m.jsx("button",{className:"btn btn--accent btn--full",onClick:s,style:{marginBottom:"12px"},children:"Accept & Start Game"}),m.jsx("button",{className:"btn btn--ghost",onClick:o,children:"Decline Invitation"})]})]})]})}function c0(){const{dispatch:r}=kt(),a=()=>{r({type:"NAVIGATE_TO",screen:"landing"})};return m.jsxs("div",{className:"container animate-slide-up",style:{paddingBottom:"10px"},children:[m.jsxs("div",{className:"game-header",style:{marginBottom:"0px"},children:[m.jsx(Yn,{buttonPosition:"inline"}),m.jsx("div",{style:{flex:1}})]}),m.jsxs("div",{style:{textAlign:"center",marginTop:"60px"},children:[m.jsx("div",{style:{fontSize:"4rem",marginBottom:"24px"},children:""}),m.jsx("h2",{style:{marginBottom:"12px"},children:"Session Cancelled"}),m.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"380px",margin:"0 auto 32px",fontSize:"1rem",lineHeight:"1.5"},children:"The host has cancelled this invitation. You can explore the app or start your own game."}),m.jsx("button",{className:"btn btn--primary btn--full",onClick:a,style:{maxWidth:"400px",margin:"0 auto"},children:"Return to Home"})]})]})}const Xm={"r1-conflict-1":{whyItMatters:"How you handle unexpected changes reveals your stress response patterns. Understanding each other's flexibility helps you navigate life's surprises together.",matchConversation:"Think of a time when last-minute plans changedhow did we both adapt together?",mismatchConversation:"When plans change at the last minute, what specific support do you need from mespace to process or help problem-solving?",nextStep:"Next time plans change, check in with each other before reacting."},"r1-conflict-2":{whyItMatters:"The timing of addressing issues shapes how conflicts unfold. Some people need to process internally first, while others think out loud.",matchConversation:"What makes it feel safe for you to bring up something that's bothering you right away?",mismatchConversation:"When something's bothering you, do you need me to give you space to process first, or would you prefer I check in and ask about it?",nextStep:"Create a signal word for 'I need to talk about something' that works for both of you."},"r1-conflict-3":{whyItMatters:"How disagreements resolve shows your conflict patterns. Mutual understanding feels different than one person consistently yielding.",matchConversation:"Can you think of a disagreement where we both pushed to understand each otherhow did that feel?",mismatchConversation:"When we disagree, do you feel like you're the one who usually lets things go, or do I? Let's talk about that pattern.",nextStep:"After your next disagreement, check in: 'Did that resolution feel fair to both of us?'"},"r1-support-1":{whyItMatters:"How you recharge after a long day affects your availability for connection. Knowing each other's needs prevents misreading withdrawal as rejection.",matchConversation:"After we've both had busy days, what's our ideal way to reconnectdo we both want the same thing?",mismatchConversation:"When I want to talk after a busy day but you need to decompress alone, how can we honor both needs?",nextStep:"Establish a 'recharge ritual' that honors both your needs."},"r1-support-2":{whyItMatters:"What you need during tough times isn't always obvious. Some want to process verbally, others want distraction or solitude.",matchConversation:"When you're having a bad day, what's the most helpful thing I've done to support you?",mismatchConversation:"On a bad day, do you want me to ask you about it, or would you prefer I give you space or distract you?",nextStep:"Create a simple code: 'I need talk support' vs 'I need quiet support.'"},"r1-support-3":{whyItMatters:"Your general outlook affects how you approach challenges together. Optimists and realists can complement each other beautifully.",matchConversation:"How does our similar outlook (optimistic/realistic) help us tackle challenges together?",mismatchConversation:"When I'm optimistic but you're more cautious, how can we use both perspectives instead of clashing?",nextStep:"When facing a challenge, ask: 'Do you want hope or a reality check right now?'"},"r1-dailyLife-1":{whyItMatters:"Weekend rhythms reveal your lifestyle preferences. Planners and spontaneous people can thrive together with mutual understanding.",matchConversation:"What makes our weekend mornings work so wellis it the planning or the spontaneity?",mismatchConversation:"On weekend mornings, how can we balance your need for a plan with my preference to go with the flow?",nextStep:"Alternate between planned and spontaneous weekend mornings."},"r1-dailyLife-2":{whyItMatters:"Hosting styles affect your social life as a couple. Understanding stress triggers helps you support each other during social events.",matchConversation:"What makes hosting together enjoyable for both of uswhat's working?",mismatchConversation:"When houseguests are coming, how can we divide the prep so the excited person takes the lead and the stressed person gets support?",nextStep:"Before your next gathering, discuss who handles what."},"r1-dailyLife-3":{whyItMatters:"Household balance is one of the most common sources of relationship friction. Perception matters as much as reality here.",matchConversation:"What household tasks do you think we split most fairly?",mismatchConversation:"When it comes to chores, do you think they're evenly split or does one person do more? Let's compare our actual lists.",nextStep:"List all household tasks and redistribute together."},"r1-intimacy-1":{whyItMatters:"Physical affection patterns vary widely between people. Understanding when and how you connect physically strengthens your bond.",matchConversation:"What are your favorite moments of spontaneous affection throughout our day?",mismatchConversation:"For spontaneous affection, would you prefer it happens more naturally throughout the day, or at specific times that feel right?",nextStep:"Identify three daily moments for intentional physical connection."},"r1-intimacy-2":{whyItMatters:"Initiative patterns in planning reflect how you share emotional labor. Balance here prevents one person from always 'managing' the relationship.",matchConversation:"How do we both contribute to making plans togetherwhat's our balance?",mismatchConversation:"When it comes to making plans, would you like me to initiate more often? What kind of plans would you love me to suggest?",nextStep:"Take turns being the 'plan maker' each week."},"r1-future-1":{whyItMatters:"Alignment on life goals provides a shared direction. It's okay to still be figuring things outwhat matters is doing it together.",matchConversation:"What big life goal are we most aligned on, and what excites you about pursuing it together?",mismatchConversation:"Which of your life goals would you like us to explore more deeply togetherwhere do you want more alignment?",nextStep:"Schedule a 'dreams date' to discuss your visions for the future."},"r1-future-2":{whyItMatters:"How you feel about your shared future reflects your security in the relationship. Both excitement and uncertainty are valid.",matchConversation:"When you picture us in 10 years, what makes you most excited and confident?",mismatchConversation:"When you imagine us in 10 years, what feels uncertain, and what would help you feel more confident?",nextStep:"Share one specific thing you're looking forward to in your future together."},"r1-growth-1":{whyItMatters:"Feeling free to be yourself is fundamental to relationship health. Holding back often signals areas where you need more safety.",matchConversation:"What helps you feel so free to be completely yourself with me?",mismatchConversation:"What parts of yourself do you hold back in this relationship, and what would make it safer to share them?",nextStep:"Share one thing about yourself you've never told your partner."},"r1-growth-2":{whyItMatters:"Acknowledging your relationship's current state helps you grow together. Strong places deserve celebration; challenges deserve attention.",matchConversation:"What's made our relationship feel so strong latelywhat should we celebrate?",mismatchConversation:"Right now, what's one thing we could do to strengthen our relationship and move through these ups and downs?",nextStep:"Celebrate what's working and pick one area to focus on together."}},h0={conflict:{whyItMatters:"How you handle disagreements shapes the long-term health of your relationship. Different conflict styles aren't badthey just need understanding.",matchConversation:"What's working well in how we handle disagreements?",mismatchConversation:"When we disagree, what's one thing I could do to help you feel more heard?",nextSteps:["After your next conflict, check in about how it felt for both of you.","Try a reflect back moment: each person summarizes the others point before responding.","Pick one recurring disagreement and identify the deeper need underneath it."]},support:{whyItMatters:"Emotional support is how we feel truly known by our partner. Understanding each other's needs prevents feeling alone in the relationship.",matchConversation:"What makes you feel most supported by me?",mismatchConversation:"When you need support, what does ideal support from me look like?",nextSteps:["Create a 'support menu' of what helps each of you feel cared for.","Ask before responding: Do you want empathy or solutions right now?","Name one small daily support ritual you can do for each other this week."]},dailyLife:{whyItMatters:"Daily rhythms add up over time. Small alignments in routines can prevent friction and create shared rituals that strengthen your bond.",matchConversation:"What daily routine or habit do you love sharing with me?",mismatchConversation:"What's one daily habit we could adjust to work better for both of us?",nextSteps:["Pick one shared daily ritual to establish or improve.","List your top 3 friction points at home and choose one to redesign together.","Try a 10-minute weekly logistics check-in (chores, plans, errands)."]},intimacy:{whyItMatters:"Physical and emotional closeness keeps your bond strong. Different needs are normalwhat matters is finding a rhythm that works for both.",matchConversation:"What makes you feel closest to me?",mismatchConversation:"How can we create more moments of connection that work for both of us?",nextSteps:["Schedule regular time for undistracted connection.","Share one specific thing that helps you feel desired/close (and one thing that doesnt).","Pick 2 moments this week to initiate affection intentionally (in your partners style)."]},future:{whyItMatters:"A shared vision creates shared motivation. Understanding where your futures alignand differhelps you build toward common goals.",matchConversation:"What excites you most about building our future together?",mismatchConversation:"What's one dream you have that you'd like us to explore together?",nextSteps:["Create a shared 'bucket list' of things you want to experience together.","Schedule a short dreams date to compare your next 12 months priorities.","Pick one shared goal and decide the first tiny step youll take this week."]},growth:{whyItMatters:"A healthy relationship helps both partners become better versions of themselves. Feeling safe to grow and be vulnerable is essential.",matchConversation:"How has our relationship helped you grow as a person?",mismatchConversation:"Is there something you want to explore or change that you'd like my support with?",nextSteps:["Share one personal goal and discuss how you can support each other.","Try a weekly appreciation + request check-in: one thank-you, one small ask.","Name one sensitive topic to approach gently this weekand agree on a safe way to start."]}},Zm={"r2-conflict-1":{whyItMatters:"Your immediate response to tension sets the tone for resolution. Understanding each other's cool-down needs prevents escalation.",matchConversation:"When tensions are high, what helps us both want to resolve it immediately?",mismatchConversation:"When tensions are high, I want to resolve it immediately but you need time to cool downwhat signal can we use to pause?",nextStep:"Create a 'time-out' gesture both of you agree on."},"r2-conflict-2":{whyItMatters:"Emotional vs logical approaches aren't right or wrongthey're just different. Knowing your partner's default helps you meet them there.",matchConversation:"During arguments, how does our similar approach (both calm/logical or both emotional/reactive) help us resolve things?",mismatchConversation:"When I stay calm and logical during an argument but you get emotional and reactive, what would help you feel more heard?",nextStep:"Before your next disagreement, name your mode: 'I'm in feelings mode' or 'I'm in logic mode.'"},"r2-conflict-3":{whyItMatters:"How you feel after conflict reveals your emotional recovery needs. Some people feel closer after resolution, others need time to recover.",matchConversation:"After we fight, what helps us both feel closer once it's resolved?",mismatchConversation:"After a fight, I feel closer once it's resolved but you feel drained and need recovery timehow can we honor both needs?",nextStep:"After your next conflict, check in about how you each feelcloser or drained?"},"r2-conflict-4":{whyItMatters:"How you receive criticism shows your defensive patterns. Understanding triggers helps you respond with curiosity instead of defensiveness.",matchConversation:"When I criticize something you did, what helps you try to understand my perspective?",mismatchConversation:"When I criticize something you did, do you get defensive at first? What would help you feel less attacked?",nextStep:"Next time criticism comes up, pause and ask: 'What are you really trying to tell me?'"},"r2-conflict-5":{whyItMatters:"Repeating arguments signal deeper patterns. Some people try new approaches, others notice the pattern but struggle to break it.",matchConversation:"When the same argument keeps coming up, how do we both try different approaches?",mismatchConversation:"If the same argument keeps coming up, do you try different approaches or notice it follows a similar pattern? What's underneath this?",nextStep:"Identify one recurring argument and explore what deeper need isn't being met."},"r2-conflict-6":{whyItMatters:"Apology ease reveals your relationship with vulnerability. Some apologize easily, others need time to process their role.",matchConversation:"When you need to apologize, what makes it easy for you to do it?",mismatchConversation:"When you need to apologize, does it come easily or does it take you a while? What makes it hard?",nextStep:"Practice: 'I'm sorry for [specific thing]. How did that make you feel?'"},"r2-conflict-7":{whyItMatters:"What you prioritize in disagreements reveals your communication values. Being understood vs understanding your partner are both valid needs.",matchConversation:"In disagreements, how do we both balance wanting to be understood and wanting to understand each other?",mismatchConversation:"In disagreements, do you prioritize being understood or understanding me? How can we meet both needs?",nextStep:"Try: 'I want to understand you first, then I want you to understand me.'"},"r2-conflict-8":{whyItMatters:"Timing of addressing upsets affects conflict outcomes. Some need to speak immediately, others wait for the right moment.",matchConversation:"When something upsets you, what helps you bring it up right away?",mismatchConversation:"When something upsets you, do you say something right away or wait for the right moment? How can I help you feel safe to speak up?",nextStep:"Create a safe phrase: 'I need to talk about something that's bothering me.'"},"r2-conflict-9":{whyItMatters:"How you handle small annoyances affects relationship harmony. Some address them immediately, others let most things go.",matchConversation:"When it comes to small annoyances, how do we both decide whether to address them or let them go?",mismatchConversation:"For small annoyances, I think they should be addressed when they happen but you prefer to let them gohow do we decide which ones matter?",nextStep:"Agree: address annoyances that happen 3+ times, let go of one-offs."},"r2-conflict-10":{whyItMatters:"Compromise patterns reveal power dynamics. Fair compromise feels different than one person consistently giving in.",matchConversation:"When we disagree on something important, how do we both feel about our ability to compromise fairly?",mismatchConversation:"When we disagree on something important, do you feel like you compromise fairly or like one of us usually gives in?",nextStep:"Track your next important disagreementdid the resolution feel balanced?"},"r2-conflict-11":{whyItMatters:"How you express hurt affects conflict resolution. Direct expression vs behavioral signals require different responses.",matchConversation:"When you feel hurt, how do you express it clearly to me?",mismatchConversation:"When you feel hurt, do you express it clearly or show it through your behavior? How can I better notice and respond?",nextStep:"Practice: 'I feel hurt when [specific thing].'"},"r2-conflict-12":{whyItMatters:"Voice intensity during conflict affects escalation. Calm voices de-escalate; louder voices can trigger defensive responses.",matchConversation:"During heated moments, how do we both keep our voices relatively calm?",mismatchConversation:"During heated moments, my voice stays calm but yours gets louderwhat triggers that, and how can we both stay calmer?",nextStep:"Agree: if voices get loud, take a 10-minute break."},"r2-conflict-13":{whyItMatters:"Post-conflict processing needs vary. Some need to talk it through completely, others prefer to move on quickly.",matchConversation:"After a disagreement, how do we both process ittalking it through or moving on?",mismatchConversation:"After a disagreement, I want to talk it through completely but you prefer to move onhow can we honor both needs?",nextStep:"Try: 'I need 10 more minutes to process, then we can move on.'"},"r2-conflict-14":{whyItMatters:"How you respond to your partner's frustration reveals your support style. Fixers vs space-givers need different approaches.",matchConversation:"When you're frustrated with me, what helps me respond in a way that works for you?",mismatchConversation:"When you're frustrated with me, I want to fix it immediately but you need space firsthow can I know which you need?",nextStep:"Ask: 'Do you want me to fix this now or give you space?'"},"r2-conflict-15":{whyItMatters:"Timing of problem discussions affects outcomes. Immediate discussion vs waiting for calm both have their place.",matchConversation:"When we have problems, how do we both decide when to discuss themas soon as possible or when we're calm?",mismatchConversation:"I think problems should be discussed as soon as possible, but you prefer when both people are calmhow do we find the right timing?",nextStep:"Agree: urgent problems get discussed immediately, others wait until both are calm."},"r2-conflict-16":{whyItMatters:"Admitting you're wrong requires vulnerability. Some do it easily, others need time to process and accept their mistake.",matchConversation:"When you're wrong, what makes it easy for you to admit it pretty quickly?",mismatchConversation:"When you're wrong, does it take you time to accept it? What would help you get there faster?",nextStep:"Practice: 'I was wrong about [specific thing]. I'm sorry.'"},"r2-conflict-17":{whyItMatters:"Self-awareness about communication skills affects growth. Recognizing strengths vs areas for improvement both matter.",matchConversation:"What do you think you do well in communication during conflict?",mismatchConversation:"Do you think your communication during conflict is something you do well or something you're working on? What would help?",nextStep:"Ask each other: 'What's one thing I do well in conflict, and one thing I could improve?'"},"r2-conflict-18":{whyItMatters:"Bedtime arguments affect sleep and next-day connection. Some need resolution before sleep, others need to sleep on it.",matchConversation:"If we argue before bed, how do we both handle itresolving it first or sleeping on it?",mismatchConversation:"If we argue before bed, I try to resolve it first but you need to sleep on ithow can we handle this better?",nextStep:"Agree: if it's late, pause and revisit in the morning."},"r2-conflict-19":{whyItMatters:"Silent treatment patterns reveal communication breakdowns. Rare silent treatment vs occasional use signal different dynamics.",matchConversation:"In our relationship, how do we avoid silent treatment when we're upset?",mismatchConversation:"Does silent treatment happen in our relationship? When it does, what's really going on underneath?",nextStep:"Replace silent treatment with: 'I need space, let's talk in [time].'"},"r2-conflict-20":{whyItMatters:"How you remember past arguments reveals perspective differences. Similar memories vs different details affect resolution.",matchConversation:"When we recall past arguments, do you think we remember them similarly?",mismatchConversation:"When recalling past arguments, do you notice we remember different details? What does that tell us?",nextStep:"After your next argument, each write down what happened and compare."},"r2-conflict-21":{whyItMatters:"Safety in bringing up sensitive topics affects relationship depth. Feeling safe vs risky changes what gets discussed.",matchConversation:"What makes bringing up sensitive topics feel safe and welcomed between us?",mismatchConversation:"When you bring up sensitive topics, does it feel safe or a bit risky? What would make it safer?",nextStep:"Create a safe space ritual: 'I want to share something sensitive. Can you just listen first?'"},"r2-conflict-22":{whyItMatters:"Stress affects communication consistency. Stable communication vs noticeable changes under stress require different support.",matchConversation:"When you're stressed, how does your communication style stay mostly the same?",mismatchConversation:"When you're stressed, does your communication style change noticeably? How can I support you during those times?",nextStep:"Notice: when stressed, check in about communication needs."},"r2-conflict-23":{whyItMatters:"Recognizing your communication strengths builds confidence. Honesty vs patience are both valuable in different situations.",matchConversation:"What do you think is your biggest communication strengthhonesty or patience?",mismatchConversation:"Do you think your biggest communication strength is your honesty or your patience? How can we use both?",nextStep:"Use your strength: if honest, balance with patience; if patient, balance with honesty."},"r2-conflict-24":{whyItMatters:"How you respond to feeling unheard affects conflict escalation. Direct communication vs emotional withdrawal need different responses.",matchConversation:"When you feel unheard, how do you say so directly?",mismatchConversation:"When you feel unheard, do you say so directly or pull back emotionally? How can I help you feel heard?",nextStep:"Practice: 'I feel unheard when [specific thing]. Can you repeat back what you heard?'"},"r2-conflict-25":{whyItMatters:"Apology ease reveals relationship safety. Natural apologies vs challenging ones signal different comfort levels with vulnerability.",matchConversation:"When you need to say 'I'm sorry,' what makes it happen naturally?",mismatchConversation:"When you need to say 'I'm sorry,' does it happen naturally or can it be challenging? What makes it hard?",nextStep:"Make apologies easier: 'I'm sorry for [specific thing]. I see how that hurt you.'"},"r2-conflict-26":{whyItMatters:"Focus during disagreements reveals problem-solving styles. Issue-focused vs pattern-focused approaches both have value.",matchConversation:"During disagreements, how do we both focuson the specific issue or the bigger patterns?",mismatchConversation:"During disagreements, I focus on the specific issue but you notice bigger patternshow can we address both?",nextStep:"Try: address the specific issue first, then explore the pattern."},"r2-conflict-27":{whyItMatters:"Perception of fight frequency affects relationship satisfaction. Less than most vs about average both need validation.",matchConversation:"Do you think we fight less than most couples or about as much? What's our normal?",mismatchConversation:"I think we fight less than most couples, but you think it's about averagewhat's a healthy amount for us?",nextStep:"Track: how often do you actually disagree vs how often it feels like conflict?"},"r2-conflict-28":{whyItMatters:"Resolution strategies when you can't agree reveal conflict maturity. Middle ground vs agree-to-disagree both have their place.",matchConversation:"When we can't agree, how do we both find middle ground or agree to disagree?",mismatchConversation:"When we can't agree, I look for middle ground but you can agree to disagreewhen is each approach right?",nextStep:"Decide: which disagreements need middle ground, which can we agree to disagree on?"},"r2-conflict-29":{whyItMatters:"Financial discussions reveal conflict triggers. Smooth money talks vs tension-creating ones signal different money relationship dynamics.",matchConversation:"When we discuss money or finances, what makes it go smoothly for us?",mismatchConversation:"When we discuss money, does it usually go smoothly or create tension? What's the tension really about?",nextStep:"Schedule regular money check-ins when you're both calm."},"r2-conflict-30":{whyItMatters:"How you respond to venting reveals support styles. Listening vs problem-solving are both valid but need to match the need.",matchConversation:"When I need to vent, how do you listen without trying to fix it?",mismatchConversation:"When I need to vent, do you listen without trying to fix it, or do you naturally try to solve it? What do I actually need?",nextStep:"Ask before responding: 'Do you want me to listen or help solve this?'"},"r2-support-1":{whyItMatters:"The difference between wanting empathy and wanting solutions is huge. Getting this wrong can make support feel like criticism.",matchConversation:"When I share about my day, how does our shared preference (both want empathy or both want advice) make it easier?",mismatchConversation:"When I share about my day, I mostly want empathy but you want to give advicecan you ask first what I need?",nextStep:"Start tough conversations with: 'I need to vent' or 'I need help solving this.'"},"r2-support-2":{whyItMatters:"Your instinct when your partner is sad reveals your love language. Fixers and presence-givers can learn from each other.",matchConversation:"When you're sad, what's a time my approach really helped you?",mismatchConversation:"When you're sad, I want to fix it for you but you just want me to be presenthow can I do that better?",nextStep:"Ask each other: 'What does ideal comfort look like for you?'"},"r2-support-3":{whyItMatters:"Connection styles vary. Some feel closest through deep talk, others through shared activities. Both are valid paths to intimacy.",matchConversation:"When do we both feel most connectedtalking deeply or doing things together?",mismatchConversation:"I feel most connected when we're talking deeply, but you feel it when we're doing things togetherhow can we do both?",nextStep:"Plan: one deep conversation and one activity together this week."},"r2-support-4":{whyItMatters:"Love languages affect how you receive support. Words vs actions both express love but need to match your partner's preference.",matchConversation:"What's your preferred way to receive lovewords and affirmations or actions and quality time?",mismatchConversation:"My preferred way to receive love is words, but yours is actionshow can we speak each other's language?",nextStep:"This week: give love in your partner's preferred language."},"r2-support-5":{whyItMatters:"Stress support needs vary. Some want check-ins and talk, others need space. Matching the need prevents support from feeling like pressure.",matchConversation:"When I'm stressed, what do I need from youcheck in and talk or give me space?",mismatchConversation:"When I'm stressed, I need you to check in and talk, but you prefer to give me spacehow can we meet in the middle?",nextStep:"Create a signal: 'I need space' or 'I need you to check in.'"},"r2-support-6":{whyItMatters:"Independence vs interdependence in tough times reveals your support patterns. Leaning in vs handling independently both are healthy.",matchConversation:"In tough times, how do we both balance leaning on each other and handling things independently?",mismatchConversation:"In tough times, I tend to lean on you more, but you handle things independentlyhow can we find balance?",nextStep:"Check in: 'Do you want me to help with this, or do you need to handle it yourself?'"},"r2-support-7":{whyItMatters:"What makes you feel supported reveals your emotional needs. Validation vs action both matter but serve different purposes.",matchConversation:"What makes you feel most supportedwhen I validate your feelings or when I take action to help?",mismatchConversation:"I feel supported when you validate my feelings, but you take action to helphow can we do both?",nextStep:"Try: validate first, then ask if action would help."},"r2-support-8":{whyItMatters:"Vulnerability comfort affects relationship depth. Natural sharing vs scary sharing signal different levels of safety.",matchConversation:"What makes sharing your vulnerabilities come naturally with me?",mismatchConversation:"Sharing vulnerabilities comes naturally for me, but it still feels a bit scary for youwhat would make it safer?",nextStep:"Share one small vulnerability this week and see how it feels."},"r2-support-9":{whyItMatters:"Emotional attunement affects support timing. Sensing vs being told reveals different levels of connection and awareness.",matchConversation:"When you're having a rough day, how do I sense it pretty quickly?",mismatchConversation:"When you're having a rough day, I usually need you to tell mehow can I get better at sensing it?",nextStep:"Practice: notice small changes in mood, energy, or behavior."},"r2-support-10":{whyItMatters:"Comfort with crying reveals emotional safety. Crying freely vs avoiding it signals different comfort levels with emotional expression.",matchConversation:"What makes crying in front of me feel completely okay for you?",mismatchConversation:"Crying in front of you feels completely okay for me, but you try to avoid itwhat would make it safer?",nextStep:"Normalize: 'It's okay to cry. I'm here.'"},"r2-support-11":{whyItMatters:"How you show love reveals your love language. Words vs actions both express love but need to match your partner's needs.",matchConversation:"How do you show love primarilysaying how you feel or doing things for me?",mismatchConversation:"I show love by saying how I feel, but you do things for mehow can we appreciate each other's style?",nextStep:"Notice: when your partner shows love, even if it's not your style."},"r2-support-12":{whyItMatters:"Celebration styles affect how you feel seen. Big celebrations vs low-key ones both honor wins but serve different needs.",matchConversation:"When we celebrate wins together, how do we both like to do itbig deal or low-key?",mismatchConversation:"When celebrating wins, I like to make a big deal of it, but you prefer keeping it low-keyhow can we honor both?",nextStep:"Ask: 'How do you want to celebrate this win?'"},"r2-support-13":{whyItMatters:"What makes you feel appreciated reveals your appreciation language. Words vs gestures both matter but need to match your needs.",matchConversation:"What makes you feel most appreciatedwhen I say thank you or when I return the gesture?",mismatchConversation:"I feel most appreciated when you say thank you, but you prefer when I return the gesturehow can we do both?",nextStep:"Try: say thank you AND return the gesture."},"r2-support-14":{whyItMatters:"Decision-making support needs vary. Constant input vs independent processing both are valid approaches to big decisions.",matchConversation:"During big life decisions, how do we both want to involve each otherconstant input or independent processing first?",mismatchConversation:"During big life decisions, I want constant input from you, but you process independently firsthow can we balance this?",nextStep:"Agree: big decisions get discussed, but allow independent thinking time first."},"r2-support-15":{whyItMatters:"Support strengths vary. Emotional conversations vs practical support both matter but serve different needs.",matchConversation:"What are we both good atemotional conversations or practical support?",mismatchConversation:"I think we're good at emotional conversations, but you think we're better at practical supporthow can we strengthen both?",nextStep:"Practice: have one emotional conversation and do one practical support gesture this week."},"r2-support-16":{whyItMatters:"Sharing timing affects support effectiveness. Immediate sharing vs waiting for clarity both have their place.",matchConversation:"When you're worried about something, how do you decide whether to share it right away or wait?",mismatchConversation:"If I'm worried about something, I share it right away, but you wait until you have more clarityhow can we meet in the middle?",nextStep:"Try: share worries early, but say 'I'm still processing this.'"},"r2-support-17":{whyItMatters:"Physical comfort preferences vary. Hugs vs talking both provide support but serve different emotional needs.",matchConversation:"When you're upset, how important is physical comfort like hugs compared to talking?",mismatchConversation:"When I'm upset, physical comfort like hugs is very important, but you prefer talkinghow can we do both?",nextStep:"Offer: a hug first, then ask if they want to talk."},"r2-support-18":{whyItMatters:"Emotional bond depth affects relationship security. Deep and secure vs growing and evolving both are healthy states.",matchConversation:"How would you describe our emotional bonddeep and secure or growing and evolving?",mismatchConversation:"I'd describe our emotional bond as deep and secure, but you see it as growing and evolvingwhat does that mean to you?",nextStep:"Discuss: what does a deep emotional bond look like to each of you?"},"r2-support-19":{whyItMatters:"Response to being misunderstood affects relationship dynamics. Explaining differently vs feeling frustrated reveal different communication patterns.",matchConversation:"When I don't understand you, how do you try explaining differently?",mismatchConversation:"When I don't understand you, you try explaining differently, but I just feel frustratedhow can I help you feel heard?",nextStep:"Practice: 'Let me make sure I understandyou're saying...'"},"r2-support-20":{whyItMatters:"Asking for help comfort reveals relationship safety. Easy asking vs learning to ask signal different comfort levels with vulnerability.",matchConversation:"What makes asking for help from me come easily to you?",mismatchConversation:"Asking for help comes easily for me, but it's something you're learningwhat would make it easier?",nextStep:"Practice: ask for help with one small thing this week."},"r2-support-21":{whyItMatters:"Sharing timing for good news reveals connection patterns. Immediate sharing vs waiting both show different ways of including your partner.",matchConversation:"When something exciting happens, how do you decide whether to tell me right away or wait?",mismatchConversation:"When something exciting happens, you're the first to know, but I share it when I see you laterdoes that feel different?",nextStep:"Try: share exciting news as soon as possible, even via text."},"r2-support-22":{whyItMatters:"Feeling understood affects relationship satisfaction. Really well vs most of the time signal different levels of attunement.",matchConversation:"How well do you think I understand your needsreally well or most of the time?",mismatchConversation:"I think you understand my needs really well, but you think it's most of the timewhat would make it better?",nextStep:"Ask: 'What's one need of mine you want me to understand better?'"},"r2-support-23":{whyItMatters:"Emotional check-in frequency affects connection. Regular check-ins vs when something comes up serve different relationship needs.",matchConversation:"How often do we check in emotionallypretty regularly or when something comes up?",mismatchConversation:"I think we check in pretty regularly, but you think it's when something comes uphow can we do it more?",nextStep:"Schedule: one emotional check-in per week, even when things are good."},"r2-support-24":{whyItMatters:"Reassurance seeking patterns reveal security needs. Direct asking vs hoping they notice show different comfort levels with needs.",matchConversation:"When you need reassurance, how do you ask for it directly?",mismatchConversation:"When I need reassurance, I ask for it directly, but you hope I noticehow can I get better at noticing?",nextStep:"Practice: 'I need reassurance about [specific thing].'"},"r2-support-25":{whyItMatters:"Support balance affects relationship health. Balanced and mutual vs sometimes one-sided signal different support dynamics.",matchConversation:"How balanced does the emotional support in our relationship feelmutual or sometimes one-sided?",mismatchConversation:"The emotional support feels balanced to me, but you think it's sometimes one-sidedhow can we balance it better?",nextStep:"Track: who gives support more often? Aim for balance."},"r2-support-26":{whyItMatters:"External stress handling reveals teamwork patterns. Tackling together vs handling separately both are valid but affect connection.",matchConversation:"When dealing with external stress like work or family, how do we both approach ittogether as a team or separately?",mismatchConversation:"When dealing with external stress, I tackle it with you as a team, but you handle yours separatelyhow can we find balance?",nextStep:"Ask: 'Do you want to handle this yourself or together?'"},"r2-support-27":{whyItMatters:"Surprise gesture importance reveals connection needs. Important vs nice but not essential show different values on spontaneity.",matchConversation:"How important are surprise gestures to youimportant for connection or nice but not essential?",mismatchConversation:"I think surprise gestures are important for connection, but you think they're nice but not essentialhow can we meet in the middle?",nextStep:"Try: one surprise gesture this month, even if small."},"r2-support-28":{whyItMatters:"Long day recovery needs vary. Debriefing vs quiet and rest both are valid ways to recharge after exhaustion.",matchConversation:"When you've had a really long day, what do you needto debrief with me or quiet and rest?",mismatchConversation:"After a really long day, I want to debrief with you, but you want quiet and resthow can we honor both?",nextStep:"Try: 30 minutes of quiet, then check in about debriefing."},"r2-support-29":{whyItMatters:"Feeling safe to be yourself reveals relationship security. Fully yourself vs holding back signal different levels of acceptance.",matchConversation:"What makes you feel safe to be fully yourself with me?",mismatchConversation:"You make me feel safe to be fully myself, but I feel loved even when I hold backwhat would help me hold back less?",nextStep:"Share: one thing you've been holding back and why."},"r2-support-30":{whyItMatters:"Gratitude expression styles vary. Verbal and often vs through actions both express appreciation but in different ways.",matchConversation:"How do you express gratitude in our relationshipverbally and often or through actions?",mismatchConversation:"I express gratitude verbally and often, but you do it through actionshow can we appreciate each other's style?",nextStep:"Try: express gratitude both verbally AND through actions this week."},"r2-dailyLife-1":{whyItMatters:"Morning routines set the tone for your entire day together. Clashing rhythms can create unnecessary friction.",matchConversation:"What do you love most about our similar morning routines?",mismatchConversation:"My morning routine is pretty similar to yours, but you think it's quite differentwhat specific differences cause friction?",nextStep:"Design your ideal shared morning routine together."},"r2-dailyLife-2":{whyItMatters:"Cleanliness standards affect daily harmony. Similar thresholds vs different ones can create ongoing tension if not addressed.",matchConversation:"When it comes to cleanliness standards, how similar do you think we are?",mismatchConversation:"I think our cleanliness standards are similar, but you think we have different thresholdswhat's the biggest difference?",nextStep:"Discuss: what's 'clean enough' for each of you in each room?"},"r2-dailyLife-3":{whyItMatters:"Cooking together vs separately affects connection and household balance. Both approaches work but serve different needs.",matchConversation:"What do you love about how we handle cooking at hometogether or separately?",mismatchConversation:"Cooking at home is something I enjoy doing together, but you think it's usually handled by one of ushow can we share it more?",nextStep:"Plan: one meal you cook together this week."},"r2-dailyLife-4":{whyItMatters:"Sleep schedule alignment affects daily connection and intimacy. Aligned vs different schedules require different approaches.",matchConversation:"How aligned are our sleep schedules, and what works well about that?",mismatchConversation:"My sleep schedule is pretty aligned with yours, but you think it's quite differenthow does that affect our connection?",nextStep:"Find: one time each day when your schedules naturally align."},"r2-dailyLife-5":{whyItMatters:"Financial management affects relationship security. Smooth handling vs learning curve both are normal but need communication.",matchConversation:"When it comes to handling finances together, what works smoothly for us?",mismatchConversation:"Handling finances works smoothly for me, but it's been a learning curve for youwhat would make it easier?",nextStep:"Schedule: one monthly money check-in when you're both calm."},"r2-dailyLife-6":{whyItMatters:"Weeknight preferences affect daily connection. Together time vs alone time both are needed but require balance.",matchConversation:"On weeknights, how do we balance spending time together and doing our own thing?",mismatchConversation:"On weeknights, I typically prefer to spend time with you, but you prefer to do your own thinghow can we find balance?",nextStep:"Agree: some weeknights together, some for individual activities."},"r2-dailyLife-7":{whyItMatters:"Grocery shopping approach affects household management. Planning together vs one person handling it both work but serve different needs.",matchConversation:"When grocery shopping, how do we both prefer to handle itplanning together or one person?",mismatchConversation:"When grocery shopping, I like planning together, but you prefer one person handles ithow can we make it work?",nextStep:"Try: one person shops, but both contribute to the list."},"r2-dailyLife-8":{whyItMatters:"Weekend ideal affects relationship satisfaction. Activities together vs mix of together and alone time both are healthy.",matchConversation:"What's your ideal weekenddoing activities with me or a mix of together and alone time?",mismatchConversation:"My ideal weekend involves doing activities with you, but you prefer a mix of together and alone timehow can we plan for both?",nextStep:"Plan: one weekend activity together, plus individual time."},"r2-dailyLife-9":{whyItMatters:"Home decision-making affects household harmony. Discussing everything vs handling different areas both work but need clarity.",matchConversation:"When it comes to decision-making about the home, how do we both prefer to handle it?",mismatchConversation:"I prefer discussing everything about the home, but you prefer we each handle different areashow can we find balance?",nextStep:"Divide: which decisions need both input, which can be individual?"},"r2-dailyLife-10":{whyItMatters:"Caregiving when sick affects relationship support. Full caretaker vs independent handling both are valid but need communication.",matchConversation:"When you're sick, how do you want me to helpfull caretaker or let you handle it independently?",mismatchConversation:"When you're sick, I become full caretaker, but you prefer to handle it independentlyhow can I support without overwhelming?",nextStep:"Ask when sick: 'What kind of help do you wantfull caretaker or space?'"},"r2-dailyLife-11":{whyItMatters:"Saving money approach affects financial security. Similar vs different approaches can create tension if not aligned.",matchConversation:"How similar is our approach to saving money, and what works well about that?",mismatchConversation:"My approach to saving money is very similar to yours, but you think it's somewhat differentwhat's the difference?",nextStep:"Discuss: what are your individual saving goals and how do they align?"},"r2-dailyLife-12":{whyItMatters:"Vacation planning affects relationship harmony. Exciting and smooth vs friction-creating planning reveal different travel dynamics.",matchConversation:"When planning vacations together, what makes it exciting and smooth for us?",mismatchConversation:"Planning vacations is exciting and smooth for me, but it causes some friction for youwhat's the friction about?",nextStep:"Try: one person plans, the other approvesor divide planning tasks."},"r2-dailyLife-13":{whyItMatters:"Entertainment tastes affect daily connection. Overlapping vs different tastes both work but require compromise.",matchConversation:"How much do our TV and entertainment tastes overlap, and what do we both enjoy?",mismatchConversation:"I think our TV and entertainment tastes overlap a lot, but you think they're pretty differenthow can we find common ground?",nextStep:"Create: a shared watchlist with both your preferences."},"r2-dailyLife-14":{whyItMatters:"Hosting comfort affects social life. Enjoying vs finding stressful both are valid but need support strategies.",matchConversation:"When hosting people at home, what makes it really enjoyable for you?",mismatchConversation:"When hosting, I really enjoy it, but you find it stressfulhow can we divide hosting duties to play to our strengths?",nextStep:"Divide: who handles what when hostingplay to each other's strengths."},"r2-dailyLife-15":{whyItMatters:"Eating habits affect daily life compatibility. Compatible vs different habits both work but require flexibility.",matchConversation:"How compatible are our eating habits, and what works well about that?",mismatchConversation:"I think our eating habits are very compatible, but you think they're a bit differentwhat's the biggest difference?",nextStep:"Plan: meals that work for both your preferences."},"r2-dailyLife-16":{whyItMatters:"Spending priorities affect financial harmony. Similar vs different priorities can create ongoing tension if not discussed.",matchConversation:"When it comes to spending money, how similar are our priorities?",mismatchConversation:"I think we spend money on similar priorities, but you think they're differentwhat's the biggest difference?",nextStep:"List: your top 3 spending priorities and compare."},"r2-dailyLife-17":{whyItMatters:"Organization systems affect daily efficiency. Aligned vs different systems both work but need coordination.",matchConversation:"When it comes to organization, how aligned do you think our systems are?",mismatchConversation:"I think our organization systems are aligned, but you think we have different systemshow can we coordinate better?",nextStep:"Discuss: what organization system works best for shared spaces?"},"r2-dailyLife-18":{whyItMatters:"Social life balance affects relationship satisfaction. Well-balanced vs needing attention both need ongoing work.",matchConversation:"How well-balanced does our social life as a couple feel to you?",mismatchConversation:"Our social life feels well-balanced to me, but you think it could use some attentionwhat needs attention?",nextStep:"Plan: one couple social activity and one individual social time this month."},"r2-dailyLife-19":{whyItMatters:"Pet perspectives affect household decisions. Agreement vs different views both are valid but need discussion.",matchConversation:"When it comes to pets, how much do we agree on our approach?",mismatchConversation:"I think we totally agree on pets, but you think we see it a bit differentlywhat's the difference?",nextStep:"Discuss: if you got a pet, what would each of you want?"},"r2-dailyLife-20":{whyItMatters:"Work-life boundaries affect relationship availability. Similar vs different boundaries can create tension if not respected.",matchConversation:"How similar are our work-life boundaries, and what works well about that?",mismatchConversation:"My work-life boundaries are similar to yours, but you think they're differenthow does that affect us?",nextStep:"Share: what are your ideal work-life boundaries?"},"r2-dailyLife-21":{whyItMatters:"Exercise approach affects health and connection. Motivating each other vs doing your own thing both work but serve different needs.",matchConversation:"When it comes to exercising, how do we both approach itmotivating each other or individually?",mismatchConversation:"I think we motivate each other to exercise, but you do your own thinghow can we support each other better?",nextStep:"Try: one workout together this week, or share your individual goals."},"r2-dailyLife-22":{whyItMatters:"Screen time habits affect daily connection. Similar vs different habits can create distance if not managed.",matchConversation:"How similar are our screen time habits, and what works well about that?",mismatchConversation:"I think our screen time habits are pretty similar, but you think they're differenthow does that affect our connection?",nextStep:"Agree: one screen-free hour together each day."},"r2-dailyLife-23":{whyItMatters:"Errand running together affects daily connection. Working well vs testing patience reveal different preferences for togetherness.",matchConversation:"When running errands together, what makes it work well for us?",mismatchConversation:"Running errands together works well for me, but it can test your patiencehow can we make it better?",nextStep:"Try: divide errandssome together, some separate."},"r2-dailyLife-24":{whyItMatters:"Thermostat preferences affect daily comfort. Same vs negotiation reveal different temperature needs.",matchConversation:"How similar are our thermostat preferences, and what works well?",mismatchConversation:"I think our thermostat preferences are the same, but you think it's a point of negotiationwhat's your ideal temperature?",nextStep:"Find: a temperature compromise that works for both."},"r2-dailyLife-25":{whyItMatters:"Furniture and decorating tastes affect home harmony. Aligned vs needing compromise both work but require communication.",matchConversation:"When furniture shopping or decorating, how well do our tastes align?",mismatchConversation:"I think our decorating tastes align, but you usually need to compromisehow can we find more common ground?",nextStep:"Create: a shared Pinterest board of styles you both like."},"r2-dailyLife-26":{whyItMatters:"Calendar management affects daily coordination. Working well vs causing mix-ups reveal different organization needs.",matchConversation:"When managing calendars and schedules, what makes it work well for us?",mismatchConversation:"Managing calendars works well for me, but it causes some mix-ups for youhow can we coordinate better?",nextStep:"Use: a shared calendar app or weekly schedule check-in."},"r2-dailyLife-27":{whyItMatters:"Health and wellness approach affects lifestyle compatibility. Aligned vs different approaches both work but need respect.",matchConversation:"How aligned is our approach to health and wellness?",mismatchConversation:"I think our health approach is pretty aligned, but you think it's different in some wayswhat's the difference?",nextStep:"Discuss: what does 'healthy' mean to each of you?"},"r2-dailyLife-28":{whyItMatters:"Household repair approach affects problem-solving dynamics. Figuring out together vs one taking lead both work.",matchConversation:"When dealing with household repairs, how do we both prefer to handle them?",mismatchConversation:"I like figuring out repairs together, but you prefer one of us takes the leadhow can we divide this?",nextStep:"Agree: who handles what types of repairs?"},"r2-dailyLife-29":{whyItMatters:"Clutter attitude affects daily harmony. Similar vs different attitudes can create ongoing tension if not addressed.",matchConversation:"When it comes to clutter, how similar are our attitudes?",mismatchConversation:"I think our attitude about clutter is very similar, but you think it's differentwhat's your threshold?",nextStep:"Discuss: what's 'too cluttered' for each of you?"},"r2-dailyLife-30":{whyItMatters:"Family time splitting affects relationship harmony. Balanced and fair vs tricky reveals different family dynamics.",matchConversation:"When splitting time between families, how balanced does it feel to you?",mismatchConversation:"Splitting time between families feels balanced to me, but you think it can be trickywhat makes it tricky?",nextStep:"Plan: how to split family time for the next 3 months."},"r2-intimacy-1":{whyItMatters:"Touch frequency reveals underlying needs for connection. It's not about quantityit's about understanding what each of you needs.",matchConversation:"What physical moments throughout the day mean the most to you?",mismatchConversation:"Physical touch happens very naturally for me, but you think it could be more frequenthow can we find a rhythm that works?",nextStep:"Identify three touch moments you'd both enjoy throughout your typical day."},"r2-intimacy-2":{whyItMatters:"What makes you feel desired reveals your intimacy needs. Initiation vs enthusiastic response both show desire but in different ways.",matchConversation:"When do you feel most desiredwhen I initiate or when I respond enthusiastically?",mismatchConversation:"I feel most desired when you initiate, but you feel it when I respond enthusiasticallyhow can we both feel desired?",nextStep:"This week: both initiate AND respond enthusiastically."},"r2-intimacy-3":{whyItMatters:"Comfort talking about physical intimacy affects relationship depth. Comfortable vs could be easier reveal different communication levels.",matchConversation:"What makes talking about physical intimacy comfortable for you?",mismatchConversation:"Talking about physical intimacy is comfortable for me, but it could be easier for youwhat would make it easier?",nextStep:"Practice: share one thing about physical intimacy you'd like to discuss."},"r2-intimacy-4":{whyItMatters:"Closeness preferences affect intimacy satisfaction. Well matched vs differing needs both are normal but require communication.",matchConversation:"How well matched are our preferences for closeness?",mismatchConversation:"I think our closeness preferences are well matched, but you think they differ somewhatwhat's the difference?",nextStep:"Discuss: what does 'enough closeness' mean to each of you?"},"r2-intimacy-5":{whyItMatters:"Non-sexual physical affection patterns affect daily connection. Throughout day vs certain moments both work but serve different needs.",matchConversation:"When does non-sexual physical affection happen for youthroughout each day or at certain moments?",mismatchConversation:"Non-sexual affection happens throughout each day for me, but at certain moments for youhow can we find balance?",nextStep:"Identify: three moments each day for non-sexual affection."},"r2-intimacy-6":{whyItMatters:"Quality time importance affects connection depth. Central vs one of many ways both are valid but reveal different intimacy needs.",matchConversation:"How central is quality time to your connection with me?",mismatchConversation:"Quality time is central to my connection, but it's one of many ways for youhow can we honor both perspectives?",nextStep:"Plan: one quality time activity this week that feels meaningful to both."},"r2-intimacy-7":{whyItMatters:"Reunion after being apart affects reconnection. Very affectionate vs easing back both are valid but show different comfort levels.",matchConversation:"After being apart, how do you prefer to reunitevery affectionate or easing back?",mismatchConversation:"After being apart, reuniting feels very affectionate for me, but you ease back into togethernesshow can we meet in the middle?",nextStep:"Try: a warm greeting, then allow space to ease back in."},"r2-intimacy-8":{whyItMatters:"Expressing physical attraction affects partner confidence. Often vs could do more reveal different comfort levels with expressing desire.",matchConversation:"How often do you express physical attraction to me?",mismatchConversation:"I express physical attraction often, but you think I could do morewhat would you like to hear more?",nextStep:"Practice: one genuine compliment about physical attraction each day."},"r2-intimacy-9":{whyItMatters:"Date night priority affects relationship maintenance. Regular priority vs should do more reveal different values on intentional connection.",matchConversation:"How much of a priority are date nights for you?",mismatchConversation:"Date nights are a regular priority for me, but you think we should do morehow can we make them happen?",nextStep:"Schedule: one date night this month, even if simple."},"r2-intimacy-10":{whyItMatters:"Public vs private affection affects comfort levels. Both preferences are valid but reveal different comfort with public displays.",matchConversation:"How do you prefer to show affectionpublicly or privately?",mismatchConversation:"I prefer to show affection publicly, but you prefer privatelyhow can we respect both preferences?",nextStep:"Agree: what level of public affection feels comfortable for both?"},"r2-intimacy-11":{whyItMatters:"Romantic gesture frequency affects relationship satisfaction. Fairly often vs less frequent reveal different needs for romance.",matchConversation:"How often do romantic gestures happen in our relationship?",mismatchConversation:"Romantic gestures happen fairly often for me, but you think they're less frequent than you'd likewhat would you like more of?",nextStep:"Plan: one romantic gesture this week, even if small."},"r2-intimacy-12":{whyItMatters:"Holding hands and cuddling frequency affects daily connection. Regularly vs sometimes reveal different needs for physical closeness.",matchConversation:"How often does holding hands or cuddling happen for you?",mismatchConversation:"Holding hands or cuddling happens regularly for me, but only sometimes for youhow can we find a frequency that works?",nextStep:"Try: one intentional cuddle or hand-hold each day."},"r2-intimacy-13":{whyItMatters:"What makes you feel most connected reveals your intimacy style. Deep conversations vs physical closeness both create connection.",matchConversation:"When do you feel most connectedafter deep conversations or physical closeness?",mismatchConversation:"I feel most connected after deep conversations, but you feel it after physical closenesshow can we do both?",nextStep:"Combine: one deep conversation followed by physical closeness."},"r2-intimacy-14":{whyItMatters:"Physical relationship satisfaction affects overall relationship health. Strength vs nurturing reveal different relationship stages.",matchConversation:"How would you describe our physical relationshipa strength or something we're nurturing?",mismatchConversation:"I think our physical relationship is a strength, but you think it's something we're nurturingwhat would help nurture it?",nextStep:"Discuss: what would make the physical relationship feel stronger?"},"r2-intimacy-15":{whyItMatters:"Playfulness and flirting affect relationship fun. Natural vs could do more reveal different comfort levels with playfulness.",matchConversation:"How naturally does being playful and flirty come to you?",mismatchConversation:"Being playful and flirty comes naturally to me, but you think you could do morewhat would make it easier?",nextStep:"Try: one playful or flirty moment each day, even if small."},"r2-intimacy-16":{whyItMatters:"Feeling attractive to your partner affects self-confidence. Absolutely vs wanting more reminders reveal different security levels.",matchConversation:"How confident do you feel that I find you attractive?",mismatchConversation:"I feel you find me attractive absolutely, but you'd like more remindershow can I show that more?",nextStep:"Practice: one specific compliment about attractiveness each day."},"r2-intimacy-17":{whyItMatters:"Morning greetings affect daily connection. Everyday vs when remembered reveal different values on daily rituals.",matchConversation:"How often do morning kisses or greetings happen for you?",mismatchConversation:"Morning kisses are an everyday thing for me, but they happen when you rememberhow can we make them more consistent?",nextStep:"Create: a morning greeting ritual you both enjoy."},"r2-intimacy-18":{whyItMatters:"Sharing a bed affects intimacy and connection. Essential vs sleep quality matters more reveal different priorities.",matchConversation:"How important is sharing a bed to your bond with me?",mismatchConversation:"Sharing a bed feels essential to my bond, but sleep quality matters more to youhow can we balance both?",nextStep:"Discuss: what would make sharing a bed work better for both?"},"r2-intimacy-19":{whyItMatters:"Handling rejection affects intimacy safety. Gracefully vs feeling like rejection reveal different comfort levels with boundaries.",matchConversation:"When I'm not in the mood, how do you handle it?",mismatchConversation:"When I'm not in the mood, you handle it gracefully, but it can feel like rejection to mehow can we reframe this?",nextStep:"Practice: 'Not right now, but I love you' instead of just 'no.'"},"r2-intimacy-20":{whyItMatters:"Surprise physical affection affects relationship spontaneity. Always makes smile vs depends on mood reveal different receptivity.",matchConversation:"How do you feel about surprise physical affection?",mismatchConversation:"Surprise physical affection always makes me smile, but it depends on your moodhow can I know when it's welcome?",nextStep:"Create: a signal for when surprise affection is welcome."},"r2-intimacy-21":{whyItMatters:"Romance style affects relationship satisfaction. Spontaneous and organic vs planned and intentional both work but serve different needs.",matchConversation:"How do you think romance should bespontaneous and organic or planned and intentional?",mismatchConversation:"I think romance should be spontaneous, but you prefer it planned and intentionalhow can we do both?",nextStep:"Try: one spontaneous romantic moment and one planned one this month."},"r2-intimacy-22":{whyItMatters:"Eye contact during meaningful moments affects connection depth. Natural vs could improve reveal different comfort levels with vulnerability.",matchConversation:"How naturally does eye contact during meaningful moments happen for you?",mismatchConversation:"Eye contact happens naturally for me, but you think you could improvewhat would make it easier?",nextStep:"Practice: intentional eye contact during one meaningful conversation this week."},"r2-intimacy-23":{whyItMatters:"Compliment frequency affects partner confidence. Regularly vs less than should reveal different values on verbal affirmation.",matchConversation:"How often do you compliment me?",mismatchConversation:"I compliment you regularly, but you think you do it less than you shouldwhat would you like to compliment more?",nextStep:"Practice: one genuine compliment each day."},"r2-intimacy-24":{whyItMatters:"Physical affection needs affect intimacy satisfaction. Very similar vs a bit different reveal different needs for closeness.",matchConversation:"How similar are our needs for physical affection?",mismatchConversation:"I think our need for physical affection is very similar, but you think it's a bit differentwhat's the difference?",nextStep:"Discuss: what does 'enough physical affection' mean to each of you?"},"r2-intimacy-25":{whyItMatters:"Connection rituals affect relationship stability. Having several vs could create more reveal different values on daily rituals.",matchConversation:"What connection rituals do we have together?",mismatchConversation:"I have several connection rituals with you, but you think we could create morewhat would you like to add?",nextStep:"Create: one new connection ritual together this week."},"r2-intimacy-26":{whyItMatters:"Intimacy priority during stress affects relationship maintenance. Stays priority vs gets pushed aside reveal different values on connection.",matchConversation:"When busy or stressed, how do you keep intimacy a priority?",mismatchConversation:"When busy or stressed, intimacy stays a priority for me, but it often gets pushed aside for youhow can we keep it important?",nextStep:"Agree: even when stressed, one small intimacy moment each day."},"r2-intimacy-27":{whyItMatters:"What makes you feel romantic reveals your intimacy triggers. Uninterrupted time vs thoughtful gestures both create romance.",matchConversation:"When do you feel most romanticuninterrupted time or thoughtful gestures?",mismatchConversation:"I feel most romantic when we have uninterrupted time, but you feel it when I do something thoughtfulhow can we do both?",nextStep:"Plan: one uninterrupted time together and one thoughtful gesture this week."},"r2-intimacy-28":{whyItMatters:"Physical vulnerability comfort affects intimacy depth. Very high vs still growing reveal different comfort levels with physical openness.",matchConversation:"How comfortable are you with physical vulnerability?",mismatchConversation:"My comfort with physical vulnerability is very high, but yours is still growingwhat would make it easier?",nextStep:"Practice: one small step toward more physical vulnerability this week."},"r2-intimacy-29":{whyItMatters:"Saying 'I love you' frequency affects relationship security. Multiple times daily vs key moments reveal different expression needs.",matchConversation:"How often do you say 'I love you'?",mismatchConversation:"I say 'I love you' multiple times daily, but you say it at key momentsdoes the frequency matter to you?",nextStep:"Notice: when your partner says 'I love you' and how it makes you feel."},"r2-intimacy-30":{whyItMatters:"Physical affection before sleep affects bedtime connection. Part of routine vs occasionally reveal different values on end-of-day connection.",matchConversation:"How often does physical affection before sleep happen for you?",mismatchConversation:"Physical affection before sleep is part of my routine, but it happens occasionally for youwould you like it more often?",nextStep:"Create: a bedtime affection ritual you both enjoy."},"r2-future-1":{whyItMatters:"Where you live shapes your lifestyle, community, and opportunities. Alignment here is about more than geographyit's about values.",matchConversation:"What excites you most about where we picture ourselves living long-term?",mismatchConversation:"My vision for where to live is very aligned with yours, but you think there are some differenceswhat matters most to you?",nextStep:"Each write down your top 3 priorities for where to live and compare."},"r2-future-2":{whyItMatters:"Children decision affects life trajectory. Being on same page vs needing discussion reveal different readiness levels.",matchConversation:"When it comes to having children, how on the same page do you think we are?",mismatchConversation:"I think we're on the same page about children, but you think there's still discussion neededwhat needs to be discussed?",nextStep:"Schedule: one dedicated conversation about childrentiming, number, approach."},"r2-future-3":{whyItMatters:"Career ambition support affects relationship satisfaction. Supported well vs competing with relationship reveal different priorities.",matchConversation:"How well supported do your career ambitions feel by me?",mismatchConversation:"My career ambitions are supported well by you, but you think they sometimes compete with relationship prioritieshow can we balance this?",nextStep:"Discuss: how to support career goals while prioritizing the relationship."},"r2-future-4":{whyItMatters:"Retirement planning affects long-term security. Discussed vs not come up reveal different levels of future planning.",matchConversation:"Have we discussed retirement dreams together?",mismatchConversation:"I've discussed retirement dreams with you, but they haven't come up much for youwhat are your retirement dreams?",nextStep:"Plan: one conversation about retirement dreams and goals."},"r2-future-5":{whyItMatters:"Financial goal sharing affects financial security. Sharing and planning vs approaching independently reveal different financial dynamics.",matchConversation:"How do we both approach financial goals for the futuretogether or independently?",mismatchConversation:"I share and plan financial goals with you, but you approach them independentlyhow can we align our financial goals?",nextStep:"Create: one shared financial goal and one individual goal."},"r2-future-6":{whyItMatters:"Decision-making pace affects relationship harmony. Feeling right vs misaligned reveal different comfort levels with speed.",matchConversation:"When making big decisions, how does the pace feel to you?",mismatchConversation:"The pace at which we make big decisions feels right to me, but you think it's sometimes misalignedwhat feels off?",nextStep:"Discuss: what's the right pace for big decisions for each of you?"},"r2-future-7":{whyItMatters:"Travel and adventure goals affect lifestyle compatibility. Very similar vs differing reveal different adventure needs.",matchConversation:"How similar are our travel and adventure goals?",mismatchConversation:"I think our travel goals are very similar, but you think they differ in some wayswhat are the differences?",nextStep:"Create: a shared travel/adventure bucket list."},"r2-future-8":{whyItMatters:"Extended family involvement affects relationship boundaries. Staying as is vs needing to evolve reveal different family dynamics.",matchConversation:"How do you see our involvement with extended family in the future?",mismatchConversation:"I think our family involvement will stay as it is, but you think it may need to evolvewhat needs to change?",nextStep:"Discuss: what boundaries do you want with extended family?"},"r2-future-9":{whyItMatters:"5-year vision affects relationship security. Exciting vs uncertain reveal different confidence levels in the relationship.",matchConversation:"When you imagine us in 5 years, what excites you?",mismatchConversation:"Imagining us in 5 years excites me, but you feel a bit uncertainwhat would help you feel more confident?",nextStep:"Share: one specific thing you're excited about for the next 5 years."},"r2-future-10":{whyItMatters:"Risk approach affects major life decisions. Similar vs differing reveal different comfort levels with uncertainty.",matchConversation:"How similar is our approach to risk in career, money, and moves?",mismatchConversation:"My approach to risk is similar to yours, but you think it differs somewhatwhat's the difference?",nextStep:"Discuss: one major risk you're each considering and how to approach it."},"r2-future-11":{whyItMatters:"Marriage timeline affects relationship security. Same timeline vs seeing differently reveal different commitment readiness.",matchConversation:"How aligned are we on marriage or deeper commitment timeline?",mismatchConversation:"I feel on the same timeline as you for marriage, but you think we see it differentlywhat's your timeline?",nextStep:"Have: one honest conversation about commitment timeline and readiness."},"r2-future-12":{whyItMatters:"Home ownership goals affect financial planning. Aligned vs needing discussion reveal different housing priorities.",matchConversation:"How aligned are our home ownership goals?",mismatchConversation:"My home ownership goals align with yours, but you think we need more discussionwhat needs to be discussed?",nextStep:"Research: what home ownership would look like for both of you."},"r2-future-13":{whyItMatters:"Lifestyle preferences long-term affect compatibility. Matching well vs having differences reveal different lifestyle visions.",matchConversation:"How well do our lifestyle preferences match for the long-term?",mismatchConversation:"I think our lifestyle preferences match well, but you think there are some differenceswhat are they?",nextStep:"Describe: your ideal lifestyle in 10 years and compare."},"r2-future-14":{whyItMatters:"Emergency planning affects relationship security. Discussed vs not tackled reveal different levels of future preparation.",matchConversation:"Have we discussed planning for emergencies or the unexpected?",mismatchConversation:"I've discussed emergency planning with you, but you haven't tackled itwhat would you like to plan for?",nextStep:"Create: one emergency plan togetherfinancial, health, or practical."},"r2-future-15":{whyItMatters:"Future security affects relationship confidence. Absolutely vs mostly with uncertainty reveal different confidence levels.",matchConversation:"How secure do you feel about our future together?",mismatchConversation:"I feel absolutely secure about our future, but you feel mostly secure with some uncertaintywhat would help?",nextStep:"Share: one thing that would make you feel more secure about the future."},"r2-future-16":{whyItMatters:"Educational goals support affects personal growth. Supported vs pursuing independently reveal different approaches to learning.",matchConversation:"How supported do your educational or learning goals feel?",mismatchConversation:"My educational goals are supported by you, but I pursue them independentlyhow can we involve each other more?",nextStep:"Share: one learning goal and how your partner can support it."},"r2-future-17":{whyItMatters:"Work-life balance views affect long-term compatibility. Aligned vs needing discussion reveal different lifestyle priorities.",matchConversation:"How aligned are our views on work-life balance long-term?",mismatchConversation:"I think our work-life balance views are aligned, but you think they may need discussionwhat needs to be discussed?",nextStep:"Describe: your ideal work-life balance in 10 years."},"r2-future-18":{whyItMatters:"Wealth building approach affects financial partnership. Shared goal vs individual with overlap reveal different financial dynamics.",matchConversation:"How does building wealth feel to youshared goal or individual?",mismatchConversation:"Building wealth feels like a shared goal to me, but you see it as more individual with some overlaphow can we align?",nextStep:"Create: one shared wealth-building goal together."},"r2-future-19":{whyItMatters:"Family involvement in future affects relationship boundaries. Agreeing vs seeing differently reveal different family relationship needs.",matchConversation:"How do we both see family involvement in our future?",mismatchConversation:"I agree with you on how involved family will be, but you see it differentlywhat's your vision?",nextStep:"Discuss: what role do you each want family to play in your future?"},"r2-future-20":{whyItMatters:"Legacy discussion affects relationship depth. Talked about vs not discussing reveal different values on meaning and impact.",matchConversation:"Have we talked about the legacy or impact we want to leave?",mismatchConversation:"I've talked about legacy with you, but you haven't discussed itwhat legacy do you want to leave?",nextStep:"Share: what impact do you each want to make in the world?"},"r2-future-21":{whyItMatters:"Relocation flexibility affects career and life opportunities. Making it work vs complicated reveal different flexibility levels.",matchConversation:"If opportunities required relocation, how do you think we'd handle it?",mismatchConversation:"I think we could make relocation work, but you think it would be complicatedwhat makes it complicated?",nextStep:"Discuss: under what circumstances would relocation be possible?"},"r2-future-22":{whyItMatters:"Spiritual alignment affects relationship depth. Strong vs room to explore reveal different levels of spiritual connection.",matchConversation:"How strong is our spiritual or philosophical alignment?",mismatchConversation:"I think our spiritual alignment is strong, but you think there's room to explorewhat would you like to explore?",nextStep:"Share: one spiritual or philosophical belief that's important to you."},"r2-future-23":{whyItMatters:"Career vs relationship priority affects life balance. Balanced vs challenging reveal different approaches to life priorities.",matchConversation:"How do you prioritize career vs relationship?",mismatchConversation:"How I prioritize career vs relationship feels balanced to me, but you think it can be challengingwhat's challenging?",nextStep:"Reflect: when has career competed with relationship, and how did you handle it?"},"r2-future-24":{whyItMatters:"Shared dreams discussion affects relationship connection. Discussing regularly vs could talk more reveal different communication levels.",matchConversation:"How often do we discuss our shared dreams?",mismatchConversation:"I discuss shared dreams regularly, but you think we could talk about them morewhat dreams would you like to discuss?",nextStep:"Schedule: one 'dreams date' to discuss shared aspirations."},"r2-future-25":{whyItMatters:"Aging together vision affects long-term security. Optimistic vs should discuss more reveal different comfort levels with aging.",matchConversation:"When you think about aging with me, how does it make you feel?",mismatchConversation:"Thinking about aging with you makes me optimistic, but you think we should discuss it morewhat concerns you?",nextStep:"Share: one thing you're looking forward to about aging together."},"r2-future-26":{whyItMatters:"Standard of living expectations affect financial planning. Agreeing vs differing slightly reveal different lifestyle goals.",matchConversation:"How aligned are we on our expected standard of living?",mismatchConversation:"I agree with you on expected standard of living, but you think it may differ slightlywhat's the difference?",nextStep:"Describe: your ideal standard of living in 10 years."},"r2-future-27":{whyItMatters:"Hobby and passion support affects personal fulfillment. Fully supported vs creating time conflicts reveal different support levels.",matchConversation:"How supported do your hobbies and passions feel?",mismatchConversation:"My hobbies are fully supported by you, but you think they could create time conflictshow can we balance this?",nextStep:"Plan: how to support each other's hobbies while maintaining couple time."},"r2-future-28":{whyItMatters:"Community involvement values affect lifestyle choices. Shared value vs matters differently reveal different values on giving back.",matchConversation:"How do we both value community involvement or giving back?",mismatchConversation:"Community involvement is a shared value for me, but it matters differently to each of ushow can we honor both?",nextStep:"Find: one way to give back together that aligns with both your values."},"r2-future-29":{whyItMatters:"Career change support affects relationship security. Supportive vs might cause stress reveal different comfort levels with change.",matchConversation:"If I wanted a major career change, how do you think you'd respond?",mismatchConversation:"I feel you'd be supportive of a major career change, but you think it might cause stresswhat would be stressful?",nextStep:"Discuss: how would you handle a major career change together?"},"r2-future-30":{whyItMatters:"Plans feeling affects relationship security. Shared roadmap vs general direction reveal different levels of planning and alignment.",matchConversation:"How do our plans together feel to youlike a shared roadmap or general direction?",mismatchConversation:"Our plans feel like a shared roadmap to me, but you see them as more of a general directionhow can we align more?",nextStep:"Create: one concrete plan together for the next year."},"r2-growth-1":{whyItMatters:"A relationship that helps you grow is one that will last. If you're not becoming better together, it's worth exploring why.",matchConversation:"In what ways have we both grown since being together?",mismatchConversation:"I feel I'm becoming a better person through this relationship absolutely, but you think it's in some wayswhat ways?",nextStep:"Share one personal growth goal and discuss how to support each other."},"r2-growth-2":{whyItMatters:"Partner challenges affect personal growth. Healthy challenges vs not as much as wanted reveal different growth support levels.",matchConversation:"How does your partner challenge you to grow in healthy ways?",mismatchConversation:"You challenge me to grow in healthy ways, but I'd like morewhat kind of challenges would help me grow?",nextStep:"Ask: 'What's one way you'd like me to challenge you to grow?'"},"r2-growth-3":{whyItMatters:"Sharing fears and insecurities affects relationship depth. Very openly vs with hesitation reveal different comfort levels with vulnerability.",matchConversation:"How openly can you share your fears and insecurities with me?",mismatchConversation:"I can share fears very openly, but you sometimes hesitatewhat would make it easier to share?",nextStep:"Share: one fear or insecurity you've been holding back."},"r2-growth-4":{whyItMatters:"What the relationship brings out affects personal development. Best in you vs mixed things reveal different relationship impacts.",matchConversation:"What does this relationship bring out in you?",mismatchConversation:"This relationship brings out the best in me, but you think it brings out mixed thingswhat are the mixed things?",nextStep:"Reflect: what does this relationship bring out in you, both positive and challenging?"},"r2-growth-5":{whyItMatters:"Personal goals support affects individual fulfillment. Encouraged vs taking backseat reveal different support levels.",matchConversation:"How encouraged do your personal goals and hobbies feel?",mismatchConversation:"My personal goals are encouraged by you, but you think they sometimes take a backseathow can we balance this?",nextStep:"Share: one personal goal and how your partner can support it."},"r2-growth-6":{whyItMatters:"Constructive feedback comfort affects relationship growth. Works well vs can be sensitive reveal different communication patterns.",matchConversation:"How comfortable are you giving and receiving constructive feedback?",mismatchConversation:"Giving and receiving feedback works well for me, but it can be sensitive for youwhat would make it easier?",nextStep:"Practice: one piece of constructive feedback using 'I' statements."},"r2-growth-7":{whyItMatters:"Individuality support affects relationship health. Fully supported vs could use more space reveal different needs for independence.",matchConversation:"How supported does your individuality feel in this relationship?",mismatchConversation:"I feel my individuality is fully supported, but you think you could use more spacewhat kind of space do you need?",nextStep:"Plan: one activity or time that's just for your individual self."},"r2-growth-8":{whyItMatters:"Learning together affects relationship connection. Doing it vs not a big focus reveal different values on shared growth.",matchConversation:"How often do we learn new things together?",mismatchConversation:"Learning new things with you is something I do, but you think it's not a big focuswhat would you like to learn together?",nextStep:"Choose: one thing you'd both like to learn together this month."},"r2-growth-9":{whyItMatters:"Past relationship lessons sharing affects relationship depth. Discussed openly vs mostly private reveal different comfort levels.",matchConversation:"Have we discussed past relationship lessons openly?",mismatchConversation:"I've discussed past relationship lessons openly with you, but they're mostly private to youwhat would make it easier to share?",nextStep:"Share: one lesson from a past relationship that affects this one."},"r2-growth-10":{whyItMatters:"Admitting wrong affects relationship health. Pretty easily vs with difficulty reveal different comfort levels with vulnerability.",matchConversation:"How easily can you admit when you're wrong to me?",mismatchConversation:"I can admit when I'm wrong pretty easily, but it's with some difficulty for youwhat makes it hard?",nextStep:"Practice: 'I was wrong about [specific thing].'"},"r2-growth-11":{whyItMatters:"What the relationship teaches affects personal development. A lot about yourself vs mostly about partnership reveal different growth areas.",matchConversation:"What has this relationship taught you?",mismatchConversation:"This relationship has taught me a lot about myself, but you think it's mostly about partnershipwhat have you learned?",nextStep:"Reflect: what has this relationship taught you about yourself vs partnership?"},"r2-growth-12":{whyItMatters:"Alone time and self-care space affects relationship health. Well-respected vs could be improved reveal different needs for independence.",matchConversation:"How well-respected is space for alone time and self-care in our relationship?",mismatchConversation:"Space for alone time is well-respected for me, but you think it could be improvedwhat would help?",nextStep:"Agree: one regular time each week that's just for self-care."},"r2-growth-13":{whyItMatters:"Dream pursuit support affects personal fulfillment. Full support vs some compromise reveal different support levels.",matchConversation:"How supported do you feel pursuing your dreams?",mismatchConversation:"I feel I can pursue my dreams with full support from you, but you think it's with some compromisewhat's the compromise?",nextStep:"Share: one dream and discuss how to support it together."},"r2-growth-14":{whyItMatters:"Self-improvement discussion affects relationship growth. Regularly vs individually mostly reveal different communication patterns.",matchConversation:"How often do we talk about self-improvement together?",mismatchConversation:"I talk about self-improvement regularly with you, but you do it individually mostlywould you like to share more?",nextStep:"Share: one self-improvement goal and how your partner can support it."},"r2-growth-15":{whyItMatters:"Mistake safety affects relationship security. Safe and accepted vs sometimes fearing judgment reveal different comfort levels.",matchConversation:"When you make mistakes, how safe and accepted do you feel?",mismatchConversation:"When I make mistakes, I feel safe and accepted, but you sometimes fear judgmentwhat would make you feel safer?",nextStep:"Practice: responding to mistakes with 'I'm here, we'll figure this out together.'"},"r2-growth-16":{whyItMatters:"Identity sense in relationship affects personal security. Strong and secure vs navigating reveal different comfort levels with self.",matchConversation:"How strong and secure does your sense of identity feel in this relationship?",mismatchConversation:"My sense of identity feels strong and secure, but you're navigating itwhat would help you feel more secure?",nextStep:"Reflect: what parts of your identity feel strongest in this relationship?"},"r2-growth-17":{whyItMatters:"Personal win celebration affects relationship support. Enthusiastically vs low-key reveal different celebration needs.",matchConversation:"How do we celebrate personal wins together?",mismatchConversation:"We celebrate personal wins enthusiastically, but you prefer keeping it low-keyhow can we honor both?",nextStep:"Ask: 'How would you like me to celebrate your next win?'"},"r2-growth-18":{whyItMatters:"Encouragement during tough times affects relationship support. Strength vs building reveal different support levels.",matchConversation:"How do you encourage each other during tough times?",mismatchConversation:"Encouraging each other during tough times is a strength of mine, but you're building itwhat would help?",nextStep:"Practice: one specific encouragement when your partner is struggling."},"r2-growth-19":{whyItMatters:"Feeling heard affects relationship security. Always vs most of the time reveal different communication satisfaction levels.",matchConversation:"How often do you feel heard when you share new ideas?",mismatchConversation:"I feel heard always when I share new ideas, but you think it's most of the timewhat would make it always?",nextStep:"Practice: 'Let me make sure I understand your ideayou're saying...'"},"r2-growth-20":{whyItMatters:"Relationship impact on confidence affects personal development. More confident vs working through insecurities reveal different growth paths.",matchConversation:"How does this relationship help you feel about yourself?",mismatchConversation:"This relationship helps me feel more confident, but you're working through insecuritieshow can I support that?",nextStep:"Share: one insecurity you're working through and how your partner can help."},"r2-growth-21":{whyItMatters:"Change handling affects relationship adaptability. Adapting as team vs individually first reveal different approaches to change.",matchConversation:"How do we both handle change in our relationship?",mismatchConversation:"I handle change by adapting with you as a team, but you do it individually firsthow can we find balance?",nextStep:"Discuss: how to handle the next big change together."},"r2-growth-22":{whyItMatters:"Spirituality sharing affects relationship depth. Sharing vs more personal reveal different comfort levels with meaning.",matchConversation:"How do we share exploring spirituality or meaning?",mismatchConversation:"Exploring spirituality is something I share with you, but it's more personal for youwould you like to share more?",nextStep:"Share: one spiritual or meaningful belief that's important to you."},"r2-growth-23":{whyItMatters:"Therapy openness affects relationship growth. Open to if needed vs not considered reveal different values on professional help.",matchConversation:"How open are we to therapy or counseling if needed?",mismatchConversation:"I'm open to therapy if needed, but you haven't considered itwhat are your thoughts on it?",nextStep:"Discuss: what would make therapy feel like a helpful option?"},"r2-growth-24":{whyItMatters:"Partner acceptance affects relationship security. All of who you are vs most of who you are reveal different acceptance levels.",matchConversation:"How accepted do you feel by your partner?",mismatchConversation:"I feel you accept all of who I am, but you think it's most of who you arewhat parts don't feel accepted?",nextStep:"Share: one part of yourself you want to feel more accepted."},"r2-growth-25":{whyItMatters:"Goal setting together affects relationship growth. Exciting vs could happen more reveal different values on shared planning.",matchConversation:"How often do we set goals together?",mismatchConversation:"Setting goals with you is exciting for me, but you think it could happen morewhat goals would you like to set?",nextStep:"Set: one shared goal together for the next 3 months."},"r2-growth-26":{whyItMatters:"Relationship resources exploration affects relationship growth. Exploring together vs not really my thing reveal different values on learning.",matchConversation:"How do we explore books, podcasts, or resources about relationships?",mismatchConversation:"I explore relationship resources with you, but they're not really your thingwould you be open to trying one together?",nextStep:"Try: one relationship book, podcast, or resource together this month."},"r2-growth-27":{whyItMatters:"Vulnerability without feeling weak affects relationship depth. Definitely vs sometimes reveal different comfort levels with vulnerability.",matchConversation:"How comfortable are you being vulnerable without feeling weak?",mismatchConversation:"I can be vulnerable without feeling weak definitely, but you think it's sometimeswhat would make it always?",nextStep:"Practice: one vulnerable share and notice how it feels."},"r2-growth-28":{whyItMatters:"Partner inspiration affects relationship growth. Try new things vs appreciate what we have reveal different growth approaches.",matchConversation:"How do we inspire each other?",mismatchConversation:"We inspire each other to try new things, but you prefer appreciating what we havehow can we do both?",nextStep:"Try: one new thing together and appreciate one thing you already have."},"r2-growth-29":{whyItMatters:"Self-reflection honesty affects relationship growth. Regularly vs could be deeper reveal different reflection levels.",matchConversation:"How often do you do honest self-reflection in this relationship?",mismatchConversation:"Honest self-reflection happens regularly for me, but you think it could be deeperwhat would make it deeper?",nextStep:"Practice: one honest self-reflection and share it with your partner."},"r2-growth-30":{whyItMatters:"Relationship helping you become who you want affects personal fulfillment. Become who you want vs figure out what you want reveal different growth stages.",matchConversation:"How is this relationship helping you grow?",mismatchConversation:"This relationship is helping me become who I want to be, but you're figuring out what you wanthow can I support that?",nextStep:"Share: who do you want to become, and how can your partner support that?"}};function wr(r,a){if(Xm[r]){const o=Xm[r];return{...o,nextSteps:o.nextSteps??[o.nextStep]}}if(Zm[r]){const o=Zm[r];return{...o,nextSteps:o.nextSteps??[o.nextStep]}}const s=h0[a];return{whyItMatters:s.whyItMatters,matchConversation:s.matchConversation,mismatchConversation:s.mismatchConversation,nextSteps:s.nextSteps,nextStep:s.nextSteps[0]??""}}function d0({card:r,partner1Name:a,partner2Name:s,onContinue:o,isRemote:c=!1,isMyTurn:h=!0,nextPlayerName:d=""}){const[p,y]=re.useState(!1),g=tc(r.questionId);if(!g)return null;const S=r.answer.matched,b=wr(r.questionId,r.answer.theme),E=r.answer.partner1Answer==="A"?g.optionA:g.optionB,T=r.answer.partner2Answer==="A"?g.optionA:g.optionB;return m.jsxs("div",{className:`reveal-screen ${S?"reveal-screen--sync":"reveal-screen--different"}`,children:[S&&m.jsxs("div",{className:"reveal-particles",children:[m.jsx("span",{className:"reveal-particle",children:""}),m.jsx("span",{className:"reveal-particle",children:""}),m.jsx("span",{className:"reveal-particle",children:""}),m.jsx("span",{className:"reveal-particle",children:""}),m.jsx("span",{className:"reveal-particle",children:""}),m.jsx("span",{className:"reveal-particle",children:""})]}),m.jsxs("div",{className:"reveal-screen__content",children:[m.jsx("div",{className:`reveal-screen__icon ${S?"reveal-screen__icon--sync":"reveal-screen__icon--different"}`,children:S?"":""}),m.jsx("div",{className:`reveal-screen__label ${S?"reveal-screen__label--sync":"reveal-screen__label--different"}`,children:S?"IN SYNC!":"DIFFERENT VIEWS"}),m.jsx("h2",{className:"reveal-screen__question",children:g.text}),S?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"reveal-screen__combined-answer",children:[m.jsx("div",{className:"reveal-screen__combined-label",children:"You both said:"}),m.jsx("div",{className:"reveal-screen__combined-text",children:E})]}),m.jsxs("div",{className:"reveal-screen__insight-box",children:[m.jsxs("div",{className:"reveal-screen__insight-header",children:[m.jsx("span",{children:""})," Why This Matters"]}),m.jsx("p",{className:"reveal-screen__insight-text",children:b.whyItMatters})]}),m.jsxs("div",{className:"reveal-screen__celebration-box",children:[m.jsx("span",{className:"reveal-screen__celebration-icon",children:""}),m.jsx("span",{children:"You're on the same page!"})]}),m.jsxs("div",{className:`reveal-screen__deepdive ${p?"reveal-screen__deepdive--open":""}`,children:[m.jsxs("button",{className:"reveal-screen__deepdive-toggle",onClick:()=>y(!p),children:[m.jsx("span",{children:" Go Deeper"}),m.jsx("span",{className:`reveal-screen__deepdive-arrow ${p?"open":""}`,children:""})]}),p&&m.jsx("div",{className:"reveal-screen__deepdive-content",children:m.jsxs("p",{className:"reveal-screen__deepdive-question",children:['"',b.matchConversation,'"']})})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"reveal-screen__answers",children:[m.jsxs("div",{className:"reveal-screen__answer reveal-screen__answer--partner1",children:[m.jsx("div",{className:"reveal-screen__answer-name",children:a}),m.jsx("div",{className:"reveal-screen__answer-text",children:E})]}),m.jsxs("div",{className:"reveal-screen__answer reveal-screen__answer--partner2",children:[m.jsx("div",{className:"reveal-screen__answer-name",children:s}),m.jsx("div",{className:"reveal-screen__answer-text",children:T})]})]}),m.jsxs("div",{className:"reveal-screen__insight-box",children:[m.jsxs("div",{className:"reveal-screen__insight-header",children:[m.jsx("span",{children:""})," Why This Matters"]}),m.jsx("p",{className:"reveal-screen__insight-text",children:b.whyItMatters})]}),m.jsxs("div",{className:"reveal-screen__talk-box",children:[m.jsxs("div",{className:"reveal-screen__talk-header",children:[m.jsx("span",{children:""})," Talk About It"]}),m.jsxs("p",{className:"reveal-screen__talk-text",children:['"',b.mismatchConversation,'"']})]})]}),c&&!h?m.jsx("div",{className:"reveal-screen__waiting reveal-screen--waiting",children:m.jsxs("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem",margin:0},children:["Waiting for ",d," to continue..."]})}):m.jsx("button",{className:"btn btn--primary btn--full reveal-screen__btn",onClick:o,children:"Continue"})]})]})}function f0(r=6){const a="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",s=new Uint8Array(r);return crypto.getRandomValues(s),Array.from(s,o=>a[o%a.length]).join("")}function Fm({round:r}){const{state:a,dispatch:s}=kt(),[o,c]=re.useState(!0),[h,d]=re.useState(!1),[p,y]=re.useState(!1),[g,S]=re.useState(!1),[b,E]=re.useState(!1),[T,C]=re.useState(null),[O,U]=re.useState(null),G=re.useRef([]),$=r===1?a.round1Cards:a.round2Cards,q=a.currentPlayer===1?a.partner1Name:a.partner2Name,X=a.gameMode==="remote"&&!!a.remoteSessionId,ye=mi($),Z=$.filter(M=>M.state==="revealed").length;re.useEffect(()=>{if(a.selectedCardIndex!==null&&T){E(!0);const M=setTimeout(()=>{S(!0),E(!1)},400);return()=>clearTimeout(M)}},[a.selectedCardIndex,T]);const P=M=>{S(!1),C(null);const H=a.selectedCardIndex!==null?$[a.selectedCardIndex]:null,V=H&&(a.currentPlayer===1&&H.state==="partner2Only"||a.currentPlayer===2&&H.state==="partner1Only");setTimeout(()=>{if(V&&H){const te={...H,state:"revealed",answer:{...H.answer,...a.currentPlayer===1?{partner1Answer:M,matched:H.answer.partner2Answer===M}:{partner2Answer:M,matched:H.answer.partner1Answer===M}}};U(te)}s({type:"ANSWER_QUESTION",answer:M}),V||d(!0)},300)},Te=()=>{U(null),$.every(H=>H.state==="revealed")?s({type:"COMPLETE_ROUND",round:r}):d(!0)},Me=M=>{if(X&&!a.isRemoteConnected)return;const H=$[M],V=G.current[M];if(a.currentPlayer===1&&(H.state==="faceDown"||H.state==="partner2Only")||a.currentPlayer===2&&(H.state==="faceDown"||H.state==="partner1Only")){if(V){const ie=V.getBoundingClientRect();C({x:ie.left+ie.width/2,y:ie.top+ie.height/2,width:ie.width,height:ie.height})}s({type:"SELECT_CARD",index:M})}},vn=(M,H)=>{let V="game-card";return M.state==="faceDown"?V+=" game-card--facedown":M.state==="partner1Only"?(V+=" game-card--partner1-answered",a.currentPlayer===1&&(V+=" game-card--disabled")):M.state==="partner2Only"?(V+=" game-card--partner2-answered",a.currentPlayer===2&&(V+=" game-card--disabled")):M.state==="revealed"&&(V+=M.answer.matched?" game-card--matched":" game-card--different",V+=" game-card--disabled"),b&&a.selectedCardIndex===H&&(V+=" game-card--animating-out"),V},Ot=M=>({label:ov[M.answer.theme]||"",color:ga[M.answer.theme]||"#666"}),Ie=a.selectedCardIndex!==null?$[a.selectedCardIndex]:null,it=Ie?pv(Ie.questionId):null,Ht=$.filter(M=>a.currentPlayer===1?M.state==="faceDown"||M.state==="partner2Only":M.state==="faceDown"||M.state==="partner1Only").length,ot=Z-ye,D=re.useMemo(()=>r!==2||a.round1Cards.length===0?[]:Fs(a.round1Cards),[r,a.round1Cards]),W=h&&a.currentPlayer===2&&!p,ee=async()=>{const M=a.partner1Name,H=a.partner2Name,V=a.hasPaid;if(s({type:"RESET_GAME"}),s({type:"SET_PARTNER_NAMES",partner1Name:M,partner2Name:H}),V)try{await eo({checkoutId:localStorage.getItem("reveal-checkout-id")})}catch{}if(!(V?!0:await _p())){s({type:"NAVIGATE_TO",screen:"remotePayment"});return}const ie=f0(6);s({type:"SELECT_MODE",mode:"remote"}),s({type:"SET_REMOTE_SESSION",sessionId:ie,playerId:1}),s({type:"SET_REMOTE_SESSION_PAID",paid:!0}),s({type:"NAVIGATE_TO",screen:"remoteSetup"})},we=M=>ec.filter(H=>H.theme===M).length,ge=M=>r!==2||a.round1Cards.length===0?0:a.round1Cards.filter(ie=>ie.answer.theme===M).filter(ie=>ie.answer.matched!==null).filter(ie=>ie.answer.matched===!1).length,x=M=>{if(r!==2)return 0;const H=we(M),V=ge(M);return V>0&&V===H?3:V},L=M=>D.find(H=>H.theme===M);return m.jsxs("div",{className:"game-container",children:[o&&m.jsx("div",{className:`intro-screen intro-screen--partner${a.currentPlayer}`,children:m.jsxs("div",{className:"intro-screen__content",children:[m.jsxs("div",{className:"intro-screen__round",children:["Round ",r]}),m.jsx("div",{className:"intro-screen__icon",children:a.currentPlayer===1?"":""}),m.jsx("h2",{className:"intro-screen__title",children:q}),m.jsx("p",{className:"intro-screen__subtitle",children:"You're up first!"}),m.jsxs("p",{className:"intro-screen__hint",children:["Pick any card to reveal a question.",m.jsx("br",{}),"Answer honestlyyour partner will answer the same questions separately."]}),m.jsx("button",{className:"btn btn--primary btn--full",onClick:()=>c(!1),children:"Let's Play!"})]})}),m.jsxs("div",{className:"game-header",children:[m.jsx(Yn,{buttonPosition:"inline"}),m.jsx("div",{className:"turn-indicator-wrapper",children:m.jsxs("div",{className:`turn-indicator turn-indicator--partner${a.currentPlayer}`,children:[m.jsx("span",{className:"turn-indicator__dot"}),q.toUpperCase(),"'S TURN"]})}),X&&m.jsx("span",{style:{background:"rgba(0,0,0,0.06)",color:"var(--text-secondary)",padding:"4px 10px",borderRadius:"100px",fontSize:"0.625rem",fontWeight:"700",letterSpacing:"1px"},children:" REMOTE"}),m.jsxs("div",{className:"progress-counter-header",children:[Z,"/15"]}),r===2&&m.jsx("span",{style:{background:"linear-gradient(135deg, var(--partner2) 0%, #FF7A8F 100%)",color:"white",padding:"4px 10px",borderRadius:"100px",fontSize:"0.625rem",fontWeight:"700",letterSpacing:"1px"},children:" ROUND 2"})]}),m.jsxs("div",{className:"progress-lever",children:[m.jsxs("div",{className:"progress-lever__bar",children:[m.jsx("div",{className:"progress-lever__diff",style:{width:Z>0?`${ot/Z*100}%`:"50%"}}),m.jsx("div",{className:"progress-lever__sync",style:{width:Z>0?`${ye/Z*100}%`:"50%"}})]}),m.jsxs("div",{className:"progress-lever__labels",children:[m.jsxs("span",{className:"progress-lever__label progress-lever__label--diff",children:[ot," Different"]}),m.jsxs("span",{className:"progress-lever__label progress-lever__label--sync",children:[ye," In Sync"]})]})]}),m.jsxs("div",{className:"text-center",style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"2px"},children:[" Pick any card (",Ht," available)"]}),m.jsx("div",{className:"card-grid",children:$.map((M,H)=>{const V=Ot(M),te=r===2?x(M.answer.theme):0,ie=r===2?ge(M.answer.theme):0;return m.jsx("div",{ref:Pe=>{G.current[H]=Pe},className:`${vn(M,H)} game-card--player${a.currentPlayer}`,onClick:()=>Me(H),style:{"--theme-color":V.color},children:(M.state==="faceDown"||M.state==="partner1Only"||M.state==="partner2Only")&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"game-card__theme",style:{color:V.color},children:V.label}),r===2&&te>0&&m.jsx("div",{className:"game-card__mismatch-indicator",title:`This topic had ${ie} difference${ie>1?"s":""} in Round 1`,style:{display:"flex",position:"relative",width:te===1?"20px":te===2?"26px":"38px",height:"20px",overflow:"visible"},children:Array.from({length:te}).map((Pe,ke)=>m.jsx("span",{style:{position:"absolute",left:`${ke*6}px`,fontSize:"0.75rem",zIndex:te-ke},children:""},ke))})]})},M.id)})}),X&&!a.isRemoteConnected&&m.jsx("div",{className:"question-overlay",children:m.jsxs("div",{className:"question-modal animate-modal-in",style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),m.jsx("h3",{style:{margin:0,marginBottom:"6px"},children:"Connecting"}),m.jsx("p",{style:{margin:0,color:"var(--text-secondary)"},children:"Please wait a moment."})]})}),b&&T&&Ie&&m.jsx("div",{className:"card-animation",style:{"--start-x":`${T.x}px`,"--start-y":`${T.y}px`,"--start-width":`${T.width}px`,"--start-height":`${T.height}px`},children:m.jsxs("div",{className:"card-animation__card",children:[m.jsx("div",{className:"card-animation__front",children:""}),m.jsx("div",{className:"card-animation__back"})]})}),g&&it&&Ie&&m.jsx("div",{className:"question-overlay",children:m.jsxs("div",{className:`question-modal question-modal--player${a.currentPlayer} animate-modal-in`,children:[r===2&&m.jsx("div",{className:"question-modal__intro",style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"},children:Ie&&(()=>{const M=L(Ie.answer.theme),H=ge(Ie.answer.theme);if(M&&H>0){const V=M.matchPercentage,te=Fu[Ie.answer.theme];return m.jsxs(m.Fragment,{children:[m.jsx("span",{style:{fontSize:"1rem",flexShrink:0},children:""}),m.jsxs("span",{children:["In ",m.jsx("strong",{children:te}),", you had ",m.jsxs("strong",{style:{color:"var(--mismatch-amber)"},children:[V,"% alignment"]})," in Round 1. Let's explore this deeper..."]})]})}return mv(it.id,it.theme,a.round1Cards)})()}),m.jsx("p",{className:"question-modal__text",children:it.text}),it.example&&m.jsx("p",{className:"question-modal__example",children:it.example}),m.jsxs("div",{className:"question-modal__options",children:[m.jsxs("button",{className:`question-modal__option question-modal__option--player${a.currentPlayer}`,onClick:()=>P("A"),children:[m.jsx("span",{className:"question-modal__option-letter",children:"A"}),m.jsx("span",{className:"question-modal__option-text",children:it.optionA})]}),m.jsxs("button",{className:`question-modal__option question-modal__option--player${a.currentPlayer}`,onClick:()=>P("B"),children:[m.jsx("span",{className:"question-modal__option-letter",children:"B"}),m.jsx("span",{className:"question-modal__option-text",children:it.optionB})]})]}),m.jsxs("p",{className:"question-modal__hint",children:[q,", tap your answer"]})]})}),O&&m.jsx(d0,{card:O,partner1Name:a.partner1Name,partner2Name:a.partner2Name,onContinue:Te}),h&&m.jsxs("div",{className:`pass-device pass-device--partner${a.currentPlayer}`,children:[m.jsx("div",{className:"pass-device__icon",children:""}),m.jsx("h2",{className:"pass-device__text",children:"Pass to"}),m.jsx("p",{className:"pass-device__name",children:a.currentPlayer===1?a.partner1Name:a.partner2Name}),m.jsxs("button",{className:"btn btn--primary btn--full",onClick:()=>{W&&y(!0),d(!1)},children:["I'm ",a.currentPlayer===1?a.partner1Name:a.partner2Name]}),W&&m.jsxs("div",{style:{marginTop:"32px",width:"100%",maxWidth:"420px"},children:[m.jsxs("p",{style:{margin:"0 0 10px",fontSize:"0.85rem",color:"white",textAlign:"center"},children:["Not together right now?",m.jsx("br",{}),"Create a remote session to play together."]}),m.jsx("button",{className:"btn btn--accent btn--full",onClick:ee,style:{marginTop:"12px"},children:"Create Remote Session"})]})]})]})}function ep(){const{state:r,dispatch:a}=kt(),s=r.round1Cards.length>0,o=s?t0(r.round1Cards):[],c=s?Fs(r.round1Cards):[],h=s?mi(r.round1Cards):0,d=s?e0(h):null,p=c.filter(C=>C.matchPercentage>=50).sort((C,O)=>O.matchPercentage-C.matchPercentage),y=c.filter(C=>C.matchPercentage<50).sort((C,O)=>C.matchPercentage-O.matchPercentage),g=()=>{try{localStorage.setItem("reveal-payment-initiated","true"),localStorage.setItem("reveal-payment-initiated-time",Date.now().toString())}catch{}const C="https://buy.polar.sh/polar_cl_nJ2vx1fXaiRId4N9pKEu6Gg92x9SCbZhcJy6n0hhaJu";window.location.href=C},S=()=>{a({type:"COMPLETE_PAYMENT"}),eo({checkoutId:localStorage.getItem("reveal-checkout-id")});try{localStorage.removeItem("reveal-payment-initiated"),localStorage.removeItem("reveal-payment-initiated-time")}catch{}a({type:"NAVIGATE_TO",screen:"paymentSuccess"})},b=(()=>{try{const C=localStorage.getItem("reveal-payment-initiated"),O=localStorage.getItem("reveal-payment-initiated-time");if(C==="true"&&O)return Date.now()-parseInt(O,10)<1800*1e3}catch{}return!1})(),E=()=>{a({type:"NAVIGATE_TO",screen:"landing"})},T=()=>{if(r.gameMode==="remote"&&r.remotePlayerId!==1){alert("Waiting for your partner to start Round 2.");return}a({type:"START_ROUND_2"})};return m.jsxs("div",{className:"container paywall animate-slide-up",style:{paddingBottom:"10px"},children:[m.jsxs("div",{className:"game-header",style:{marginBottom:"0px"},children:[m.jsx(Yn,{buttonPosition:"inline"}),m.jsx("div",{style:{flex:1}})]}),m.jsxs("div",{className:"results-header",style:{marginBottom:"12px"},children:[m.jsx("div",{style:{background:"linear-gradient(135deg, var(--partner1) 0%, var(--partner2) 100%)",color:"white",padding:"4px 16px",borderRadius:"100px",fontSize:"0.75rem",fontWeight:"700",letterSpacing:"1px",display:"inline-block",marginBottom:"16px"},children:"ROUND 1 ANALYSIS"}),s&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"results-score",style:{marginBottom:"16px"},children:[m.jsxs("div",{className:"results-score__number",children:[h,"/15"]}),m.jsx("div",{className:"results-score__label",children:"in sync"})]}),d&&m.jsxs("div",{className:"results-tier",style:{marginBottom:"0px"},children:[m.jsx("div",{className:"results-tier__name",children:d.tier}),m.jsx("p",{className:"results-tier__desc",children:d.description})]})]})]}),p.length>0&&m.jsxs("div",{style:{marginBottom:"20px",marginTop:"8px"},children:[m.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"700",color:"var(--match-green)",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:" Where You Sync"}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:p.map(C=>m.jsx("div",{style:{background:"white",borderRadius:"16px",padding:"16px",boxShadow:"var(--card-shadow)",borderLeft:`4px solid ${ga[C.theme]}`},children:m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{fontWeight:"600",color:ga[C.theme],fontSize:"0.9rem"},children:C.displayName}),m.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"var(--match-green)"},children:[C.matchPercentage,"% aligned"]})]})},C.theme))})]}),s&&y.length>0&&m.jsxs("div",{style:{marginBottom:"32px"},children:[m.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"700",color:"var(--mismatch-amber)",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:" Growth Opportunities"}),y.slice(0,2).map(C=>{const U=o.filter(X=>X.answer.theme===C.theme)[0],G=U?Xu(U):null,$=wr(G?G.id:"",C.theme),q=$.mismatchConversation||$.matchConversation;return m.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"16px",marginBottom:"12px",boxShadow:"var(--card-shadow)",borderLeft:`4px solid ${ga[C.theme]}`},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[m.jsx("span",{style:{fontWeight:"600",color:ga[C.theme]},children:C.displayName}),m.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--mismatch-amber)",fontWeight:"600"},children:[C.matchPercentage,"% aligned"]})]}),G&&m.jsxs("div",{style:{fontSize:"0.85rem",fontStyle:"italic",color:"var(--text-secondary)",marginBottom:"12px",padding:"8px 12px",background:"var(--bg-secondary)",borderRadius:"8px"},children:['"',G.text,'"']}),m.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:"1.4",margin:0},children:$.whyItMatters}),m.jsxs("div",{style:{marginTop:"12px",padding:"10px 12px",background:"linear-gradient(135deg, var(--partner1-light) 0%, var(--partner2-light) 100%)",borderRadius:"8px",position:"relative",overflow:"hidden"},children:[m.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-primary)",filter:"blur(4px)",userSelect:"none"},children:[' "',q,'"']}),m.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.6)"},children:m.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"600",color:"var(--partner1)"},children:r.hasPaid||r.remoteSessionPaid?" Unlock after Round 2":" Unlock below"})})]})]},C.theme)})]}),!(r.hasPaid||r.remoteSessionPaid)&&m.jsxs("div",{style:{background:"linear-gradient(135deg, var(--partner1-light) 0%, var(--partner2-light) 100%)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"2px solid var(--partner1)",boxShadow:"var(--card-shadow)"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[m.jsx("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:""}),m.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"8px",background:"linear-gradient(135deg, var(--partner1) 0%, var(--partner2) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Ready for Round 2?"})]}),m.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"16px",marginBottom:"16px"},children:m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",fontSize:"0.85rem"},children:[{icon:"",text:"Remote play mode  connect live on separate devices"},{icon:"",text:"+ 15 questions based on your round 1"},{icon:"",text:"Complete relationship insights"},{icon:"",text:"Full conversation starters with deep dives"}].map((C,O)=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[m.jsx("span",{style:{fontSize:"1.2rem"},children:C.icon}),m.jsx("span",{children:C.text})]},O))})}),m.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"16px"},children:[m.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"700",letterSpacing:"1px",color:"var(--text-secondary)",marginBottom:"8px",textAlign:"center"},children:"ROUND 2: DEEP DIVE & ANALYSIS"}),m.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",textAlign:"center",background:"linear-gradient(135deg, var(--partner1) 0%, var(--partner2) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"4px"},children:"$4.99"}),m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",textAlign:"center"},children:"One-time payment  No subscription"})]})]}),r.hasPaid||r.remoteSessionPaid?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn btn--accent btn--full",onClick:T,style:{marginBottom:"12px"},children:" Start Round 2"}),m.jsx("button",{className:"btn btn--ghost",onClick:E,children:"Maybe Later"})]}):m.jsxs(m.Fragment,{children:[b?m.jsx("button",{className:"btn btn--accent btn--full",onClick:S,style:{marginBottom:"12px"},children:" Unlock Round 2"}):m.jsx(m.Fragment,{children:m.jsx("button",{className:"btn btn--accent btn--full",onClick:g,style:{marginBottom:"12px"},children:" Unlock Round 2  $4.99"})}),m.jsx("button",{className:"btn btn--ghost",onClick:E,children:"Maybe Later"}),m.jsxs("div",{className:"text-center mt-6",style:{fontSize:"0.75rem",color:"var(--text-muted)",display:"flex",justifyContent:"center",gap:"16px",flexWrap:"wrap",marginTop:"16px"},children:[m.jsx("span",{children:" Secure payment"}),m.jsx("span",{children:" Powered by Polar"})]})]})]})}function m0(){const{state:r,dispatch:a}=kt(),[s,o]=re.useState(null),[c,h]=re.useState(!0);re.useEffect(()=>{let p=null;try{p=localStorage.getItem("reveal-checkout-id")}catch{}if(p&&o(p),r.hasPaid)h(!1);else{const y=setTimeout(()=>{a({type:"COMPLETE_PAYMENT"}),h(!1)},1500);return()=>{y&&clearTimeout(y)}}},[a,r.hasPaid]);const d=()=>{a({type:"START_ROUND_2"})};return m.jsxs("div",{className:"container animate-slide-up",style:{paddingBottom:"10px"},children:[m.jsxs("div",{className:"game-header",style:{marginBottom:"0px"},children:[m.jsx(Yn,{buttonPosition:"inline"}),m.jsx("div",{style:{flex:1}})]}),m.jsx("div",{style:{textAlign:"center"},children:c?m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{fontSize:"4rem",marginBottom:"24px",marginTop:"24px"},children:""}),m.jsx("h2",{style:{marginBottom:"16px"},children:"Processing your payment..."}),m.jsx("p",{style:{color:"var(--text-secondary)"},children:"Just a moment while we unlock Round 2 for you."}),m.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid var(--bg-secondary)",borderTopColor:"var(--partner1)",borderRadius:"50%",margin:"24px auto",animation:"spin 1s linear infinite"}})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{fontSize:"5rem",marginBottom:"24px",marginTop:"24px",animation:"bounce 0.6s ease"},children:""}),m.jsx("h2",{style:{marginBottom:"8px",color:"var(--match-green)"},children:"Payment Successful!"}),m.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"32px",maxWidth:"300px",margin:"0 auto 32px"},children:["Thank you, ",r.partner1Name," & ",r.partner2Name,"!",m.jsx("br",{}),"Round 2 is now unlocked."]}),m.jsxs("div",{style:{background:"linear-gradient(135deg, var(--partner1-light) 0%, var(--partner2-light) 100%)",borderRadius:"16px",padding:"24px",marginBottom:"32px",maxWidth:"400px",margin:"0 auto 32px"},children:[m.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"8px",background:"linear-gradient(135deg, var(--partner1) 0%, var(--partner2) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Round 2: Deep Dive"}),m.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0},children:"15 personalized questions based on your Round 1 answers"})]}),m.jsx("button",{className:"btn btn--accent btn--full",onClick:d,style:{maxWidth:"400px",margin:"0 auto"},children:" Start Round 2"}),s&&m.jsxs("p",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"24px"},children:["Order ID: ",s.slice(0,20),"..."]})]})}),m.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        @keyframes bounce {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
        }
      `})]})}function p0({onClose:r}){const{state:a,dispatch:s}=kt(),o=mi(a.round1Cards),c=mi(a.round2Cards),h=o+c,d=a.round2Cards.length>0,p=d?h:o,y=d?30:15,g=Math.round(p/y*100),S=d?[...a.round1Cards,...a.round2Cards]:a.round1Cards,E=[...Fs(S)].sort((C,O)=>O.matchPercentage-C.matchPercentage).slice(0,3),T=()=>{if(r){r();return}s({type:"NAVIGATE_TO",screen:d?"finalResults":"round1Results"})};return m.jsx("div",{className:"question-overlay",onClick:T,children:m.jsxs("div",{className:"question-modal animate-modal-in",onClick:C=>C.stopPropagation(),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[m.jsxs("div",{style:{flex:1},children:[m.jsx("h2",{style:{marginBottom:"6px"},children:"Share your score"}),m.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Take a screenshot of the tile below and share it in your favorite apps."})]}),m.jsx("button",{className:"btn btn--ghost",onClick:T,style:{padding:"6px 10px",minHeight:"auto",lineHeight:1},"aria-label":"Close",children:""})]}),m.jsxs("div",{className:"share-preview",style:{marginTop:"16px",position:"relative"},children:[m.jsx("img",{src:"/reveal_icon.png",alt:"Reveal",style:{position:"absolute",top:"16px",right:"16px",width:"48px",height:"48px",objectFit:"contain"}}),m.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"6px",textAlign:"center"},children:"Total match"}),m.jsxs("div",{className:"share-preview__score",style:{fontSize:"3.5rem",lineHeight:1,textAlign:"center"},children:[g,"%"]}),m.jsxs("div",{className:"share-preview__text",style:{marginTop:"8px",textAlign:"center"},children:[p,"/",y," in sync on Reveal"]}),m.jsxs("div",{style:{marginTop:"16px",width:"100%",textAlign:"left"},children:[m.jsx("div",{style:{fontSize:"0.85rem",fontWeight:700,opacity:.95,marginBottom:"8px"},children:"Top 3 themes"}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:E.map(C=>m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.9rem"},children:[m.jsx("span",{style:{opacity:.95},children:C.displayName}),m.jsxs("span",{style:{fontWeight:800},children:[C.matchPercentage,"%"]})]},C.theme))})]}),m.jsx("div",{className:"share-preview__logo",style:{marginTop:"18px"},children:"play-reveal.com"})]})]})})}function y0(r,a){const s=r/a*100;return s>=90?{tier:"Exceptional Alignment",description:"You two are remarkably in tune!",emoji:"",color:"#34C759",subMessage:"Your connection is rarecelebrate it and keep nurturing it."}:s>=80?{tier:"Strong Connection",description:"A deeply aligned partnership.",emoji:"",color:"#34C759",subMessage:"You understand each other well. Focus on your few growth areas."}:s>=70?{tier:"Solid Foundation",description:"Great alignment with room to grow.",emoji:"",color:"#4A7CF8",subMessage:"You have a strong base. The differences you have are opportunities."}:s>=60?{tier:"Growing Together",description:"Good sync with meaningful differences.",emoji:"",color:"#FFB800",subMessage:"Your differences aren't problemsthey're invitations to understand each other better."}:s>=50?{tier:"Work in Progress",description:"Half in sync, half exploring.",emoji:"",color:"#FFB800",subMessage:"You have real differences to navigate. Use them as conversation starters."}:s>=40?{tier:"Different Wavelengths",description:"Many perspectives to bridge.",emoji:"",color:"#FF9500",subMessage:"Your differences are significant. Prioritize the conversations that matter most."}:{tier:"Time to Talk",description:"Lots of ground to cover together.",emoji:"",color:"#E85D75",subMessage:"Don't be discouragedsome of the best couples started here. Communication is key."}}function g0({summary:r,cards:a,partner1Name:s,partner2Name:o,isExpanded:c,onToggle:h}){const d=a.filter(C=>C.answer.theme===r.theme),p=d.filter(C=>C.answer.matched===!1),y=ga[r.theme],g=p[0]||d[0],S=g?Xu(g):null,b=S?wr(S.id,r.theme):{whyItMatters:"",matchConversation:"",mismatchConversation:""},E=p.length>0?b.mismatchConversation:b.matchConversation,T=r.matchPercentage>=70?"var(--match-green)":r.matchPercentage>=50?"var(--partner1)":"var(--mismatch-amber)";return m.jsxs("div",{className:"expandable-theme",children:[m.jsxs("button",{className:"expandable-theme__header",onClick:h,children:[m.jsxs("div",{className:"expandable-theme__info",children:[m.jsx("span",{className:"expandable-theme__dot",style:{background:y}}),m.jsx("span",{className:"expandable-theme__name",children:r.displayName})]}),m.jsxs("div",{className:"expandable-theme__meta",children:[m.jsxs("span",{className:"expandable-theme__score",style:{color:T},children:[r.matchPercentage,"%"]}),m.jsx("span",{className:`expandable-theme__arrow ${c?"open":""}`,children:""})]})]}),m.jsx("div",{className:"expandable-theme__content",style:{maxHeight:c?"1000px":"0px",opacity:c?1:0,overflow:"hidden",transition:"max-height 240ms ease, opacity 180ms ease",pointerEvents:c?"auto":"none"},children:m.jsxs("div",{style:{paddingTop:c?"12px":"0px",transition:"padding-top 240ms ease"},children:[m.jsxs("div",{className:"expandable-theme__section",children:[m.jsx("div",{className:"expandable-theme__section-title",children:" Why This Matters"}),m.jsx("p",{className:"expandable-theme__section-text",children:b.whyItMatters})]}),p.length>0&&m.jsxs("div",{className:"expandable-theme__mismatches",children:[m.jsx("div",{className:"expandable-theme__section-title",children:" Your Differences"}),p.slice(0,2).map(C=>{const O=Xu(C);return O?m.jsxs("div",{className:"expandable-theme__mismatch",children:[m.jsx("p",{className:"expandable-theme__question",children:O.text}),m.jsxs("div",{className:"expandable-theme__answers",children:[m.jsxs("span",{style:{color:"var(--partner1)"},children:[s,": ",C.answer.partner1Answer==="A"?O.optionA:O.optionB]}),m.jsxs("span",{style:{color:"var(--partner2)"},children:[o,": ",C.answer.partner2Answer==="A"?O.optionA:O.optionB]})]})]},C.id):null})]}),m.jsxs("div",{className:"expandable-theme__section",children:[m.jsx("div",{className:"expandable-theme__section-title",children:" Try Asking"}),m.jsxs("p",{className:"expandable-theme__conversation",children:['"',E,'"']})]})]})})]})}function v0({theme:r,isExpanded:a,onToggle:s}){const o=wr("",r.theme),c=ga[r.theme],h=o.nextSteps&&o.nextSteps.length>0?o.nextSteps:[o.nextStep],d=r.matchPercentage<40?3:r.matchPercentage<55?2:1,p=h.slice(0,d);return m.jsxs("div",{className:"growth-step",children:[m.jsxs("button",{className:"growth-step__header",onClick:s,children:[m.jsx("span",{className:"growth-step__name",style:{color:c},children:r.displayName}),m.jsx("span",{className:`growth-step__arrow ${a?"open":""}`,children:""})]}),m.jsx("div",{className:"growth-step__content",style:{maxHeight:a?"600px":"0px",opacity:a?1:0,overflow:"hidden",transition:"max-height 240ms ease, opacity 180ms ease",pointerEvents:a?"auto":"none"},children:m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:a?"10px":"0px",transition:"margin-top 240ms ease"},children:p.map((y,g)=>m.jsxs("div",{className:"growth-step__action",children:[m.jsx("span",{className:"growth-step__emoji",children:""}),m.jsx("p",{children:y})]},g))})})]})}function w0(){const{state:r,dispatch:a}=kt(),[s,o]=re.useState(!1),[c,h]=re.useState(null),d=async()=>{const O=window.location.origin,U=`Lets play this together: Reveal  the game for couples.

Open this on one phone when youre together.`;try{if(navigator.share){await navigator.share({title:"Reveal  Game for Couples",text:U,url:O});return}}catch(G){if(G&&typeof G=="object"&&"name"in G&&G.name==="AbortError")return}try{await navigator.clipboard.writeText(U),alert("Copied. Paste it into your favorite chat.")}catch{alert("Could not copy. Please copy this link manually: "+O)}},p=mi(r.round1Cards),y=mi(r.round2Cards),g=p+y,S=Math.round(g/30*100),b=[...r.round1Cards,...r.round2Cards],E=Fs(b),T=y0(g,30),C=E.filter(O=>O.matchPercentage<70).sort((O,U)=>O.matchPercentage-U.matchPercentage).slice(0,5);return m.jsxs("div",{className:"container animate-slide-up",style:{paddingTop:"12px",paddingBottom:"40px"},children:[m.jsxs("div",{className:"game-header",style:{marginBottom:"24px"},children:[m.jsx(Yn,{buttonPosition:"inline"}),m.jsx("div",{style:{flex:1}})]}),m.jsxs("div",{className:"results-header",children:[m.jsx("div",{style:{background:"linear-gradient(135deg, var(--partner1) 0%, var(--partner2) 100%)",color:"white",padding:"4px 16px",borderRadius:"100px",fontSize:"0.75rem",fontWeight:"700",letterSpacing:"1px",display:"inline-block",marginBottom:"16px"},children:"COMPLETE RESULTS"}),m.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"16px",marginBottom:"20px",fontSize:"0.9rem"},children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"0.75rem"},children:"R1"}),m.jsxs("div",{style:{fontWeight:"600"},children:[p,"/15"]})]}),m.jsx("div",{style:{color:"var(--text-muted)"},children:"+"}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"0.75rem"},children:"R2"}),m.jsxs("div",{style:{fontWeight:"600"},children:[y,"/15"]})]}),m.jsx("div",{style:{color:"var(--text-muted)"},children:"="}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"0.75rem"},children:"Total"}),m.jsxs("div",{style:{fontWeight:"700",fontSize:"1.1rem",color:T.color},children:[g,"/30"]})]})]}),m.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[m.jsxs("div",{style:{fontSize:"3rem",fontWeight:"800",letterSpacing:"-1px",color:T.color,marginBottom:"8px"},children:[S,"%"]}),m.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",fontFamily:"'Playfair Display', serif",color:T.color,marginBottom:"4px"},children:T.tier}),m.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"8px"},children:T.description}),m.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",maxWidth:"300px",margin:"0 auto"},children:T.subMessage})]})]}),m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("h3",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:" Your Relationship Map"}),m.jsx("div",{className:"relationship-map",children:E.map(O=>m.jsx(g0,{summary:O,cards:b,partner1Name:r.partner1Name,partner2Name:r.partner2Name,isExpanded:c===`map-${O.theme}`,onToggle:()=>h(U=>U===`map-${O.theme}`?null:`map-${O.theme}`)},O.theme))})]}),C.length>0&&m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("h3",{style:{marginBottom:"12px",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:" Your Next Steps"}),m.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"12px"},children:"Focus areas based on your biggest growth opportunities"}),m.jsx("div",{className:"growth-steps",children:C.map(O=>m.jsx(v0,{theme:O,isExpanded:c===`growth-${O.theme}`,onToggle:()=>h(U=>U===`growth-${O.theme}`?null:`growth-${O.theme}`)},O.theme))})]}),m.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"24px",textAlign:"center",boxShadow:"var(--card-shadow)"},children:[m.jsx("div",{style:{fontSize:"2rem",marginBottom:"12px"},children:""}),m.jsxs("h3",{style:{marginBottom:"8px",fontSize:"1.1rem"},children:["Great job, ",r.partner1Name," & ",r.partner2Name,"!"]}),m.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"20px",fontSize:"0.9rem"},children:"You've taken a big step toward understanding each other better."}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[m.jsx("button",{className:"btn btn--primary btn--full",onClick:()=>o(!0),children:"Share Your Score "}),m.jsx("button",{className:"btn btn--secondary btn--full",onClick:d,children:"Share game with friends"})]})]}),m.jsx("div",{style:{marginTop:"14px"},children:m.jsx("button",{className:"btn btn--ghost btn--full",onClick:()=>{confirm("Start over? Your progress will be lost.")&&a({type:"RESET_GAME"})},children:"Start Over"})}),s&&m.jsx(p0,{onClose:()=>o(!1)})]})}function b0(){const{state:r,dispatch:a}=kt();switch(re.useEffect(()=>{const o=window.location.pathname.match(/^\/play\/([A-Za-z0-9]{4,12})\/?$/);if(!o)return;const c=o[1].toUpperCase();a({type:"SELECT_MODE",mode:"remote"}),a({type:"SET_REMOTE_SESSION",sessionId:c,playerId:2}),a({type:"NAVIGATE_TO",screen:"inviteAcceptance"})},[a]),re.useEffect(()=>{const s=()=>{const c=document.querySelector('meta[name="viewport"]');c&&c.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")};s();const o=setTimeout(s,100);return()=>clearTimeout(o)},[r.currentScreen]),re.useEffect(()=>{const s=new URLSearchParams(window.location.search);if(s.get("screen")?.trim()==="paymentSuccess"){const c=s.get("checkout_id"),h=s.get("customer_session_token");if(c)try{localStorage.setItem("reveal-checkout-id",c)}catch{}if(h)try{localStorage.setItem("reveal-customer-session-token",h)}catch{}a({type:"COMPLETE_PAYMENT"}),eo({checkoutId:c});let d=null;try{d=localStorage.getItem("reveal-payment-purpose"),localStorage.removeItem("reveal-payment-purpose")}catch{}window.history.replaceState({},"",window.location.pathname),a(d==="remote"?{type:"NAVIGATE_TO",screen:"remoteSetup"}:{type:"NAVIGATE_TO",screen:"paymentSuccess"})}},[a,r.round1Complete]),r.currentScreen){case"landing":return m.jsx(Qm,{});case"remotePayment":return m.jsx(r0,{});case"remoteSetup":return m.jsx(o0,{});case"inviteAcceptance":return m.jsx(u0,{});case"sessionCancelled":return m.jsx(c0,{});case"round1":return m.jsx(Fm,{round:1});case"round1Results":return m.jsx(ep,{});case"paywall":return m.jsx(ep,{});case"paymentSuccess":return m.jsx(m0,{});case"round2":return m.jsx(Fm,{round:2});case"finalResults":return m.jsx(w0,{});default:return m.jsx(Qm,{})}}function S0(){return console.log("[App] Component rendering",{pathname:window.location.pathname}),m.jsxs(i0,{children:[m.jsx(l0,{}),m.jsx(b0,{})]})}tv.createRoot(document.getElementById("root")).render(m.jsx(re.StrictMode,{children:m.jsx(S0,{})}));
